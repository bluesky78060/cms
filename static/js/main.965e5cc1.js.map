{"version":3,"file":"static/js/main.965e5cc1.js","mappings":"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","sources":["services/browserFs.js","services/storage.js","services/xlsxMirror.js","contexts/AppContext.js","contexts/UserContext.js","components/Login.js","components/Navbar.js","components/Dashboard.js","utils/numberToKorean.js","utils/excelUtils.js","components/Invoices.js","components/Clients.js","components/WorkItems.js","components/Estimates.js","utils/imageStorage.js","components/CompanyInfo.js","utils/phoneFormatter.js","components/UserManagement.js","components/AdminPanel.js","App.js","index.tsx","../webpack/bootstrap","../webpack/runtime/chunk loaded","../webpack/runtime/compat get default export","../webpack/runtime/create fake namespace object","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/jsonp chunk loading","../webpack/startup"],"sourcesContent":["// Experimental browser folder storage using File System Access API (Edge/Chrome)\n\nconst DB_NAME = 'cms-fs';\nconst STORE = 'handles';\nconst DIR_KEY = 'dirHandle';\n\nfunction isSupported() {\n  return typeof window !== 'undefined' && 'showDirectoryPicker' in window;\n}\n\nfunction openDb() {\n  return new Promise((resolve, reject) => {\n    const req = indexedDB.open(DB_NAME, 1);\n    req.onupgradeneeded = () => {\n      const db = req.result;\n      if (!db.objectStoreNames.contains(STORE)) db.createObjectStore(STORE);\n    };\n    req.onsuccess = () => resolve(req.result);\n    req.onerror = () => reject(req.error);\n  });\n}\n\nasync function idbGet(key) {\n  const db = await openDb();\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(STORE, 'readonly');\n    const st = tx.objectStore(STORE);\n    const req = st.get(key);\n    req.onsuccess = () => resolve(req.result || null);\n    req.onerror = () => reject(req.error);\n  });\n}\n\nasync function idbSet(key, value) {\n  const db = await openDb();\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(STORE, 'readwrite');\n    const st = tx.objectStore(STORE);\n    const req = st.put(value, key);\n    req.onsuccess = () => resolve();\n    req.onerror = () => reject(req.error);\n  });\n}\n\nasync function getSavedDirectoryHandle() {\n  if (!isSupported()) return null;\n  try {\n    const handle = await idbGet(DIR_KEY);\n    return handle || null;\n  } catch (e) {\n    return null;\n  }\n}\n\nasync function saveDirectoryHandle(handle) {\n  if (!isSupported()) return false;\n  try {\n    await idbSet(DIR_KEY, handle);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nasync function verifyPermission(handle, mode = 'readwrite') {\n  if (!handle) return false;\n  if (await handle.queryPermission({ mode }) === 'granted') return true;\n  if (await handle.requestPermission({ mode }) === 'granted') return true;\n  return false;\n}\n\nasync function chooseDirectory() {\n  if (!isSupported()) return null;\n  try {\n    const handle = await window.showDirectoryPicker({ id: 'cms-data' });\n    if (!(await verifyPermission(handle, 'readwrite'))) return null;\n    await saveDirectoryHandle(handle);\n    return handle;\n  } catch (e) {\n    return null;\n  }\n}\n\nasync function getFileHandle(dirHandle, name) {\n  return await dirHandle.getFileHandle(name, { create: true });\n}\n\nasync function readKey(dirHandle, key) {\n  try {\n    if (!dirHandle) dirHandle = await getSavedDirectoryHandle();\n    if (!dirHandle) return null;\n    if (!(await verifyPermission(dirHandle, 'read'))) return null;\n    const fileHandle = await getFileHandle(dirHandle, `${key}.json`);\n    const file = await fileHandle.getFile();\n    const text = await file.text();\n    if (!text) return null;\n    return JSON.parse(text);\n  } catch (e) {\n    return null;\n  }\n}\n\nasync function writeKey(dirHandle, key, obj) {\n  try {\n    if (!dirHandle) dirHandle = await getSavedDirectoryHandle();\n    if (!dirHandle) return false;\n    if (!(await verifyPermission(dirHandle, 'readwrite'))) return false;\n    const fileHandle = await getFileHandle(dirHandle, `${key}.json`);\n    const writable = await fileHandle.createWritable();\n    await writable.write(new Blob([JSON.stringify(obj, null, 2)], { type: 'application/json' }));\n    await writable.close();\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nasync function writeKeyDirect(key, value) {\n  const dir = await getSavedDirectoryHandle();\n  if (!dir) return false;\n  return await writeKey(dir, key, value);\n}\n\nexport const browserFs = {\n  isSupported,\n  getSavedDirectoryHandle,\n  saveDirectoryHandle,\n  chooseDirectory,\n  readKey,\n  writeKey,\n  writeKeyDirect,\n};\n","// Storage abstraction: Electron JSON file storage if available, else localStorage\n\nimport { browserFs } from './browserFs';\n\nexport const storage = {\n  getItem(key, defaultValue) {\n    try {\n      if (typeof window !== 'undefined' && window.cms && typeof window.cms.storageGetSync === 'function') {\n        const v = window.cms.storageGetSync(key);\n        return v == null ? defaultValue : v;\n      }\n    } catch (e) {}\n    try {\n      const raw = localStorage.getItem(key);\n      return raw ? JSON.parse(raw) : defaultValue;\n    } catch (e) {\n      return defaultValue;\n    }\n  },\n  setItem(key, data) {\n    try {\n      if (typeof window !== 'undefined' && window.cms && typeof window.cms.storageSet === 'function') {\n        window.cms.storageSet(key, data);\n        return;\n      }\n    } catch (e) {}\n    try {\n      localStorage.setItem(key, JSON.stringify(data));\n    } catch (e) {}\n    // Additionally mirror to chosen browser directory if supported\n    if (browserFs.isSupported()) {\n      // Fire and forget; on failure it silently falls back\n      browserFs.writeKeyDirect(key, data).catch(() => {});\n    }\n  },\n  async chooseBrowserDirectory() {\n    if (!browserFs.isSupported()) return false;\n    const handle = await browserFs.chooseDirectory();\n    return !!handle;\n  },\n  async getBrowserDirectoryInfo() {\n    if (!browserFs.isSupported()) return null;\n    const handle = await browserFs.getSavedDirectoryHandle();\n    if (!handle) return null;\n    return { name: handle.name };\n  }\n};\n","// Automatic XLSX mirror of core app data (read-only export for humans)\nimport * as XLSX from 'xlsx';\nimport { browserFs } from './browserFs';\n\nconst XLSX_MIME = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n\nlet timer = null;\nlet lastPayload = null;\n\nfunction toArrayBuffer(workbook) {\n  // Generate an ArrayBuffer for writing via Electron or File System Access\n  const array = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\n  return array; // ArrayBuffer\n}\n\nfunction normalizeArray(arr) {\n  return Array.isArray(arr) ? arr : [];\n}\n\nexport function buildWorkbook(snapshot) {\n  const {\n    companyInfo = {},\n    clients = [],\n    workItems = [],\n    invoices = [],\n    estimates = [],\n    units = [],\n    categories = [],\n  } = snapshot || {};\n\n  const wb = XLSX.utils.book_new();\n\n  // Company (single row)\n  const companyRows = [companyInfo];\n  const wsCompany = XLSX.utils.json_to_sheet(companyRows);\n  XLSX.utils.book_append_sheet(wb, wsCompany, 'Company');\n\n  // Core entities\n  const wsClients = XLSX.utils.json_to_sheet(normalizeArray(clients));\n  XLSX.utils.book_append_sheet(wb, wsClients, 'Clients');\n\n  const wsWorkItems = XLSX.utils.json_to_sheet(normalizeArray(workItems));\n  XLSX.utils.book_append_sheet(wb, wsWorkItems, 'WorkItems');\n\n  const wsInvoices = XLSX.utils.json_to_sheet(normalizeArray(invoices));\n  XLSX.utils.book_append_sheet(wb, wsInvoices, 'Invoices');\n\n  const wsEstimates = XLSX.utils.json_to_sheet(normalizeArray(estimates));\n  XLSX.utils.book_append_sheet(wb, wsEstimates, 'Estimates');\n\n  // Lookups\n  const wsUnits = XLSX.utils.json_to_sheet(normalizeArray(units).map(v => ({ unit: v })));\n  XLSX.utils.book_append_sheet(wb, wsUnits, 'Units');\n\n  const wsCategories = XLSX.utils.json_to_sheet(normalizeArray(categories).map(v => ({ category: v })));\n  XLSX.utils.book_append_sheet(wb, wsCategories, 'Categories');\n\n  return wb;\n}\n\nasync function writeViaElectron(ab) {\n  if (typeof window === 'undefined') return false;\n  const api = window.cms;\n  if (!api || typeof api.writeXlsx !== 'function') return false;\n  try {\n    // Send as Uint8Array for efficient IPC transfer\n    const uint = new Uint8Array(ab);\n    await api.writeXlsx(uint, 'latest.xlsx');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nasync function writeViaBrowserFs(ab) {\n  try {\n    if (!browserFs.isSupported()) return false;\n    const dir = await browserFs.getSavedDirectoryHandle();\n    if (!dir) return false;\n    const fileHandle = await dir.getFileHandle('latest.xlsx', { create: true });\n    const writable = await fileHandle.createWritable();\n    await writable.write(new Blob([ab], { type: XLSX_MIME }));\n    await writable.close();\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport async function mirrorNow(snapshot) {\n  try {\n    const wb = buildWorkbook(snapshot);\n    const ab = toArrayBuffer(wb);\n    // Prefer Electron path; fallback to browser directory if previously granted\n    const okElectron = await writeViaElectron(ab);\n    if (okElectron) return true;\n    const okBrowser = await writeViaBrowserFs(ab);\n    return okBrowser;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function scheduleMirror(snapshot, delayMs = 1000) {\n  lastPayload = snapshot;\n  if (timer) clearTimeout(timer);\n  timer = setTimeout(() => {\n    mirrorNow(lastPayload);\n  }, delayMs);\n}\n\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { storage } from '../services/storage';\nimport { scheduleMirror } from '../services/xlsxMirror';\n\n// Context \nconst AppContext = createContext();\n\n// Custom Hook for using context\nexport const useApp = () => {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp must be used within an AppProvider');\n  }\n  return context;\n};\n\n// localStorage  \nconst STORAGE_KEYS = {\n  COMPANY_INFO: 'constructionApp_companyInfo',\n  CLIENTS: 'constructionApp_clients',\n  WORK_ITEMS: 'constructionApp_workItems',\n  INVOICES: 'constructionApp_invoices',\n  ESTIMATES: 'constructionApp_estimates',\n  UNITS: 'constructionApp_units',\n  CATEGORIES: 'constructionApp_categories',\n  STAMP_IMAGE: 'constructionApp_stampImage'\n};\n\n// localStorage  \nconst loadFromStorage = (key, defaultValue) => storage.getItem(key, defaultValue);\nconst saveToStorage = (key, data) => storage.setItem(key, data);\n\n// Provider \nexport const AppProvider = ({ children }) => {\n  //   \n  const defaultCompanyInfo = {\n    name: '',\n    businessNumber: '123-45-67890',\n    address: '   123',\n    phone: '02-1234-5678',\n    email: 'info@hangeonconstruction.com',\n    representative: '',\n    bankAccount: ' 110-123-456789',\n    accountHolder: '()'\n  };\n\n  //  \n  const [companyInfo, setCompanyInfo] = useState(() => \n    loadFromStorage(STORAGE_KEYS.COMPANY_INFO, defaultCompanyInfo)\n  );\n  const defaultClients = [\n    {\n      id: 1,\n      name: '',\n      phone: '010-1234-5678',\n      email: 'kim@email.com',\n      address: '   123',\n      workplaces: [\n        {\n          id: 1,\n          name: ' ',\n          address: '   123-45',\n          description: '  '\n        },\n        {\n          id: 2,\n          name: ' ',\n          address: '   123-45',\n          description: '     '\n        }\n      ],\n      projects: [' '],\n      totalBilled: 12000000,\n      outstanding: 3500000,\n      notes: ' ,  '\n    },\n    {\n      id: 2,\n      name: '',\n      phone: '010-2345-6789',\n      email: 'park@email.com',\n      address: '   456',\n      workplaces: [\n        {\n          id: 1,\n          name: ' ',\n          address: '    101 503',\n          description: '   '\n        }\n      ],\n      projects: [' '],\n      totalBilled: 5200000,\n      outstanding: 1200000,\n      notes: ' '\n    },\n    {\n      id: 3,\n      name: '',\n      phone: '010-3456-7890',\n      email: 'lee@email.com',\n      address: '   789',\n      workplaces: [\n        {\n          id: 1,\n          name: ' 1',\n          address: '    1',\n          description: '    '\n        },\n        {\n          id: 2,\n          name: ' 2',\n          address: '    2',\n          description: '  '\n        }\n      ],\n      projects: [' '],\n      totalBilled: 7800000,\n      outstanding: 2600000,\n      notes: '  '\n    },\n    {\n      id: 4,\n      name: '',\n      phone: '010-4567-8901',\n      email: 'jung@email.com',\n      address: '    321',\n      workplaces: [\n        {\n          id: 1,\n          name: ' ',\n          address: '     15 702',\n          description: '   '\n        }\n      ],\n      projects: [' '],\n      totalBilled: 1500000,\n      outstanding: 0,\n      notes: ' '\n    }\n  ];\n\n  //  \n  const [clients, setClients] = useState(() => \n    loadFromStorage(STORAGE_KEYS.CLIENTS, defaultClients)\n  );\n\n  const defaultWorkItems = [\n    {\n      id: 1,\n      clientId: 1,\n      clientName: '',\n      workplaceId: 1,\n      workplaceName: ' ',\n      name: '',\n      category: '',\n      defaultPrice: 3000000,\n      quantity: 1,\n      unit: '',\n      description: '    ',\n      projectName: ' ',\n      status: '',\n      date: '2024-09-01',\n      notes: '   '\n    },\n    {\n      id: 2,\n      clientId: 1,\n      clientName: '',\n      workplaceId: 1,\n      workplaceName: ' ',\n      name: '',\n      category: '',\n      defaultPrice: 4000000,\n      quantity: 1,\n      unit: '',\n      description: '    ',\n      projectName: ' ',\n      status: '',\n      date: '2024-08-28',\n      notes: '    '\n    },\n    {\n      id: 3,\n      clientId: 2,\n      clientName: '',\n      workplaceId: 1,\n      workplaceName: ' ',\n      name: ' ',\n      category: '',\n      defaultPrice: 50000,\n      quantity: 25,\n      unit: '',\n      description: '     ',\n      projectName: ' ',\n      status: '',\n      date: '2024-08-25',\n      notes: '     '\n    },\n    {\n      id: 4,\n      clientId: 2,\n      clientName: '',\n      workplaceId: 1,\n      workplaceName: ' ',\n      name: ' ',\n      category: '',\n      defaultPrice: 1200000,\n      quantity: 1,\n      unit: '',\n      description: '    ',\n      projectName: ' ',\n      status: '',\n      date: '2024-09-02',\n      notes: '     '\n    },\n    {\n      id: 5,\n      clientId: 3,\n      clientName: '',\n      workplaceId: 1,\n      workplaceName: ' 1',\n      name: ' ',\n      category: '',\n      defaultPrice: 120000,\n      quantity: 30,\n      unit: '',\n      description: '  ',\n      projectName: ' ',\n      status: '',\n      date: '2024-08-20',\n      notes: '    '\n    },\n    {\n      id: 6,\n      clientId: 3,\n      clientName: '',\n      workplaceId: 2,\n      workplaceName: ' 2',\n      name: '',\n      category: '',\n      defaultPrice: 1500000,\n      quantity: 1,\n      unit: '',\n      description: '    ',\n      projectName: ' ',\n      status: '',\n      date: '2024-09-10',\n      notes: '    '\n    },\n    {\n      id: 7,\n      clientId: 4,\n      clientName: '',\n      workplaceId: 1,\n      workplaceName: ' ',\n      name: ' ',\n      category: '',\n      defaultPrice: 500000,\n      quantity: 1,\n      unit: '',\n      description: '  ',\n      projectName: ' ',\n      status: '',\n      date: '2024-08-15',\n      notes: '    '\n    },\n    {\n      id: 8,\n      clientId: 4,\n      clientName: '',\n      workplaceId: 1,\n      workplaceName: ' ',\n      name: ' ',\n      category: '',\n      defaultPrice: 1000000,\n      quantity: 1,\n      unit: '',\n      description: '    ',\n      projectName: ' ',\n      status: '',\n      date: '2024-08-22',\n      notes: '   '\n    }\n  ];\n\n  //   \n  const [workItems, setWorkItems] = useState(() => \n    loadFromStorage(STORAGE_KEYS.WORK_ITEMS, defaultWorkItems)\n  );\n\n  const defaultInvoices = [\n    {\n      id: 'INV-2024-001',\n      client: '',\n      project: ' ',\n      workplaceAddress: '   123-45',\n      amount: 8500000,\n      status: '',\n      date: '2024-09-01',\n      dueDate: '2024-09-15',\n      workItems: [\n        { name: '', quantity: 1, unitPrice: 3000000, total: 3000000, description: '    ', category: '', notes: '   ' },\n        { name: '', quantity: 1, unitPrice: 4000000, total: 4000000, description: '    ', category: '', notes: '    ' },\n        { name: '', quantity: 1, unitPrice: 1500000, total: 1500000, description: '   ', category: '', notes: '   ' }\n      ]\n    },\n    {\n      id: 'INV-2024-002',\n      client: '',\n      project: ' ',\n      workplaceAddress: '    101 503',\n      amount: 3200000,\n      status: '',\n      date: '2024-08-28',\n      dueDate: '2024-09-12',\n      workItems: [\n        { name: ' ', quantity: 25, unitPrice: 50000, total: 1250000, description: '     ', category: '', notes: '     ' },\n        { name: ' ', quantity: 1, unitPrice: 1200000, total: 1200000, description: '    ', category: '', notes: '     ' },\n        { name: ' ', quantity: 1, unitPrice: 750000, total: 750000, description: '  ', category: '', notes: '   ' }\n      ]\n    },\n    {\n      id: 'INV-2024-003',\n      client: '',\n      project: ' ',\n      workplaceAddress: '    1',\n      amount: 5800000,\n      status: '',\n      date: '2024-08-25',\n      dueDate: '2024-09-08',\n      workItems: [\n        { name: ' ', quantity: 30, unitPrice: 120000, total: 3600000, description: '  ', category: '', notes: '    ' },\n        { name: '', quantity: 1, unitPrice: 1500000, total: 1500000, description: '    ', category: '', notes: '    ' },\n        { name: ' ', quantity: 1, unitPrice: 700000, total: 700000, description: '    ', category: '', notes: '   ' }\n      ]\n    },\n    {\n      id: 'INV-2024-004',\n      client: '',\n      project: ' ',\n      workplaceAddress: '     15 702',\n      amount: 1500000,\n      status: '',\n      date: '2024-08-22',\n      dueDate: '2024-09-05',\n      workItems: [\n        { name: ' ', quantity: 1, unitPrice: 500000, total: 500000, description: '  ', category: '', notes: '    ' },\n        { name: ' ', quantity: 1, unitPrice: 1000000, total: 1000000, description: '    ', category: '', notes: '   ' }\n      ]\n    }\n  ];\n\n  //  \n  const [invoices, setInvoices] = useState(() => \n    loadFromStorage(STORAGE_KEYS.INVOICES, defaultInvoices)\n  );\n\n  const defaultEstimates = [\n    {\n      id: 'EST-2024-001',\n      clientId: 1,\n      clientName: '',\n      workplaceId: 1,\n      workplaceName: ' ',\n      workplaceAddress: '   123-45',\n      projectName: ' ',\n      title: '   ',\n      date: '2024-08-15',\n      validUntil: '2024-09-15',\n      status: '',\n      totalAmount: 85000000,\n      items: [\n        {\n          id: 1,\n          category: '',\n          name: '',\n          description: '    ',\n          quantity: 1,\n          unit: '',\n          unitPrice: 30000000,\n          total: 30000000,\n          notes: '   '\n        },\n        {\n          id: 2,\n          category: '',\n          name: '',\n          description: '    ',\n          quantity: 1,\n          unit: '',\n          unitPrice: 40000000,\n          total: 40000000,\n          notes: '    '\n        },\n        {\n          id: 3,\n          category: '',\n          name: ' ',\n          description: '    ',\n          quantity: 1,\n          unit: '',\n          unitPrice: 15000000,\n          total: 15000000,\n          notes: '  '\n        }\n      ],\n      notes: ' ,      '\n    },\n    {\n      id: 'EST-2024-002',\n      clientId: 2,\n      clientName: '',\n      workplaceId: 1,\n      workplaceName: ' ',\n      workplaceAddress: '    101 503',\n      projectName: ' ',\n      title: '   ',\n      date: '2024-08-10',\n      validUntil: '2024-09-10',\n      status: '',\n      totalAmount: 32000000,\n      items: [\n        {\n          id: 1,\n          category: '',\n          name: ' ',\n          description: '     ',\n          quantity: 25,\n          unit: '',\n          unitPrice: 500000,\n          total: 12500000,\n          notes: '     '\n        },\n        {\n          id: 2,\n          category: '',\n          name: '   ',\n          description: '     ',\n          quantity: 1,\n          unit: '',\n          unitPrice: 19500000,\n          total: 19500000,\n          notes: '   '\n        }\n      ],\n      notes: '   30 '\n    }\n  ];\n\n  //  \n  const [estimates, setEstimates] = useState(() => \n    loadFromStorage(STORAGE_KEYS.ESTIMATES, defaultEstimates)\n  );\n\n  //     \n  const defaultUnits = ['', '', '', '', 'm', 'kg', '', ''];\n  const defaultCategories = ['', '', '', '', '', '', ''];\n\n  //    \n  const [units, setUnits] = useState(() => \n    loadFromStorage(STORAGE_KEYS.UNITS, defaultUnits)\n  );\n  const [categories, setCategories] = useState(() => \n    loadFromStorage(STORAGE_KEYS.CATEGORIES, defaultCategories)\n  );\n\n  //   \n  const [stampImage, setStampImage] = useState(() => \n    loadFromStorage(STORAGE_KEYS.STAMP_IMAGE, null)\n  );\n\n  //     \n  const getCompletedWorkItems = () => {\n    return workItems.filter(item => item.status === '');\n  };\n\n  //      \n  const getCompletedWorkItemsByClient = (clientId) => {\n    return workItems.filter(item => item.clientId === clientId && item.status === '');\n  };\n\n  //       \n  const addWorkItemToInvoice = (workItem, quantity = null, unitPrice = null) => {\n    const finalQuantity = quantity !== null ? quantity : (workItem.quantity || 1);\n    const finalUnitPrice = unitPrice || workItem.defaultPrice;\n    const laborPersons = parseInt(workItem.laborPersons || 0, 10) || 0;\n    const laborUnitRate = parseInt(workItem.laborUnitRate || 0, 10) || 0;\n    const laborPersonsGeneral = parseInt(workItem.laborPersonsGeneral || 0, 10) || 0;\n    const laborUnitRateGeneral = parseInt(workItem.laborUnitRateGeneral || 0, 10) || 0;\n    const laborCost = (laborPersons * laborUnitRate) + (laborPersonsGeneral * laborUnitRateGeneral);\n    return {\n      name: workItem.name,\n      quantity: finalQuantity,\n      unit: workItem.unit,\n      unitPrice: finalUnitPrice,\n      total: (finalQuantity * finalUnitPrice) + laborCost,\n      laborPersons,\n      laborUnitRate,\n      laborPersonsGeneral,\n      laborUnitRateGeneral,\n      description: workItem.description,\n      category: workItem.category,\n      date: workItem.date || '',\n      notes: workItem.notes || ''\n    };\n  };\n\n  //    localStorage \n  useEffect(() => {\n    saveToStorage(STORAGE_KEYS.COMPANY_INFO, companyInfo);\n  }, [companyInfo]);\n\n  useEffect(() => {\n    saveToStorage(STORAGE_KEYS.CLIENTS, clients);\n  }, [clients]);\n\n  useEffect(() => {\n    saveToStorage(STORAGE_KEYS.WORK_ITEMS, workItems);\n  }, [workItems]);\n\n  useEffect(() => {\n    saveToStorage(STORAGE_KEYS.INVOICES, invoices);\n  }, [invoices]);\n\n  useEffect(() => {\n    saveToStorage(STORAGE_KEYS.ESTIMATES, estimates);\n  }, [estimates]);\n\n  useEffect(() => {\n    saveToStorage(STORAGE_KEYS.UNITS, units);\n  }, [units]);\n\n  useEffect(() => {\n    saveToStorage(STORAGE_KEYS.CATEGORIES, categories);\n  }, [categories]);\n\n  useEffect(() => {\n    saveToStorage(STORAGE_KEYS.STAMP_IMAGE, stampImage);\n  }, [stampImage]);\n\n  // Auto XLSX mirror: debounce and write a read-only workbook for human readability\n  useEffect(() => {\n    const snapshot = {\n      companyInfo,\n      clients,\n      workItems,\n      invoices,\n      estimates,\n      units,\n      categories,\n    };\n    // Debounced mirror to minimize IO\n    scheduleMirror(snapshot, 1000);\n  }, [companyInfo, clients, workItems, invoices, estimates, units, categories]);\n\n  //     \n  const convertEstimateToWorkItems = (estimateId) => {\n    const estimate = estimates.find(est => est.id === estimateId);\n    if (!estimate) return [];\n\n    const newWorkItems = estimate.items.map((item, index) => ({\n      id: Math.max(...workItems.map(i => i.id)) + index + 1,\n      clientId: estimate.clientId,\n      clientName: estimate.clientName,\n      workplaceId: estimate.workplaceId,\n      workplaceName: estimate.workplaceName,\n      projectName: estimate.projectName,\n      name: item.name,\n      category: item.category,\n      defaultPrice: item.unitPrice,\n      quantity: item.quantity,\n      unit: item.unit,\n      description: item.description,\n      status: '',\n      date: new Date().toISOString().split('T')[0],\n      notes: item.notes || ''\n    }));\n\n    setWorkItems(prev => [...prev, ...newWorkItems]);\n    \n    //   ' ' \n    setEstimates(prev => prev.map(est => \n      est.id === estimateId \n        ? { ...est, status: ' ' }\n        : est\n    ));\n\n    return newWorkItems;\n  };\n\n  const value = {\n    companyInfo,\n    setCompanyInfo,\n    clients,\n    setClients,\n    workItems,\n    setWorkItems,\n    invoices,\n    setInvoices,\n    estimates,\n    setEstimates,\n    units,\n    setUnits,\n    categories,\n    setCategories,\n    stampImage,\n    setStampImage,\n    getCompletedWorkItems,\n    getCompletedWorkItemsByClient,\n    addWorkItemToInvoice,\n    convertEstimateToWorkItems\n  };\n\n  return (\n    <AppContext.Provider value={value}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n","import React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst UserContext = createContext();\n\nexport const useUser = () => {\n  const context = useContext(UserContext);\n  if (!context) {\n    throw new Error('useUser must be used within a UserProvider');\n  }\n  return context;\n};\n\nexport const UserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    const defaultUsers = [\n      { id: 1, username: 'admin', password: 'admin123', name: '', role: 'admin' },\n      { id: 2, username: 'manager', password: 'manager123', name: '', role: 'manager' },\n      { id: 3, username: 'user', password: 'user123', name: '', role: 'user' }\n    ];\n    const users = localStorage.getItem('CMS_USERS');\n    if (!users) {\n      localStorage.setItem('CMS_USERS', JSON.stringify(defaultUsers));\n    }\n\n    const savedUser = sessionStorage.getItem('CURRENT_USER');\n    if (savedUser) {\n      setCurrentUser(JSON.parse(savedUser));\n      setIsLoggedIn(true);\n    } else {\n      //    \n      localStorage.removeItem('CURRENT_USER');\n    }\n  }, []);\n\n  const login = (username, password) => {\n    const users = JSON.parse(localStorage.getItem('CMS_USERS') || '[]');\n    const user = users.find(u => u.username === username && u.password === password);\n    \n    if (user) {\n      setCurrentUser(user);\n      setIsLoggedIn(true);\n      sessionStorage.setItem('CURRENT_USER', JSON.stringify(user));\n      return { success: true, user };\n    } else {\n      return { success: false, error: '    .' };\n    }\n  };\n\n  const logout = () => {\n    setCurrentUser(null);\n    setIsLoggedIn(false);\n    try { sessionStorage.removeItem('CURRENT_USER'); } catch (e) {}\n    try { localStorage.removeItem('CURRENT_USER'); } catch (e) {}\n    //    \n    try {\n      localStorage.setItem('CMS_LOGOUT', String(Date.now()));\n      localStorage.removeItem('CMS_LOGOUT');\n    } catch (e) {}\n  };\n\n  const getUserStorageKey = (username, key) => {\n    return `USER_${username}_${key}`;\n  };\n\n  const getAllUsers = () => {\n    return JSON.parse(localStorage.getItem('CMS_USERS') || '[]');\n  };\n\n  const addUser = (userData) => {\n    const users = getAllUsers();\n    const newUser = {\n      ...userData,\n      id: Math.max(0, ...users.map(u => u.id)) + 1\n    };\n    \n    if (users.find(u => u.username === userData.username)) {\n      return { success: false, error: '  .' };\n    }\n\n    users.push(newUser);\n    localStorage.setItem('CMS_USERS', JSON.stringify(users));\n    return { success: true, user: newUser };\n  };\n\n  const updateUser = (userId, userData) => {\n    const users = getAllUsers();\n    const userIndex = users.findIndex(u => u.id === userId);\n    \n    if (userIndex === -1) {\n      return { success: false, error: '   .' };\n    }\n\n    const existingUser = users.find(u => u.username === userData.username && u.id !== userId);\n    if (existingUser) {\n      return { success: false, error: '  .' };\n    }\n\n    users[userIndex] = { ...users[userIndex], ...userData };\n    localStorage.setItem('CMS_USERS', JSON.stringify(users));\n    \n    if (currentUser && currentUser.id === userId) {\n      const updatedUser = users[userIndex];\n      setCurrentUser(updatedUser);\n      localStorage.setItem('CURRENT_USER', JSON.stringify(updatedUser));\n    }\n\n    return { success: true, user: users[userIndex] };\n  };\n\n  const deleteUser = (userId) => {\n    const users = getAllUsers();\n    const filteredUsers = users.filter(u => u.id !== userId);\n    \n    if (users.length === filteredUsers.length) {\n      return { success: false, error: '   .' };\n    }\n\n    localStorage.setItem('CMS_USERS', JSON.stringify(filteredUsers));\n    \n    if (currentUser && currentUser.id === userId) {\n      logout();\n    }\n\n    return { success: true };\n  };\n\n  const isAdmin = () => {\n    return currentUser && currentUser.role === 'admin';\n  };\n\n  const value = {\n    currentUser,\n    isLoggedIn,\n    login,\n    logout,\n    getUserStorageKey,\n    getAllUsers,\n    addUser,\n    updateUser,\n    deleteUser,\n    isAdmin\n  };\n\n  // 1   \n  useEffect(() => {\n    if (!isLoggedIn) return;\n    let timerId;\n    const TIMEOUT = 60 * 60 * 1000;\n    const reset = () => {\n      clearTimeout(timerId);\n      timerId = setTimeout(() => {\n        logout();\n      }, TIMEOUT);\n    };\n    const events = ['mousemove', 'mousedown', 'keydown', 'scroll', 'touchstart'];\n    events.forEach(ev => window.addEventListener(ev, reset, { passive: true }));\n    reset();\n    return () => {\n      clearTimeout(timerId);\n      events.forEach(ev => window.removeEventListener(ev, reset));\n    };\n  }, [isLoggedIn]);\n\n  //    , /   Storage  .\n  //  beforeunload/pagehide     .\n\n  //       \n  useEffect(() => {\n    const onStorage = (e) => {\n      if (e.key === 'CMS_LOGOUT') {\n        setCurrentUser(null);\n        setIsLoggedIn(false);\n        try { sessionStorage.removeItem('CURRENT_USER'); } catch (err) {}\n        try { localStorage.removeItem('CURRENT_USER'); } catch (err) {}\n      }\n    };\n    window.addEventListener('storage', onStorage);\n    return () => window.removeEventListener('storage', onStorage);\n  }, []);\n\n  return (\n    <UserContext.Provider value={value}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\n//  :  /     \n// ( CURRENT_USER        )\n//     \n\nexport default UserProvider;\n","import React, { useState } from 'react';\nimport { useUser } from '../contexts/UserContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = useUser();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    if (!username || !password) {\n      setError('  .');\n      setLoading(false);\n      return;\n    }\n\n    const result = login(username, password);\n    \n    if (result.success) {\n      //     \n      if (result.user && result.user.role === 'admin') {\n        navigate('/admin');\n      }\n      //      (App.js )\n    } else {\n      setError(result.error);\n    }\n\n    setLoading(false);\n  };\n\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center\">\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">  </h1>\n          <p className=\"text-gray-600\"> </p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div>\n            <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              \n            </label>\n            <input\n              id=\"username\"\n              type=\"text\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\" \"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              \n            </label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\" \"\n            />\n          </div>\n\n          {error && (\n            <div className=\"p-3 bg-red-50 border border-red-200 rounded-md\">\n              <p className=\"text-red-700 text-sm\">{error}</p>\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {loading ? ' ...' : ''}\n          </button>\n        </form>\n\n\n        <div className=\"mt-6 text-xs text-gray-500 text-center\">\n          <p>   v1.0</p>\n          <p> 2025 Construction Management System</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useUser } from '../contexts/UserContext';\nimport { \n  HomeIcon, \n  DocumentTextIcon,\n  UsersIcon,\n  WrenchScrewdriverIcon,\n  CogIcon,\n  CalculatorIcon,\n  BuildingOffice2Icon,\n  UserIcon,\n  ShieldCheckIcon\n} from '@heroicons/react/24/outline';\n\nfunction Navbar() {\n  const location = useLocation();\n  const { currentUser, isAdmin, logout } = useUser();\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const menuRef = useRef(null);\n\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setShowUserMenu(false);\n      }\n    };\n    const handleKeyDown = (e) => {\n      if (e.key === 'Escape') setShowUserMenu(false);\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n\n  const isActive = (path) => {\n    return location.pathname === path;\n  };\n\n  return (\n    <nav className=\"bg-blue-600 text-white shadow-lg\">\n      <div className=\"max-w-screen-2xl mx-auto pl-0.5 pr-0.5\">\n        <div className=\"flex items-center justify-between h-20\">\n          <div className=\"flex items-center ml-0.5\">\n            {isAdmin() ? (\n              <div className=\"text-xl font-bold flex items-center space-x-2 cursor-default select-none\">\n                <BuildingOffice2Icon className=\"h-8 w-8\" />\n                <span> / </span>\n              </div>\n            ) : (\n              <Link to=\"/\" className=\"text-xl font-bold flex items-center space-x-2\">\n                <BuildingOffice2Icon className=\"h-8 w-8\" />\n                <span> / </span>\n              </Link>\n            )}\n          </div>\n          \n          <div className=\"hidden md:block\">\n            {isAdmin() ? (\n              <div className=\"ml-6 md:ml-8 lg:ml-10\" />\n            ) : (\n              <div className=\"ml-2 md:ml-4 lg:ml-6 flex items-baseline space-x-3 md:space-x-4 lg:space-x-6\">\n                <Link\n                  to=\"/\"\n                  className={`px-2 md:px-3 py-2 rounded-md text-xs md:text-sm font-medium flex items-center space-x-1 ${\n                    isActive('/') \n                      ? 'bg-blue-700 text-white' \n                      : 'text-blue-100 hover:bg-blue-500 hover:text-white'\n                  }`}\n                >\n                  <HomeIcon className=\"h-5 w-5\" />\n                  <span></span>\n                </Link>\n                <Link\n                  to=\"/estimates\"\n                  className={`px-2 md:px-3 py-2 rounded-md text-xs md:text-sm font-medium flex items-center space-x-1 ${\n                    isActive('/estimates') \n                      ? 'bg-blue-700 text-white' \n                      : 'text-blue-100 hover:bg-blue-500 hover:text-white'\n                  }`}\n                >\n                  <CalculatorIcon className=\"h-5 w-5\" />\n                  <span> </span>\n                </Link>\n                <Link\n                  to=\"/invoices\"\n                  className={`px-2 md:px-3 py-2 rounded-md text-xs md:text-sm font-medium flex items-center space-x-1 ${\n                    isActive('/invoices') \n                      ? 'bg-blue-700 text-white' \n                      : 'text-blue-100 hover:bg-blue-500 hover:text-white'\n                  }`}\n                >\n                  <DocumentTextIcon className=\"h-5 w-5\" />\n                  <span> </span>\n                </Link>\n                <Link\n                  to=\"/clients\"\n                  className={`px-2 md:px-3 py-2 rounded-md text-xs md:text-sm font-medium flex items-center space-x-1 ${\n                    isActive('/clients') \n                      ? 'bg-blue-700 text-white' \n                      : 'text-blue-100 hover:bg-blue-500 hover:text-white'\n                  }`}\n                >\n                  <UsersIcon className=\"h-5 w-5\" />\n                  <span> </span>\n                </Link>\n                <Link\n                  to=\"/work-items\"\n                  className={`px-2 md:px-3 py-2 rounded-md text-xs md:text-sm font-medium flex items-center space-x-1 ${\n                    isActive('/work-items') \n                      ? 'bg-blue-700 text-white' \n                      : 'text-blue-100 hover:bg-blue-500 hover:text-white'\n                  }`}\n                >\n                  <WrenchScrewdriverIcon className=\"h-5 w-5\" />\n                  <span>  </span>\n                </Link>\n                <Link\n                  to=\"/company-info\"\n                className={`px-2 md:px-3 py-2 rounded-md text-xs md:text-sm font-medium flex items-center space-x-1 ${\n                  isActive('/company-info') \n                    ? 'bg-blue-700 text-white' \n                    : 'text-blue-100 hover:bg-blue-500 hover:text-white'\n                }`}\n                >\n                  <CogIcon className=\"h-5 w-5\" />\n                  <span></span>\n                </Link>\n              </div>\n            )}\n          </div>\n\n          <div className=\"relative mr-0.5\" ref={menuRef}>\n            <button\n              onClick={() => setShowUserMenu(!showUserMenu)}\n              className=\"flex items-center space-x-2 px-3 py-2 rounded-md text-blue-100 hover:bg-blue-500 hover:text-white\"\n            >\n              {isAdmin() ? (\n                <>\n                  <ShieldCheckIcon className=\"h-5 w-5\" aria-label=\"\" />\n                  <span></span>\n                </>\n              ) : (\n                <>\n                  <UserIcon className=\"h-5 w-5\" aria-label=\"\" />\n                  <span>{currentUser?.name || currentUser?.username}</span>\n                </>\n              )}\n            </button>\n\n            {showUserMenu && (\n              <div className=\"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg z-50 border border-gray-200\">\n                <div className=\"py-2\">\n                  <div className=\"px-4 pb-2 text-sm text-gray-700 border-b border-gray-100\">\n                    <p className=\"font-medium\">{currentUser?.name}</p>\n                    <p className=\"text-gray-500\">{currentUser?.username}</p>\n                    <p className=\"text-xs text-gray-400 mt-1\">: {currentUser?.role === 'admin' ? '' : currentUser?.role === 'manager' ? '' : ''}</p>\n                  </div>\n                  <button\n                    onClick={() => {\n                      setShowUserMenu(false);\n                      logout();\n                    }}\n                    className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50\"\n                  >\n                    \n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n","import React, { useMemo, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useApp } from '../contexts/AppContext';\n\nfunction Dashboard() {\n  const {\n    invoices, clients,\n    companyInfo, workItems, estimates, units, categories, stampImage,\n    setCompanyInfo, setClients, setWorkItems, setInvoices, setEstimates, setUnits, setCategories, setStampImage\n  } = useApp();\n  const restoreInputRef = useRef(null);\n  const formatCurrency = (n) => `${(n || 0).toLocaleString()}`;\n\n  const recentInvoices = useMemo(() => {\n    const list = (invoices || []).slice().sort((a, b) => (b.date || '').localeCompare(a.date || ''));\n    return list.slice(0, 5);\n  }, [invoices]);\n\n  const total = useMemo(() => (invoices || []).reduce((s, i) => s + (i.amount || 0), 0), [invoices]);\n  const paid = useMemo(() => (invoices || []).filter(i => i.status === '').reduce((s, i) => s + (i.amount || 0), 0), [invoices]);\n  const pending = total - paid;\n\n  const stats = [\n    { title: ' ', value: formatCurrency(total), color: 'bg-blue-500', icon: '' },\n    { title: '()', value: formatCurrency(pending), color: 'bg-orange-500', icon: '' },\n    { title: '', value: formatCurrency(paid), color: 'bg-green-500', icon: '' },\n    { title: ' ', value: String((clients || []).length), color: 'bg-purple-500', icon: '', href: '/clients' }\n  ];\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mb-8 flex items-start justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\"></h1>\n          <p className=\"text-gray-600\">    </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={() => {\n              const payload = {\n                meta: { exportedAt: new Date().toISOString(), app: 'Construction Management System' },\n                companyInfo, clients, workItems, invoices, estimates, units, categories, stampImage,\n              };\n              const blob = new Blob([JSON.stringify(payload, null, 2)], { type: 'application/json;charset=utf-8' });\n              const url = URL.createObjectURL(blob);\n              const a = document.createElement('a');\n              const stampStr = new Date().toISOString().replace(/[:.]/g, '-');\n              a.href = url;\n              a.download = `cms-backup-${stampStr}.json`;\n              a.click();\n              URL.revokeObjectURL(url);\n            }}\n            className=\"bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium px-4 py-2 rounded-md\"\n            title=\"  JSON \"\n          >\n             \n          </button>\n          <input\n            ref={restoreInputRef}\n            type=\"file\"\n            accept=\"application/json\"\n            onChange={async (e) => {\n              const file = e.target.files?.[0];\n              if (!file) return;\n              try {\n                const text = await file.text();\n                const data = JSON.parse(text);\n                if (data.companyInfo) setCompanyInfo(data.companyInfo);\n                if (Array.isArray(data.clients)) setClients(data.clients);\n                if (Array.isArray(data.workItems)) setWorkItems(data.workItems);\n                if (Array.isArray(data.invoices)) setInvoices(data.invoices);\n                if (Array.isArray(data.estimates)) setEstimates(data.estimates);\n                if (Array.isArray(data.units)) setUnits(data.units);\n                if (Array.isArray(data.categories)) setCategories(data.categories);\n                if (data.stampImage !== undefined) setStampImage(data.stampImage);\n                alert('  .');\n              } catch (err) {\n                console.error(' :', err);\n                alert('   .    .');\n              } finally {\n                if (restoreInputRef.current) restoreInputRef.current.value = '';\n              }\n            }}\n            className=\"hidden\"\n          />\n          <button\n            onClick={() => restoreInputRef.current?.click()}\n            className=\"bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium px-4 py-2 rounded-md\"\n            title=\" JSON \"\n          >\n             \n          </button>\n        </div>\n      </div>\n\n      {/*   */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        {stats.map((stat, index) => {\n          const valueSize = (\n            stat.title === ' ' ||\n            stat.title === '' ||\n            stat.title === '()' ||\n            stat.title === ' '\n          ) ? 'text-xl' : 'text-3xl';\n          const Card = (\n            <div className=\"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600 mb-1\">{stat.title}</p>\n                  <p className={`${valueSize} font-bold text-gray-900`}>{stat.value}</p>\n                </div>\n                <div className={`${stat.color} rounded-full p-3 text-white text-2xl`}>\n                  {stat.icon}\n                </div>\n              </div>\n            </div>\n          );\n          return (\n            <div key={index} className=\"rounded-lg\">\n              {stat.href ? (\n                <Link to={stat.href} aria-label={`${stat.title}  `} className=\"block focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-lg\">\n                  {Card}\n                </Link>\n              ) : (\n                Card\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {/*   */}\n      <div className=\"mt-6 bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-md px-4 py-3\">\n                .          .\n      </div>\n\n      {/*   */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-xl font-semibold text-gray-900\"> </h2>\n        </div>\n        <div className=\"p-6\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full\">\n              <thead>\n                <tr className=\"border-b border-gray-200\">\n                  <th className=\"text-left py-2 text-sm font-medium text-gray-600\"></th>\n                  <th className=\"text-left py-2 text-sm font-medium text-gray-600\"></th>\n                  <th className=\"text-left py-2 text-sm font-medium text-gray-600\"></th>\n                  <th className=\"text-left py-2 text-sm font-medium text-gray-600\"></th>\n                  <th className=\"text-left py-2 text-sm font-medium text-gray-600\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {recentInvoices.map((invoice) => (\n                  <tr key={invoice.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\n                    <td className=\"py-3 text-sm text-gray-900\">{invoice.client}</td>\n                    <td className=\"py-3 text-sm text-gray-900\">{invoice.project}</td>\n                    <td className=\"py-3 text-sm font-medium text-gray-900\">\n                      {formatCurrency(invoice.amount)}\n                    </td>\n                    <td className=\"py-3\">\n                      <span className={`px-2 py-1 text-xs font-semibold rounded-full ${\n                        invoice.status === '' ? 'bg-green-100 text-green-800' :\n                        invoice.status === '' ? 'bg-blue-100 text-blue-800' :\n                        invoice.status === '' ? 'bg-orange-100 text-orange-800' :\n                        'bg-yellow-100 text-yellow-800'\n                      }`}>\n                        {invoice.status}\n                      </span>\n                    </td>\n                    <td className=\"py-3 text-sm text-gray-600\">{invoice.date}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;\n","//    \nexport const numberToKorean = (number) => {\n  if (number === 0) return '';\n\n  const units = ['', '', '', '', '', '', '', '', '', ''];\n  const tens = ['', '', '', ''];\n  const bigUnits = ['', '', '', ''];\n\n  const convertGroup = (num) => {\n    let result = '';\n    const digits = num.toString().split('').map(Number);\n    \n    for (let i = 0; i < digits.length; i++) {\n      const digit = digits[i];\n      const position = digits.length - 1 - i;\n      \n      if (digit === 0) continue;\n      \n      // 1    \n      if (digit === 1 && position === 1 && digits.length > 1) {\n        result += tens[position];\n      } else {\n        result += units[digit] + tens[position];\n      }\n    }\n    \n    return result;\n  };\n\n  let result = '';\n  let groups = [];\n  let tempNumber = Math.abs(number);\n  \n  // 4  \n  while (tempNumber > 0) {\n    groups.unshift(tempNumber % 10000);\n    tempNumber = Math.floor(tempNumber / 10000);\n  }\n  \n  //    \n  for (let i = 0; i < groups.length; i++) {\n    const group = groups[i];\n    if (group === 0) continue;\n    \n    const groupText = convertGroup(group);\n    const unitIndex = groups.length - 1 - i;\n    \n    result += groupText + bigUnits[unitIndex];\n  }\n  \n  return (number < 0 ? ' ' : '') + result;\n};","import * as XLSX from 'xlsx';\n\n//    \nexport const exportToExcel = {\n  //   \n  clients: (clients) => {\n    const data = clients.map(client => ({\n      'ID': client.id,\n      '': client.name,\n      '': client.phone,\n      '': client.email,\n      '': client.address,\n      '': client.projects.join(', '),\n      ' ': client.totalBilled,\n      '': client.outstanding,\n      '': client.notes\n    }));\n\n    const worksheet = XLSX.utils.json_to_sheet(data);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, ' ');\n    \n    //   \n    worksheet['!cols'] = [\n      { width: 8 },   // ID\n      { width: 15 },  // \n      { width: 15 },  // \n      { width: 25 },  // \n      { width: 30 },  // \n      { width: 20 },  // \n      { width: 15 },  //  \n      { width: 15 },  // \n      { width: 30 }   // \n    ];\n    \n    XLSX.writeFile(workbook, '_.xlsx');\n  },\n\n  //    \n  workItems: (workItems) => {\n    const data = workItems.map(item => ({\n      'ID': item.id,\n      '': item.clientName,\n      '': item.workplaceName,\n      '': item.projectName,\n      '': item.name,\n      '': item.category,\n      '': item.defaultPrice,\n      '': item.quantity || 1,\n      '': item.unit,\n      '': (item.defaultPrice || 0) * (item.quantity || 1),\n      '': item.laborPersons || '',\n      '': item.laborUnitRate || '',\n      '': ((parseInt(item.laborPersons || 0, 10) || 0) * (parseInt(item.laborUnitRate || 0, 10) || 0)),\n      '()': ((item.defaultPrice || 0) * (item.quantity || 1)) + ((parseInt(item.laborPersons || 0, 10) || 0) * (parseInt(item.laborUnitRate || 0, 10) || 0)),\n      '': item.description,\n      '': item.status,\n      '': item.date,\n      '': item.notes\n    }));\n\n    const worksheet = XLSX.utils.json_to_sheet(data);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, ' ');\n    \n    worksheet['!cols'] = [\n      { width: 8 },   // ID\n      { width: 12 },  // \n      { width: 20 },  // \n      { width: 15 },  // \n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 15 },  // \n      { width: 8 },   // \n      { width: 8 },   // \n      { width: 15 },  // \n      { width: 10 },  // \n      { width: 15 },  // \n      { width: 15 },  // \n      { width: 18 },  // ()\n      { width: 30 },  // \n      { width: 10 },  // \n      { width: 12 },  // \n      { width: 25 }   // \n    ];\n    \n    XLSX.writeFile(workbook, '_.xlsx');\n  },\n\n  //   \n  invoices: (invoices) => {\n    const data = invoices.map(invoice => ({\n      '': invoice.id,\n      '': invoice.client,\n      '': invoice.project,\n      '': invoice.workplaceAddress,\n      '': invoice.amount,\n      '': invoice.status,\n      '': invoice.date,\n      '': invoice.dueDate,\n      '': invoice.workItems.length\n    }));\n\n    const worksheet = XLSX.utils.json_to_sheet(data);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, ' ');\n    \n    worksheet['!cols'] = [\n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 15 },  // \n      { width: 35 },  // \n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 12 },  // \n      { width: 12 },  // \n      { width: 12 }   // \n    ];\n    \n    XLSX.writeFile(workbook, '_.xlsx');\n  },\n\n  //   \n  estimates: (estimates) => {\n    const data = estimates.map(estimate => ({\n      '': estimate.id,\n      '': estimate.clientName,\n      '': estimate.projectName,\n      '': estimate.workplaceAddress,\n      '': estimate.totalAmount,\n      '': estimate.status,\n      '': estimate.date,\n      '': estimate.validUntil,\n      '': estimate.items ? estimate.items.length : 0\n    }));\n\n    const worksheet = XLSX.utils.json_to_sheet(data);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, ' ');\n    \n    worksheet['!cols'] = [\n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 15 },  // \n      { width: 35 },  // \n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 12 },  // \n      { width: 12 },  // \n      { width: 12 }   // \n    ];\n    \n    XLSX.writeFile(workbook, '_.xlsx');\n  },\n\n  //   \n  estimateDetail: (estimate) => {\n    const headerData = [\n      [' ', estimate.id],\n      ['', estimate.clientName],\n      ['', estimate.projectName],\n      [' ', estimate.workplaceAddress],\n      ['', estimate.date],\n      [' ', estimate.validUntil],\n      ['', estimate.status],\n      [' ', estimate.totalAmount],\n      []\n    ];\n\n    const workItemData = estimate.items.map((item, index) => ({\n      '': index + 1,\n      '': item.name,\n      '': item.quantity,\n      '': item.unitPrice,\n      '': item.total,\n      '': item.category,\n      '': item.description,\n      '': item.notes\n    }));\n\n    const workbook = XLSX.utils.book_new();\n    \n    //  \n    const headerSheet = XLSX.utils.aoa_to_sheet(headerData);\n    XLSX.utils.book_append_sheet(workbook, headerSheet, ' ');\n    \n    //   \n    const workItemSheet = XLSX.utils.json_to_sheet(workItemData);\n    XLSX.utils.book_append_sheet(workbook, workItemSheet, ' ');\n    \n    workItemSheet['!cols'] = [\n      { width: 8 },   // \n      { width: 20 },  // \n      { width: 10 },  // \n      { width: 15 },  // \n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 30 },  // \n      { width: 25 }   // \n    ];\n    \n    XLSX.writeFile(workbook, `_${estimate.id}.xlsx`);\n  },\n\n  //   \n  invoiceDetail: (invoice) => {\n    const headerData = [\n      [' ', invoice.id],\n      ['', invoice.client],\n      ['', invoice.project],\n      [' ', invoice.workplaceAddress],\n      ['', invoice.date],\n      [' ', invoice.dueDate],\n      ['', invoice.status],\n      [' ', invoice.amount],\n      []\n    ];\n\n    const workItemData = invoice.workItems.map((item, index) => ({\n      '': index + 1,\n      '': item.name,\n      '': item.quantity,\n      '': item.unitPrice,\n      '': item.total,\n      '': item.category,\n      '': item.description,\n      '': item.notes\n    }));\n\n    const workbook = XLSX.utils.book_new();\n    \n    //  \n    const headerSheet = XLSX.utils.aoa_to_sheet(headerData);\n    XLSX.utils.book_append_sheet(workbook, headerSheet, ' ');\n    \n    //   \n    const workItemSheet = XLSX.utils.json_to_sheet(workItemData);\n    XLSX.utils.book_append_sheet(workbook, workItemSheet, ' ');\n    \n    workItemSheet['!cols'] = [\n      { width: 8 },   // \n      { width: 20 },  // \n      { width: 10 },  // \n      { width: 15 },  // \n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 30 },  // \n      { width: 25 }   // \n    ];\n    \n    XLSX.writeFile(workbook, `_${invoice.id}.xlsx`);\n  }\n};\n\n//    \nexport const importFromExcel = {\n  //   \n  clients: (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        try {\n          const data = new Uint8Array(e.target.result);\n          const workbook = XLSX.read(data, { type: 'array' });\n          const worksheet = workbook.Sheets[workbook.SheetNames[0]];\n          const jsonData = XLSX.utils.sheet_to_json(worksheet);\n          \n          const clients = jsonData.map((row, index) => ({\n            id: row['ID'] || index + 1,\n            name: row[''] || '',\n            phone: row[''] || '',\n            email: row[''] || '',\n            address: row[''] || '',\n            projects: row[''] ? row[''].split(', ') : [],\n            totalBilled: row[' '] || 0,\n            outstanding: row[''] || 0,\n            notes: row[''] || '',\n            workplaces: [] // \n          }));\n          \n          resolve(clients);\n        } catch (error) {\n          reject(error);\n        }\n      };\n      reader.readAsArrayBuffer(file);\n    });\n  },\n\n  //    \n  workItems: (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        try {\n          const data = new Uint8Array(e.target.result);\n          const workbook = XLSX.read(data, { type: 'array' });\n          const worksheet = workbook.Sheets[workbook.SheetNames[0]];\n          const jsonData = XLSX.utils.sheet_to_json(worksheet);\n          \n          const workItems = jsonData.map((row, index) => ({\n            id: row['ID'] || index + 1,\n            clientId: row['ID'] || 1,\n            clientName: row[''] || '',\n            workplaceId: row['ID'] || 1,\n            workplaceName: row[''] || '',\n            projectName: row[''] || '',\n            name: row[''] || '',\n            category: row[''] || '',\n            defaultPrice: row[''] || 0,\n            quantity: row[''] || 1,\n            unit: row[''] || '',\n            description: row[''] || '',\n            status: row[''] || '',\n            date: row[''] || new Date().toISOString().split('T')[0],\n            notes: row[''] || '',\n            //  : /   \n            laborPersons: row[''] ?? row['LaborPersons'] ?? '',\n            laborUnitRate: row[''] ?? row['LaborUnitRate'] ?? ''\n          }));\n          \n          resolve(workItems);\n        } catch (error) {\n          reject(error);\n        }\n      };\n      reader.readAsArrayBuffer(file);\n    });\n  },\n\n  //   \n  estimates: (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        try {\n          const data = new Uint8Array(e.target.result);\n          const workbook = XLSX.read(data, { type: 'array' });\n          const worksheet = workbook.Sheets[workbook.SheetNames[0]];\n          const jsonData = XLSX.utils.sheet_to_json(worksheet);\n          \n          const estimates = jsonData.map((row, index) => ({\n            id: row[''] || `EST-${Date.now()}-${index + 1}`,\n            clientName: row[''] || '',\n            projectName: row[''] || '',\n            workplaceAddress: row[''] || '',\n            totalAmount: row[''] || 0,\n            status: row[''] || '',\n            date: row[''] || new Date().toISOString().split('T')[0],\n            validUntil: row[''] || '',\n            items: [], // \n            notes: row[''] || ''\n          }));\n          \n          resolve(estimates);\n        } catch (error) {\n          reject(error);\n        }\n      };\n      reader.readAsArrayBuffer(file);\n    });\n  }\n};\n\n//    \nexport const createTemplate = {\n  //  \n  clients: () => {\n    const templateData = [\n      {\n        'ID': 1,\n        '': '',\n        '': '010-1234-5678',\n        '': 'example@email.com',\n        '': '   123',\n        '': ' , ',\n        ' ': 15000000,\n        '': 5000000,\n        '': ' '\n      }\n    ];\n\n    const worksheet = XLSX.utils.json_to_sheet(templateData);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, ' ');\n    \n    worksheet['!cols'] = [\n      { width: 8 },   // ID\n      { width: 15 },  // \n      { width: 15 },  // \n      { width: 25 },  // \n      { width: 30 },  // \n      { width: 20 },  // \n      { width: 15 },  //  \n      { width: 15 },  // \n      { width: 30 }   // \n    ];\n    \n    XLSX.writeFile(workbook, '_.xlsx');\n  },\n\n  //   \n  workItems: () => {\n    const templateData = [\n      {\n        'ID': 1,\n        'ID': 1,\n        '': '',\n        'ID': 1,\n        '': ' ',\n        '': ' ',\n        '': '',\n        '': '',\n        '': 3000000,\n        '': 1,\n        '': '',\n        '': 3000000,\n        '': 2,\n        '': 200000,\n        '': 400000, // () ,  \n        '()': 3400000, // ()\n        '': '    ',\n        '': '',\n        '': '2024-09-01',\n        '': '   '\n      }\n    ];\n\n    const worksheet = XLSX.utils.json_to_sheet(templateData);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, ' ');\n    \n    worksheet['!cols'] = [\n      { width: 8 },   // ID\n      { width: 10 },  // ID\n      { width: 12 },  // \n      { width: 10 },  // ID\n      { width: 20 },  // \n      { width: 15 },  // \n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 15 },  // \n      { width: 8 },   // \n      { width: 8 },   // \n      { width: 15 },  // \n      { width: 10 },  // \n      { width: 15 },  // \n      { width: 15 },  // \n      { width: 18 },  // ()\n      { width: 30 },  // \n      { width: 10 },  // \n      { width: 12 },  // \n      { width: 25 }   // \n    ];\n    \n    XLSX.writeFile(workbook, '_.xlsx');\n  },\n\n  //  \n  estimates: () => {\n    const templateData = [\n      {\n        '': 'EST-2024-001',\n        '': '',\n        '': ' ',\n        '': '   123',\n        '': 50000000,\n        '': '',\n        '': '2024-09-01',\n        '': '2024-10-01',\n        '': 5,\n        '': ' '\n      }\n    ];\n\n    const worksheet = XLSX.utils.json_to_sheet(templateData);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, ' ');\n    \n    worksheet['!cols'] = [\n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 15 },  // \n      { width: 35 },  // \n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 12 },  // \n      { width: 12 },  // \n      { width: 12 },  // \n      { width: 25 }   // \n    ];\n    \n    XLSX.writeFile(workbook, '_.xlsx');\n  },\n\n  //  \n  invoices: () => {\n    const templateData = [\n      {\n        '': 'INV-2024-001',\n        '': '',\n        '': ' ',\n        '': '   123',\n        '': 10000000,\n        '': '',\n        '': '2024-09-01',\n        '': '2024-09-15',\n        '': 3,\n        '': '1 '\n      }\n    ];\n\n    const worksheet = XLSX.utils.json_to_sheet(templateData);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, ' ');\n    \n    worksheet['!cols'] = [\n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 15 },  // \n      { width: 35 },  // \n      { width: 15 },  // \n      { width: 12 },  // \n      { width: 12 },  // \n      { width: 12 },  // \n      { width: 12 },  // \n      { width: 25 }   // \n    ];\n    \n    XLSX.writeFile(workbook, '_.xlsx');\n  }\n};\n","import React, { useState, useRef, useEffect, useMemo } from 'react';\nimport { useApp } from '../contexts/AppContext';\nimport { numberToKorean } from '../utils/numberToKorean';\nimport { exportToExcel, importFromExcel, createTemplate } from '../utils/excelUtils';\n\nfunction Invoices() {\n  // eslint-disable-next-line no-unused-vars\n  const { clients, invoices, setInvoices, companyInfo, workItems, stampImage, units } = useApp();\n  const [selectedIds, setSelectedIds] = useState([]);\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n\n  const [selectedClientFilter, setSelectedClientFilter] = useState('');\n  const [selectedStatusFilter, setSelectedStatusFilter] = useState('');\n  const filteredInvoices = useMemo(() => {\n    const base = (() => {\n      if (!selectedClientFilter) return invoices;\n      const cid = parseInt(selectedClientFilter);\n      const clientName = clients.find(c => c.id === cid)?.name;\n      return invoices.filter(inv => {\n        if (inv.clientId && inv.clientId === cid) return true;\n        if (clientName && inv.client === clientName) return true;\n        return false;\n      });\n    })();\n    if (!selectedStatusFilter) return base;\n    return base.filter(inv => inv.status === selectedStatusFilter);\n  }, [invoices, selectedClientFilter, selectedStatusFilter, clients]);\n\n  const allVisibleIds = filteredInvoices.map(inv => inv.id);\n  const allSelected = selectedIds.length > 0 && selectedIds.length === allVisibleIds.length;\n  const toggleSelectAll = (checked) => setSelectedIds(checked ? allVisibleIds : []);\n  const toggleSelectOne = (id, checked) => setSelectedIds(prev => checked ? Array.from(new Set([...prev, id])) : prev.filter(x => x !== id));\n  const handleBulkDelete = () => {\n    if (selectedIds.length === 0) return;\n    setInvoices(prev => prev.filter(inv => !selectedIds.includes(inv.id)));\n    setSelectedIds([]);\n    setShowConfirmDelete(false);\n  };\n\n  const handleChangeStatus = (id, next) => {\n    setInvoices(prev => prev.map(inv => inv.id === id ? { ...inv, status: next } : inv));\n  };\n\n  //    \n  const formatNumberWithCommas = (number) => {\n    if (!number && number !== 0) return '';\n    return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  };\n\n\n  //     (WorkItems.js  )\n  const [workItemTemplates] = useState([\n    {\n      id: 1,\n      name: '',\n      category: '',\n      defaultPrice: 3000000,\n      unit: '',\n      description: '    '\n    },\n    {\n      id: 2,\n      name: '',\n      category: '',\n      defaultPrice: 4000000,\n      unit: '',\n      description: '    '\n    },\n    {\n      id: 3,\n      name: ' ',\n      category: '',\n      defaultPrice: 800000,\n      unit: '',\n      description: '     '\n    },\n    {\n      id: 4,\n      name: ' ',\n      category: '',\n      defaultPrice: 1200000,\n      unit: '',\n      description: '    '\n    },\n    {\n      id: 5,\n      name: ' ',\n      category: '',\n      defaultPrice: 2000000,\n      unit: '',\n      description: '  '\n    },\n    {\n      id: 6,\n      name: '',\n      category: '',\n      defaultPrice: 1500000,\n      unit: '',\n      description: '    '\n    },\n    {\n      id: 7,\n      name: ' ',\n      category: '',\n      defaultPrice: 500000,\n      unit: '',\n      description: '  '\n    },\n    {\n      id: 8,\n      name: ' ',\n      category: '',\n      defaultPrice: 1000000,\n      unit: '',\n      description: '    '\n    },\n    {\n      id: 9,\n      name: '  ',\n      category: '',\n      defaultPrice: 800000,\n      unit: '',\n      description: '    '\n    },\n    {\n      id: 10,\n      name: ' ',\n      category: '',\n      defaultPrice: 1000000,\n      unit: '',\n      description: '    '\n    }\n  ]);\n\n  const [showModal, setShowModal] = useState(false);\n  const [selectedInvoice, setSelectedInvoice] = useState(null);\n  const [printInvoice, setPrintInvoice] = useState(null);\n  const [newInvoice, setNewInvoice] = useState({\n    clientId: '',\n    client: '',\n    workplaceId: '',\n    project: '',\n    workplaceAddress: '',\n    workItems: [{ name: '', quantity: 1, unit: '', unitPrice: 0, total: 0, templateId: '', date: '', notes: '' }]\n  });\n\n  const componentRef = useRef();\n\n  // Excel  \n  const handleExportToExcel = () => {\n    exportToExcel.invoices(invoices);\n  };\n\n  // eslint-disable-next-line no-unused-vars\n  const handleExportInvoiceDetail = (invoice) => {\n    exportToExcel.invoiceDetail(invoice);\n  };\n\n  const handleImportFromExcel = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    try {\n      const importedInvoices = await importFromExcel.invoices(file);\n      setInvoices(prev => [...prev, ...importedInvoices]);\n      alert(`${importedInvoices.length}  .`);\n      e.target.value = ''; // Reset file input\n    } catch (error) {\n      console.error('Excel  :', error);\n      alert('Excel   .');\n    }\n  };\n\n  const handleDownloadTemplate = () => {\n    createTemplate.invoices();\n  };\n\n  // Auto-reset printInvoice state to prevent UI issues\n  useEffect(() => {\n    if (printInvoice) {\n      const timer = setTimeout(() => {\n        setPrintInvoice(null);\n        console.log('Auto-reset printInvoice state');\n      }, 3000); // Reset after 3 seconds\n      \n      return () => clearTimeout(timer);\n    }\n  }, [printInvoice]);\n\n  //     \n  const getClientWorkplaces = (clientId) => {\n    const client = clients.find(c => c.id === parseInt(clientId));\n    return client?.workplaces || [];\n  };\n\n  //   \n  const handleFormInputChange = (e) => {\n    const { name, value } = e.target;\n    \n    setNewInvoice(prev => {\n      const updated = { ...prev, [name]: value };\n      \n      //      \n      if (name === 'clientId') {\n        const selectedClient = clients.find(c => c.id === parseInt(value));\n        updated.client = selectedClient?.name || '';\n        updated.workplaceId = '';\n        updated.workplaceAddress = '';\n      }\n      \n      //     \n      if (name === 'workplaceId') {\n        const selectedClient = clients.find(c => c.id === parseInt(prev.clientId));\n        const selectedWorkplace = selectedClient?.workplaces.find(w => w.id === parseInt(value));\n        updated.workplaceAddress = selectedWorkplace?.address || '';\n        if (!updated.project && selectedWorkplace?.description) {\n          updated.project = selectedWorkplace.description;\n        }\n      }\n      \n      return updated;\n    });\n  };\n\n  const addWorkItem = () => {\n    setNewInvoice(prev => ({\n      ...prev,\n      workItems: [...prev.workItems, { name: '', quantity: 1, unit: '', unitPrice: 0, total: 0, templateId: '', date: '', notes: '' }]\n    }));\n  };\n\n  const updateWorkItem = (index, field, value) => {\n    const updatedItems = [...newInvoice.workItems];\n    \n    //        \n    if (field === 'templateId' && value) {\n      const template = workItemTemplates.find(t => t.id === parseInt(value));\n      if (template) {\n        updatedItems[index].name = template.name;\n        updatedItems[index].templateId = parseInt(value);\n        updatedItems[index].unit = template.unit || updatedItems[index].unit || '';\n        //     -   \n        \n        //  workItems     notes \n        const matchingWorkItem = workItems.find(wi => wi.name === template.name);\n        if (matchingWorkItem && matchingWorkItem.notes) {\n          updatedItems[index].notes = matchingWorkItem.notes;\n        }\n      }\n    } else if (field === 'name' && value === '') {\n      //      \n      updatedItems[index].templateId = '';\n    } else if (field === 'quantity' || field === 'unitPrice') {\n      //      \n      const numbersOnly = value.toString().replace(/[^\\d]/g, '');\n      const numericValue = parseInt(numbersOnly) || 0;\n      updatedItems[index][field] = numericValue;\n    } else {\n      updatedItems[index][field] = value;\n    }\n    \n    //      \n    if (field === 'quantity' || field === 'unitPrice') {\n      updatedItems[index].total = updatedItems[index].quantity * updatedItems[index].unitPrice;\n    }\n    \n    setNewInvoice(prev => ({\n      ...prev,\n      workItems: updatedItems\n    }));\n  };\n\n  const getTotalAmount = (workItems) => {\n    return workItems.reduce((sum, item) => sum + item.total, 0);\n  };\n\n  const handleCreateInvoice = (e) => {\n    e.preventDefault();\n    const totalAmount = getTotalAmount(newInvoice.workItems);\n    const newInv = {\n      ...newInvoice,\n      id: `INV-2024-${String(invoices.length + 1).padStart(3, '0')}`,\n      amount: totalAmount,\n      status: '',\n      date: new Date().toISOString().split('T')[0],\n      dueDate: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\n    };\n    \n    setInvoices(prev => [...prev, newInv]);\n    setNewInvoice({\n      clientId: '',\n      client: '',\n      workplaceId: '',\n      project: '',\n      workplaceAddress: '',\n      workItems: [{ name: '', quantity: 1, unit: '', unitPrice: 0, total: 0, templateId: '', notes: '' }]\n    });\n    setShowModal(false);\n  };\n\n  const viewInvoiceDetails = (invoice) => {\n    setSelectedInvoice(invoice);\n  };\n\n  const handleDeleteInvoice = (invoiceId) => {\n    if (window.confirm('Are you sure you want to delete this invoice?')) {\n      setInvoices(prev => prev.filter(invoice => invoice.id !== invoiceId));\n    }\n  };\n\n  const generatePDF = (invoice) => {\n    console.log(' PDF    :', invoice.id);\n    \n    try {\n      // Create new window first\n      const printWindow = window.open('', '_blank', 'width=1200,height=900,scrollbars=yes,resizable=yes');\n      \n      // Check if window opened successfully\n      if (!printWindow) {\n        console.error(' ');\n        alert(' .    .');\n        return;\n      }\n\n      // Resolve client details (supports legacy invoices without clientId)\n      const resolvedClient = (() => {\n        const byId = clients.find(c => String(c.id) === String(invoice.clientId || ''));\n        if (byId) return byId;\n        return clients.find(c => c.name === invoice.client) || null;\n      })();\n\n      const clientInfoHTML = (() => {\n        if (!resolvedClient) {\n          return `\n            <p><strong>:</strong> ${invoice.client}</p>\n            <p><strong>:</strong> ${invoice.project}</p>\n            <p><strong> :</strong> ${invoice.workplaceAddress}</p>\n          `;\n        }\n        if (resolvedClient.type === 'BUSINESS') {\n          const b = resolvedClient.business || {};\n          return `\n            <p><strong>:</strong> ${b.businessName || resolvedClient.name || '-'}</p>\n            <p><strong>:</strong> ${b.representative || '-'}</p>\n            <p><strong>:</strong> ${b.businessNumber || '-'}</p>\n            <p><strong> :</strong> ${b.taxEmail || resolvedClient.email || '-'}</p>\n            <p><strong> :</strong> ${b.businessAddress || resolvedClient.address || '-'}</p>\n            <p><strong>:</strong> ${invoice.project}</p>\n            <p><strong> :</strong> ${invoice.workplaceAddress}</p>\n          `;\n        }\n        // PERSON\n        return `\n          <p><strong>:</strong> ${resolvedClient.name}</p>\n          ${resolvedClient.phone ? `<p><strong>:</strong> ${resolvedClient.phone}</p>` : ''}\n          ${resolvedClient.email ? `<p><strong>:</strong> ${resolvedClient.email}</p>` : ''}\n          <p><strong>:</strong> ${resolvedClient.address || '-'}</p>\n          <p><strong>:</strong> ${invoice.project}</p>\n          <p><strong> :</strong> ${invoice.workplaceAddress}</p>\n        `;\n      })();\n\n      // Labor total (general + skilled)\n      const laborTotal = (invoice.workItems || []).reduce((sum, item) => {\n        const gen = (Number(item.laborPersonsGeneral) || 0) * (Number(item.laborUnitRateGeneral) || 0);\n        const sk = (Number(item.laborPersons) || 0) * (Number(item.laborUnitRate) || 0);\n        return sum + gen + sk;\n      }, 0);\n\n      // Create comprehensive HTML content directly\n      const htmlContent = `\n        <!DOCTYPE html>\n        <html lang=\"ko\">\n          <head>\n            <title> ${invoice.id} -    </title>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <style>\n              @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');\n              \n              * {\n                box-sizing: border-box;\n                margin: 0;\n                padding: 0;\n              }\n              \n              body { \n                font-family: 'Noto Sans KR', sans-serif; \n                margin: 0; \n                padding: 0;\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                min-height: 100vh;\n                color: #374151;\n                line-height: 1.5;\n              }\n              \n              .container {\n                max-width: 1000px;\n                margin: 20px auto;\n                background-color: #ffffff;\n                border-radius: 16px;\n                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n                overflow: hidden;\n              }\n              \n              .header {\n                background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);\n                color: white;\n                padding: 30px;\n                text-align: center;\n              }\n              \n              .header h1 {\n                font-size: 36px;\n                font-weight: 700;\n                margin-bottom: 10px;\n                letter-spacing: 8px;\n              }\n              \n              .invoice-meta {\n                display: flex;\n                justify-content: space-between;\n                margin-top: 20px;\n                font-size: 14px;\n              }\n              \n              .content {\n                padding: 40px;\n              }\n              \n              .section {\n                margin-bottom: 40px;\n              }\n              \n              .section-title {\n                font-size: 18px;\n                font-weight: 700;\n                color: #1f2937;\n                border-left: 4px solid #3b82f6;\n                padding-left: 12px;\n                margin-bottom: 20px;\n              }\n              \n              .grid {\n                display: grid;\n                grid-template-columns: 1fr 1fr;\n                gap: 30px;\n                margin-bottom: 30px;\n              }\n              \n              .info-box {\n                background-color: #f8fafc;\n                padding: 20px;\n                border-radius: 12px;\n                border: 1px solid #e2e8f0;\n              }\n              \n              .info-box h4 {\n                font-size: 16px;\n                font-weight: 600;\n                color: #1e40af;\n                margin-bottom: 15px;\n              }\n              \n              .info-box p {\n                margin: 8px 0;\n                font-size: 14px;\n              }\n              \n              .amount-highlight {\n                background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);\n                padding: 20px;\n                border-radius: 12px;\n                border-left: 4px solid #3b82f6;\n                text-align: left;\n                margin: 30px 0;\n              }\n              \n              .amount-highlight p {\n                margin: 0;\n                font-size: 20px;\n                font-weight: 700;\n                color: #1e3a8a;\n              }\n              \n              .work-table {\n                width: 100%;\n                border-collapse: collapse;\n                background-color: white;\n                border-radius: 12px;\n                overflow: hidden;\n                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n              }\n              \n              .work-table th {\n                background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);\n                padding: 15px 12px;\n                text-align: center;\n                font-weight: 700;\n                font-size: 13px;\n                color: #1f2937;\n                border-bottom: 2px solid #e2e8f0;\n              }\n              \n              .work-table td {\n                padding: 12px;\n                border-bottom: 1px solid #f1f5f9;\n                font-size: 13px;\n                vertical-align: top;\n              }\n              \n              .work-table tr:hover {\n                background-color: #f8fafc;\n              }\n              \n              .work-table tfoot {\n                background: linear-gradient(135deg, #f0f0f0 0%, #e5e5e5 100%);\n                font-weight: 700;\n              }\n              \n              .work-table tfoot td {\n                padding: 15px 12px;\n                border-top: 2px solid #cbd5e1;\n                font-size: 14px;\n              }\n              \n              .signature-section {\n                margin-top: 40px;\n                text-align: right;\n              }\n              \n              .signature-box {\n                display: inline-block;\n                background-color: #f8fafc;\n                border: 1px solid #e2e8f0;\n                border-radius: 12px;\n                padding: 20px;\n                margin-top: 20px;\n              }\n              \n              .signature-company {\n                font-size: 16px;\n                font-weight: 700;\n                margin-bottom: 15px;\n              }\n              \n              .signature-representative {\n                display: flex;\n                align-items: center;\n                justify-content: flex-end;\n                gap: 8px;\n              }\n              \n              .signature-representative span {\n                font-size: 16px;\n                font-weight: 700;\n              }\n              \n              .stamp-container {\n                position: relative;\n                display: inline-block;\n              }\n              \n              .stamp-container img {\n                width: 60px;\n                height: 60px;\n                object-fit: contain;\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n              }\n              \n              .footer-message {\n                text-align: center;\n                margin-top: 40px;\n                padding-top: 20px;\n                border-top: 1px solid #e2e8f0;\n                font-size: 12px;\n                color: #6b7280;\n              }\n              \n              .controls {\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 1000;\n                display: flex;\n                gap: 10px;\n              }\n              \n              .btn {\n                padding: 12px 20px;\n                border: none;\n                border-radius: 8px;\n                cursor: pointer;\n                font-weight: 600;\n                font-size: 14px;\n                transition: all 0.3s ease;\n                display: flex;\n                align-items: center;\n                gap: 8px;\n              }\n              \n              .btn-print {\n                background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n                color: white;\n              }\n              \n              .btn-print:hover {\n                transform: translateY(-2px);\n                box-shadow: 0 8px 15px rgba(16, 185, 129, 0.4);\n              }\n              \n              .btn-close {\n                background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\n                color: white;\n              }\n              \n              .btn-close:hover {\n                transform: translateY(-2px);\n                box-shadow: 0 8px 15px rgba(239, 68, 68, 0.4);\n              }\n              \n              .loading {\n                display: none;\n                text-align: center;\n                padding: 20px;\n                font-style: italic;\n                color: #6b7280;\n              }\n              \n              @media print {\n                body {\n                  background: white !important;\n                }\n                .container {\n                  box-shadow: none !important;\n                  border-radius: 0 !important;\n                  margin: 0 !important;\n                }\n                .controls, .no-print {\n                  display: none !important;\n                }\n                .header {\n                  background: #1e40af !important;\n                  -webkit-print-color-adjust: exact !important;\n                  print-color-adjust: exact !important;\n                }\n              }\n              \n              @media (max-width: 768px) {\n                .container {\n                  margin: 10px;\n                  border-radius: 12px;\n                }\n                .content {\n                  padding: 20px;\n                }\n                .grid {\n                  grid-template-columns: 1fr;\n                  gap: 20px;\n                }\n                .controls {\n                  position: static;\n                  justify-content: center;\n                  margin: 20px;\n                }\n              }\n            </style>\n          </head>\n          <body>\n            <div class=\"controls no-print\">\n              <button class=\"btn btn-print\" onclick=\"handlePrint()\">\n                 \n              </button>\n              <button class=\"btn btn-close\" onclick=\"window.close()\">\n                  \n              </button>\n            </div>\n            \n            <div class=\"container\">\n              <div class=\"header\">\n                <h1>  </h1>\n                <div class=\"invoice-meta\">\n                  <div> : <strong>${invoice.id}</strong></div>\n                  <div>: <strong>${invoice.date}</strong></div>\n                </div>\n              </div>\n              \n              <div class=\"content\">\n                <div class=\"grid\">\n                  <div class=\"info-box\">\n                    <h4>  </h4>\n                    ${clientInfoHTML}\n                  </div>\n                  \n                  <div class=\"info-box\">\n                    <h4>  </h4>\n                    <p><strong>:</strong> ${companyInfo.name}</p>\n                    <p><strong>:</strong> ${companyInfo.businessNumber}</p>\n                    <p><strong>:</strong> ${companyInfo.representative}</p>\n                    <p><strong>:</strong> ${companyInfo.address}</p>\n                    <p><strong>:</strong> ${companyInfo.phone}</p>\n                    ${companyInfo.email ? `<p><strong>:</strong> ${companyInfo.email}</p>` : ''}\n                  </div>\n                </div>\n                \n                <div class=\"amount-highlight\">\n                  <p>  :  ${numberToKorean(invoice.amount)} </p>\n                </div>\n                \n                <div class=\"section\">\n                  <div class=\"info-box\">\n                    <p><strong>:</strong> ${laborTotal.toLocaleString()}</p>\n                  </div>\n                </div>\n                \n                <div class=\"section\">\n                  <h3 class=\"section-title\">   </h3>\n                  <table class=\"work-table\">\n                    <thead>\n                      <tr>\n                        <th style=\"width: 50px;\"></th>\n                        <th style=\"width: 110px;\"></th>\n                        <th></th>\n                        <th style=\"width: 100px;\"></th>\n                        <th style=\"width: 80px;\"></th>\n                        <th style=\"width: 60px;\"></th>\n                        <th style=\"width: 120px;\"></th>\n                        <th style=\"width: 120px;\"></th>\n                        <th style=\"width: 120px;\"></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      ${invoice.workItems.map((item, index) => `\n                        <tr>\n                          <td style=\"text-align: center;\">${index + 1}</td>\n                          <td style=\"text-align: center;\">${item.date || '-'}</td>\n                          <td style=\"text-align: left;\">\n                            <strong>${item.name}</strong>\n                            ${item.description ? `<div style=\"font-size: 12px; color: #6b7280; margin-top: 4px;\">${item.description}</div>` : ''}\n                          </td>\n                          <td style=\"text-align: center;\">${item.category || '-'}</td>\n                          <td style=\"text-align: center;\">${item.quantity}</td>\n                          <td style=\"text-align: center;\">${item.unit || '-'}</td>\n                          <td style=\"text-align: right;\">${item.unitPrice.toLocaleString()}</td>\n                          <td style=\"text-align: right;\">${item.total.toLocaleString()}</td>\n                          <td style=\"text-align: left;\">${item.notes || '-'}</td>\n                        </tr>\n                      `).join('')}\n                    </tbody>\n                    <tfoot>\n                      <tr>\n                        <td colspan=\"8\" style=\"text-align: right; font-size: 16px;\">:</td>\n                        <td style=\"text-align: center; font-size: 16px; font-weight: 700;\">\n                          ${invoice.amount.toLocaleString()}\n                        </td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n                \n                ${companyInfo.bankAccount ? `\n                <div class=\"section\">\n                  <h3 class=\"section-title\">  </h3>\n                  <div class=\"info-box\">\n                    <p><strong>:</strong> ${companyInfo.bankAccount}</p>\n                    <p><strong>:</strong> ${companyInfo.accountHolder}</p>\n                  </div>\n                </div>\n                ` : ''}\n                \n                <div class=\"signature-section\">\n                  <p style=\"margin-bottom: 20px; font-size: 16px;\">  .</p>\n                  \n                  <div class=\"signature-box\">\n                    <div class=\"signature-company\">\n                      ${companyInfo.name}\n                    </div>\n                    <div class=\"signature-representative\">\n                      <span> : ${companyInfo.representative.split('').join(' ')}</span>\n                      <div class=\"stamp-container\">\n                        <span>()</span>\n                        ${stampImage ? `<img src=\"${stampImage}\" alt=\"\" />` : ''}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <div class=\"footer-message\">\n                  <p>       .</p>\n                  <p style=\"font-weight: 700; margin-top: 8px;\">.</p>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"loading\" id=\"loadingMessage\">\n                 ...\n            </div>\n            \n            <script>\n              function handlePrint() {\n                const loading = document.getElementById('loadingMessage');\n                loading.style.display = 'block';\n                \n                // Hide loading after a short delay\n                setTimeout(() => {\n                  loading.style.display = 'none';\n                }, 2000);\n                \n                // Trigger print\n                window.print();\n              }\n              \n              // Keyboard shortcuts\n              document.addEventListener('keydown', function(e) {\n                // Ctrl+P or Cmd+P for print\n                if ((e.ctrlKey || e.metaKey) && e.key === 'p') {\n                  e.preventDefault();\n                  handlePrint();\n                }\n                \n                // Escape to close\n                if (e.key === 'Escape') {\n                  if (confirm(' ?')) {\n                    window.close();\n                  }\n                }\n              });\n              \n              // Auto-focus for better keyboard navigation\n              window.onload = function() {\n                document.body.focus();\n                console.log(' PDF    .');\n                console.log(' : Ctrl+P (), Esc ( )');\n              };\n            </script>\n          </body>\n        </html>\n      `;\n\n      // Write content to new window\n      printWindow.document.write(htmlContent);\n      printWindow.document.close();\n      printWindow.focus();\n\n      console.log(' PDF    :', invoice.id);\n\n    } catch (error) {\n      console.error(' PDF    :', error);\n      alert(' PDF    : ' + error.message);\n    }\n  };\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex justify-between items-center mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\"> </h1>\n          <p className=\"text-gray-600\">     </p>\n        </div>\n        <div className=\"flex space-x-2\">\n          {selectedIds.length > 0 && (\n            <button\n              onClick={() => setShowConfirmDelete(true)}\n              className=\"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex items-center\"\n              title=\"   \"\n            >\n                ({selectedIds.length})\n            </button>\n          )}\n          <button\n            onClick={handleDownloadTemplate}\n            className=\"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded\"\n          >\n              \n          </button>\n          \n          <label className=\"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded cursor-pointer\">\n             Excel \n            <input\n              type=\"file\"\n              accept=\".xlsx,.xls\"\n              onChange={handleImportFromExcel}\n              className=\"hidden\"\n            />\n          </label>\n          \n          <button\n            onClick={handleExportToExcel}\n            className=\"bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded flex items-center\"\n          >\n             Excel \n          </button>\n          \n          <button\n            onClick={() => setShowModal(true)}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n          >\n            +  \n          </button>\n        </div>\n      </div>\n\n      {/*  */}\n      <div className=\"bg-white rounded-lg shadow p-4 mb-4\">\n        <div className=\"flex items-center space-x-3\">\n          <label className=\"text-sm font-medium text-gray-700\"></label>\n          <select\n            value={selectedClientFilter}\n            onChange={(e) => setSelectedClientFilter(e.target.value)}\n            className=\"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            style={{ fontSize: '15px' }}\n          >\n            <option value=\"\"> </option>\n            {clients.map(c => (\n              <option key={c.id} value={c.id}>{c.name}</option>\n            ))}\n          </select>\n          <label className=\"text-sm font-medium text-gray-700 ml-4\"></label>\n          <select\n            value={selectedStatusFilter}\n            onChange={(e) => setSelectedStatusFilter(e.target.value)}\n            className=\"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            style={{ fontSize: '15px' }}\n            disabled={!selectedClientFilter}\n          >\n            <option value=\"\"> </option>\n            <option value=\"\"></option>\n            <option value=\"\"></option>\n            <option value=\"\"></option>\n            <option value=\"\"></option>\n          </select>\n          {(selectedClientFilter || selectedStatusFilter) && (\n            <button\n              onClick={() => { setSelectedClientFilter(''); setSelectedStatusFilter(''); }}\n              className=\"text-xs text-blue-600 hover:text-blue-800\"\n            >\n               \n            </button>\n          )}\n          <div className=\"text-sm text-gray-500 ml-auto\">\n            {filteredInvoices.length} \n          </div>\n        </div>\n      </div>\n\n      {/*   */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                <input\n                  type=\"checkbox\"\n                  className=\"rounded border-gray-300\"\n                  checked={allSelected}\n                  onChange={(e) => toggleSelectAll(e.target.checked)}\n                  title=\" \"\n                />\n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                 \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {filteredInvoices.map((invoice) => (\n              <tr key={invoice.id} className=\"hover:bg-gray-50\">\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"rounded border-gray-300\"\n                    checked={selectedIds.includes(invoice.id)}\n                    onChange={(e) => toggleSelectOne(invoice.id, e.target.checked)}\n                    title=\" \"\n                  />\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm font-medium text-gray-900\">{invoice.id}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">{invoice.client}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">{invoice.project}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm font-medium text-gray-900\">\n                    {invoice.amount.toLocaleString()}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <select\n                    className={`px-2 py-1 text-xs font-semibold rounded-full ${\n                      invoice.status === '' ? 'bg-green-100 text-green-800' :\n                      invoice.status === '' ? 'bg-blue-100 text-blue-800' :\n                      invoice.status === '' ? 'bg-orange-100 text-orange-800' :\n                      'bg-yellow-100 text-yellow-800'\n                    } focus:outline-none focus:ring-2 focus:ring-primary-500`}\n                    value={invoice.status}\n                    onChange={(e) => handleChangeStatus(invoice.id, e.target.value)}\n                    title=\"  \"\n                  >\n                    <option value=\"\"></option>\n                    <option value=\"\"></option>\n                    <option value=\"\"></option>\n                    <option value=\"\"></option>\n                  </select>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">{invoice.date}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <button \n                    onClick={() => viewInvoiceDetails(invoice)}\n                    className=\"text-blue-600 hover:text-blue-900 mr-2\"\n                  >\n                    \n                  </button>\n                  <button \n                    onClick={() => generatePDF(invoice)}\n                    className=\"text-green-600 hover:text-green-900 mr-2\"\n                  >\n                     \n                  </button>\n                  <button \n                    onClick={() => handleDeleteInvoice(invoice.id)}\n                    className=\"text-red-600 hover:text-red-900\"\n                  >\n                    \n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/*     */}\n      {showConfirmDelete && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\"> </h3>\n            <p className=\"text-sm text-gray-600 mb-4\"> {selectedIds.length}  ?     .</p>\n            <div className=\"flex justify-end gap-2\">\n              <button className=\"btn-secondary\" onClick={() => setShowConfirmDelete(false)}></button>\n              <button className=\"btn-primary bg-red-600 hover:bg-red-700\" onClick={handleBulkDelete}></button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/*    */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-10 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">  </h3>\n              <form onSubmit={handleCreateInvoice} className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"> *</label>\n                    <select\n                      name=\"clientId\"\n                      value={newInvoice.clientId}\n                      onChange={handleFormInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    >\n                      <option value=\"\"> </option>\n                      {clients.map(client => (\n                        <option key={client.id} value={client.id}>\n                          {client.name}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"> *</label>\n                    <input\n                      type=\"text\"\n                      name=\"project\"\n                      value={newInvoice.project}\n                      onChange={handleFormInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      placeholder=\"Enter project name\"\n                      required\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\"> *</label>\n                  <select\n                    name=\"workplaceId\"\n                    value={newInvoice.workplaceId}\n                    onChange={handleFormInputChange}\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                    disabled={!newInvoice.clientId}\n                  >\n                    <option value=\"\">\n                      {newInvoice.clientId ? ' ' : '  '}\n                    </option>\n                    {newInvoice.clientId && getClientWorkplaces(newInvoice.clientId).map(workplace => (\n                      <option key={workplace.id} value={workplace.id}>\n                        {workplace.name} - {workplace.address}\n                      </option>\n                    ))}\n                  </select>\n                  {newInvoice.workplaceAddress && (\n                    <div className=\"mt-2 p-2 bg-gray-50 rounded text-sm text-gray-600\">\n                      <strong> :</strong> {newInvoice.workplaceAddress}\n                    </div>\n                  )}\n                </div>\n\n                {/*   */}\n                <div>\n                  <div className=\"flex justify-between items-center mb-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\"> </label>\n                    <button\n                      type=\"button\"\n                      onClick={addWorkItem}\n                      className=\"text-blue-600 hover:text-blue-800 text-sm\"\n                    >\n                      +  \n                    </button>\n                  </div>\n                  \n                  <div className=\"space-y-3\">\n                    {newInvoice.workItems.map((item, index) => (\n                      <div key={index} className=\"border border-gray-200 rounded-lg p-3 bg-gray-50\">\n                        <div className=\"grid grid-cols-3 gap-3 mb-3\">\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\">  </label>\n                            <select\n                              value={item.templateId || ''}\n                              onChange={(e) => updateWorkItem(index, 'templateId', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                            >\n                              <option value=\"\">    </option>\n                              {workItemTemplates.map(template => (\n                                <option key={template.id} value={template.id}>\n                                  {template.name} ({template.category})\n                                </option>\n                              ))}\n                            </select>\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"> ()</label>\n                            <input\n                              type=\"text\"\n                              placeholder=\"Or enter manually\"\n                              value={item.templateId ? '' : item.name}\n                              onChange={(e) => updateWorkItem(index, 'name', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                              disabled={!!item.templateId}\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <input\n                              type=\"date\"\n                              placeholder=\"YYYY-MM-DD\"\n                              value={item.date || ''}\n                              onChange={(e) => updateWorkItem(index, 'date', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                            />\n                          </div>\n                        </div>\n                        <div className=\"grid grid-cols-4 gap-3\">\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <input\n                              type=\"text\"\n                              placeholder=\": 1,000\"\n                              value={item.quantity ? formatNumberWithCommas(item.quantity) : ''}\n                              onChange={(e) => updateWorkItem(index, 'quantity', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                              required\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <select\n                              value={item.unit || ''}\n                              onChange={(e) => updateWorkItem(index, 'unit', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                              required\n                            >\n                              <option value=\"\"> </option>\n                              {(units || []).map(u => (\n                                <option key={u} value={u}>{u}</option>\n                              ))}\n                            </select>\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"> ()</label>\n                            <input\n                              type=\"text\"\n                              placeholder=\": 1,000,000\"\n                              value={item.unitPrice ? formatNumberWithCommas(item.unitPrice) : ''}\n                              onChange={(e) => updateWorkItem(index, 'unitPrice', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                              required\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <input\n                              type=\"text\"\n                              value={item.total.toLocaleString() + ''}\n                              readOnly\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm bg-gray-100 text-gray-700 font-medium\"\n                            />\n                          </div>\n                        </div>\n                        \n                        <div className=\"mt-3\">\n                          <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                          <textarea\n                            value={item.notes || ''}\n                            onChange={(e) => updateWorkItem(index, 'notes', e.target.value)}\n                            rows=\"2\"\n                            className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                            placeholder=\"   \"\n                          />\n                        </div>\n                        {item.templateId && (\n                          <div className=\"mt-2 text-xs text-gray-500 bg-blue-50 p-2 rounded\">\n                            <strong> :</strong> {workItemTemplates.find(t => t.id === item.templateId)?.description}\n                          </div>\n                        )}\n                        {newInvoice.workItems.length > 1 && (\n                          <div className=\"mt-2 text-right\">\n                            <button\n                              type=\"button\"\n                              onClick={() => {\n                                const updatedItems = newInvoice.workItems.filter((_, i) => i !== index);\n                                setNewInvoice(prev => ({ ...prev, workItems: updatedItems }));\n                              }}\n                              className=\"text-red-600 hover:text-red-800 text-xs\"\n                            >\n                               \n                            </button>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                  \n                  <div className=\"text-right mt-2\">\n                    <span className=\"text-lg font-bold\">\n                      : {getTotalAmount(newInvoice.workItems).toLocaleString()}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end space-x-2 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowModal(false)}\n                    className=\"px-4 py-2 text-gray-500 hover:text-gray-700\"\n                  >\n                    \n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded\"\n                  >\n                     \n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/*    */}\n      {selectedInvoice && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-10 mx-auto p-5 border w-4/5 max-w-3xl shadow-lg rounded-md bg-white\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-medium text-gray-900\">  - {selectedInvoice.id}</h3>\n              <button\n                onClick={() => setSelectedInvoice(null)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                \n              </button>\n            </div>\n            \n            <div className=\"border rounded-lg p-6 bg-gray-50\">\n              <div className=\"grid grid-cols-2 gap-4 mb-6\">\n                <div>\n                  <p><strong>:</strong> {selectedInvoice.client}</p>\n                  <p><strong>:</strong> {selectedInvoice.project}</p>\n                  <p><strong> :</strong> {selectedInvoice.workplaceAddress}</p>\n                </div>\n                <div>\n                  <p><strong>:</strong> {selectedInvoice.date}</p>\n                  <p><strong> :</strong> {selectedInvoice.dueDate}</p>\n                </div>\n              </div>\n              \n              <div className=\"mb-4\">\n                <h4 className=\"font-medium mb-2\"> </h4>\n                <table className=\"w-full border\">\n                  <thead className=\"bg-white\">\n                    <tr>\n                      <th className=\"border px-3 py-2 text-left\"></th>\n                      <th className=\"border px-3 py-2 text-center\"></th>\n                      <th className=\"border px-3 py-2 text-center\"></th>\n                      <th className=\"border px-3 py-2 text-right\"></th>\n                      <th className=\"border px-3 py-2 text-right\"></th>\n                      <th className=\"border px-3 py-2 text-left\"></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {selectedInvoice.workItems.map((item, index) => (\n                      <tr key={index}>\n                        <td className=\"border px-3 py-2\">\n                          <div>\n                            <div className=\"flex items-center justify-between mb-1\">\n                              <span className=\"font-medium text-gray-900\">\n                                {item.name}\n                              </span>\n                              {item.category && (\n                                <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full ml-2\">\n                                  {item.category}\n                                </span>\n                              )}\n                            </div>\n                            {item.description && (\n                              <div className=\"text-sm text-gray-600 leading-relaxed\">\n                                {item.description.split('\\n')[0]}\n                              </div>\n                            )}\n                            {(() => {\n                              const gen = (Number(item.laborPersonsGeneral) || 0) * (Number(item.laborUnitRateGeneral) || 0);\n                              const sk = (Number(item.laborPersons) || 0) * (Number(item.laborUnitRate) || 0);\n                              const laborTotal = gen + sk;\n                              \n                              if (laborTotal > 0) {\n                                const laborParts = [];\n                                if (gen > 0) laborParts.push(`: ${Number(item.laborPersonsGeneral)}  ${Number(item.laborUnitRateGeneral).toLocaleString()}`);\n                                if (sk > 0) laborParts.push(`: ${Number(item.laborPersons)}  ${Number(item.laborUnitRate).toLocaleString()}`);\n                                \n                                return (\n                                  <div className=\"text-sm text-blue-600 mt-1\">\n                                    <span className=\"font-medium\">:</span> {laborParts.join(', ')} = {laborTotal.toLocaleString()}\n                                  </div>\n                                );\n                              }\n                              return null;\n                            })()}\n                          </div>\n                        </td>\n                        <td className=\"border px-3 py-2 text-center\">{item.quantity}</td>\n                        <td className=\"border px-3 py-2 text-center\">{item.unit || '-'}</td>\n                        <td className=\"border px-3 py-2 text-right\">{item.unitPrice.toLocaleString()}</td>\n                        <td className=\"border px-3 py-2 text-right font-medium\">{item.total.toLocaleString()}</td>\n                        <td className=\"border px-3 py-2 text-left text-sm align-top\">\n                          {item.notes || '-'}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                  <tfoot>\n                    <tr className=\"bg-gray-100\">\n                      <td colSpan=\"5\" className=\"border px-3 py-2 text-right font-bold\"> :</td>\n                      <td className=\"border px-3 py-2 text-right font-bold text-lg\">\n                        {selectedInvoice.amount.toLocaleString()}\n                      </td>\n                    </tr>\n                  </tfoot>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* PDF    */}\n      <div style={{ display: 'none' }}>\n        <div ref={componentRef} style={{ padding: '40px', fontFamily: \"'Noto Sans KR', sans-serif\", fontSize: '12px', lineHeight: '1.4', maxWidth: '800px', margin: 'auto', backgroundColor: '#ffffff', color: '#374151' }}>\n          {printInvoice && (\n            <>\n              {/*     */}\n              <div style={{ marginBottom: '24px', backgroundColor: '#f3f4f6', padding: '12px', borderRadius: '8px' }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '10px' }}>\n                  <div style={{ fontSize: '14px', color: '#374151' }}>\n                    <strong> :</strong> {printInvoice.id}\n                  </div>\n                  <div style={{ fontSize: '14px', color: '#374151' }}>\n                    <strong>:</strong> {printInvoice.date}\n                  </div>\n                </div>\n                <div style={{ textAlign: 'center', borderBottom: '2px solid #9ca3af', paddingBottom: '8px' }}>\n                  <h1 style={{ fontSize: '36px', margin: '0', fontWeight: 'bold', color: '#1f2937', letterSpacing: '8px' }}>      </h1>\n                </div>\n              </div>\n\n              {/*     */}\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '24px', marginBottom: '24px' }}>\n                {/*   () */}\n                <div>\n                  <h3 style={{ margin: '0 0 15px 0', fontSize: '18px', fontWeight: 'bold', color: '#1f2937', borderLeft: '4px solid #4f46e5', paddingLeft: '12px' }}>\n                     \n                  </h3>\n                  <div style={{ backgroundColor: '#f3f4f6', padding: '12px', borderRadius: '8px' }}>\n                    {(() => {\n                      const c = clients.find(c => String(c.id) === String(printInvoice.clientId || '')) || clients.find(c => c.name === printInvoice.client);\n                      if (!c) {\n                        return (\n                          <>\n                            <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {printInvoice.client}</p>\n                            <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {printInvoice.project}</p>\n                            <p style={{ margin: '8px 0', fontSize: '14px' }}><strong> :</strong> {printInvoice.workplaceAddress}</p>\n                          </>\n                        );\n                      }\n                      if (c.type === 'BUSINESS') {\n                        const b = c.business || {};\n                        return (\n                          <>\n                            <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {b.businessName || c.name || '-'}</p>\n                            <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {b.representative || '-'}</p>\n                            <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {b.businessNumber || '-'}</p>\n                            <p style={{ margin: '8px 0', fontSize: '14px' }}><strong> :</strong> {b.taxEmail || c.email || '-'}</p>\n                            <p style={{ margin: '8px 0', fontSize: '14px' }}><strong> :</strong> {b.businessAddress || c.address || '-'}</p>\n                            <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {printInvoice.project}</p>\n                            <p style={{ margin: '8px 0', fontSize: '14px' }}><strong> :</strong> {printInvoice.workplaceAddress}</p>\n                          </>\n                        );\n                      }\n                      return (\n                        <>\n                          <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {c.name}</p>\n                          {c.phone && <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {c.phone}</p>}\n                          {c.email && <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {c.email}</p>}\n                          <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {c.address || '-'}</p>\n                          <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {printInvoice.project}</p>\n                          <p style={{ margin: '8px 0', fontSize: '14px' }}><strong> :</strong> {printInvoice.workplaceAddress}</p>\n                        </>\n                      );\n                    })()}\n                  </div>\n                </div>\n                \n                {/*   () */}\n                <div>\n                  <h3 style={{ margin: '0 0 15px 0', fontSize: '18px', fontWeight: 'bold', color: '#1f2937', borderLeft: '4px solid #4f46e5', paddingLeft: '12px' }}>\n                     \n                  </h3>\n                  <div style={{ backgroundColor: '#f3f4f6', padding: '12px', borderRadius: '8px' }}>\n                    <p style={{ margin: '8px 0', fontSize: '12px' }}><strong>:</strong> {companyInfo.name}</p>\n                    <p style={{ margin: '8px 0', fontSize: '12px' }}><strong>:</strong> {companyInfo.businessNumber}</p>\n                    <p style={{ margin: '8px 0', fontSize: '12px' }}><strong>:</strong> {companyInfo.representative}</p>\n                    <p style={{ margin: '8px 0', fontSize: '12px' }}><strong>:</strong> {companyInfo.address}</p>\n                    <p style={{ margin: '8px 0', fontSize: '12px' }}><strong>:</strong> {companyInfo.phone}</p>\n                    {companyInfo.email && <p style={{ margin: '8px 0', fontSize: '12px' }}><strong>:</strong> {companyInfo.email}</p>}\n                  </div>\n                </div>\n              </div>\n\n\n              {/*    */}\n              <div style={{ marginBottom: '30px', padding: '15px', backgroundColor: '#dbeafe', borderRadius: '8px', borderLeft: '4px solid #3b82f6', textAlign: 'left' }}>\n                <p style={{ margin: '0', fontSize: '18px', fontWeight: 'bold', color: '#1e3a8a' }}>\n                    :  {numberToKorean(printInvoice.amount)} \n                </p>\n              </div>\n\n              {/*    */}\n              <div style={{ marginBottom: '40px' }}>\n                <h3 style={{ margin: '0 0 20px 0', fontSize: '18px', fontWeight: 'bold', color: '#1f2937', borderLeft: '4px solid #4f46e5', paddingLeft: '12px' }}>\n                    \n                </h3>\n                <div style={{ overflowX: 'auto' }}>\n                  <table style={{ width: '100%', minWidth: '600px', borderCollapse: 'collapse', backgroundColor: '#fff', borderRadius: '8px', boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)' }}>\n                    <thead>\n                      <tr style={{ backgroundColor: '#f9fafb' }}>\n                        <th style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontWeight: 'bold', color: '#1f2937', width: '40px', fontSize: '14px' }}></th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontWeight: 'bold', color: '#1f2937', width: '110px', fontSize: '14px' }}></th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontWeight: 'bold', color: '#1f2937', fontSize: '14px' }}>\n                          \n                        </th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontWeight: 'bold', color: '#1f2937', fontSize: '14px' }}>\n                          \n                        </th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontWeight: 'bold', color: '#1f2937', fontSize: '14px' }}>\n                          \n                        </th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontWeight: 'bold', color: '#1f2937', fontSize: '14px' }}>\n                          \n                        </th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontWeight: 'bold', color: '#1f2937', fontSize: '14px' }}>\n                          \n                        </th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontWeight: 'bold', color: '#1f2937', fontSize: '14px' }}>\n                          \n                        </th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontWeight: 'bold', color: '#1f2937', fontSize: '14px' }}>\n                          \n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {printInvoice.workItems.map((item, index) => (\n                        <tr key={index} style={{ ':hover': { backgroundColor: '#f1f5f9' } }}>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontSize: '14px' }}>{index + 1}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontSize: '14px' }}>{item.date || '-'}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'left', fontSize: '15px' }}>\n                            <div>\n                              <strong>{item.name}</strong>\n                              {item.description && (\n                                <div style={{ fontSize: '14px', color: '#6b7280', marginTop: '4px' }}>\n                                  {item.description}\n                                </div>\n                              )}\n                              {(() => {\n                                const gen = (Number(item.laborPersonsGeneral) || 0) * (Number(item.laborUnitRateGeneral) || 0);\n                                const sk = (Number(item.laborPersons) || 0) * (Number(item.laborUnitRate) || 0);\n                                const laborTotal = gen + sk;\n                                \n                                if (laborTotal > 0) {\n                                  const laborParts = [];\n                                  if (gen > 0) laborParts.push(`: ${Number(item.laborPersonsGeneral)}  ${Number(item.laborUnitRateGeneral).toLocaleString()}`);\n                                  if (sk > 0) laborParts.push(`: ${Number(item.laborPersons)}  ${Number(item.laborUnitRate).toLocaleString()}`);\n                                  \n                                  return (\n                                    <div style={{ fontSize: '13px', color: '#2563eb', marginTop: '4px', fontWeight: '500' }}>\n                                      : {laborParts.join(', ')} = {laborTotal.toLocaleString()}\n                                    </div>\n                                  );\n                                }\n                                return null;\n                              })()}\n                            </div>\n                          </td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontSize: '14px' }}>{item.category || '-'}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontSize: '14px' }}>{item.quantity}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontSize: '14px' }}>{item.unit || '-'}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'right', fontSize: '14px' }}>{item.unitPrice.toLocaleString()}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'right', fontSize: '14px' }}>{item.total.toLocaleString()}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'left', fontSize: '14px', verticalAlign: 'top' }}>\n                            {item.notes || '-'}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                    <tfoot>\n                      <tr style={{ backgroundColor: '#f0f0f0', fontWeight: 'bold', color: '#1f2937' }}>\n                        <td colSpan=\"8\" style={{ padding: '15px 16px', border: '1px solid #e5e7eb', textAlign: 'right', fontSize: '17px' }}>\n                          :\n                        </td>\n                        <td style={{ padding: '15px 16px', border: '1px solid #e5e7eb', textAlign: 'center', fontSize: '17px', fontWeight: 'bold' }}>\n                          {printInvoice.amount.toLocaleString()}\n                        </td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              </div>\n\n              {/*   */}\n              <div style={{ marginTop: '20px', marginBottom: '20px' }}>\n                <h3 style={{ margin: '0 0 10px 0', fontSize: '18px', fontWeight: 'bold', color: '#1f2937', borderLeft: '4px solid #4f46e5', paddingLeft: '12px' }}>\n                   \n                </h3>\n                <div style={{ backgroundColor: '#f9fafb', padding: '12px', borderRadius: '8px' }}>\n                  {companyInfo.bankAccount && (\n                    <>\n                      <p style={{ margin: '5px 0', fontSize: '14px' }}><strong>:</strong></p>\n                      <p style={{ margin: '3px 0', fontSize: '14px' }}>{companyInfo.bankAccount}</p>\n                      <p style={{ margin: '3px 0', fontSize: '14px' }}>: {companyInfo.accountHolder}</p>\n                    </>\n                  )}\n                </div>\n              </div>\n\n              {/*   */}\n              <div style={{ textAlign: 'right', marginBottom: '20px' }}>\n                <p style={{ margin: '0 0 15px 0', fontSize: '16px', lineHeight: '1.6' }}>  .</p>\n                <div style={{ marginTop: '20px', textAlign: 'right', border: '1px solid #e5e7eb', padding: '15px', borderRadius: '8px', backgroundColor: '#f9fafb' }}>\n                  <div style={{ textAlign: 'right', marginBottom: '10px' }}>\n                    <p style={{ margin: '0', fontSize: '16px', fontWeight: 'bold' }}>\n                      {companyInfo.name}\n                    </p>\n                  </div>\n                  <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', gap: '8px' }}>\n                    <span style={{ fontSize: '16px', fontWeight: 'bold' }}> : {companyInfo.representative.split('').join(' ')}</span>\n                    <div style={{ position: 'relative', display: 'inline-block' }}>\n                      <span style={{ fontSize: '16px', fontWeight: 'bold' }}>()</span>\n                      {stampImage && (\n                        <img \n                          src={stampImage} \n                          alt=\"\" \n                          style={{ \n                            width: '60px', \n                            height: '60px', \n                            objectFit: 'contain',\n                            border: 'none',\n                            position: 'absolute',\n                            top: '50%',\n                            left: '50%',\n                            transform: 'translate(-50%, -50%)'\n                          }} \n                        />\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/*   -     */}\n              <div style={{ position: 'relative', marginTop: '30px', paddingTop: '15px', borderTop: '1px solid #e5e7eb' }}>\n                <div style={{ textAlign: 'center', fontSize: '12px', color: '#6b7280', marginBottom: '8px' }}>\n                  <p style={{ margin: '0 0 5px 0', lineHeight: '1.5' }}>       .</p>\n                  <p style={{ margin: '0', fontWeight: 'bold', fontSize: '13px' }}>.</p>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default Invoices;\n","import React, { useState, useRef, useMemo } from 'react';\nimport { useApp } from '../contexts/AppContext';\nimport { exportToExcel, importFromExcel, createTemplate } from '../utils/excelUtils';\n\n//     \nfunction formatPhoneKR(input) {\n  const digits = String(input || '').replace(/\\D/g, '');\n  if (digits.startsWith('02')) {\n    if (digits.length <= 2) return digits;\n    if (digits.length <= 5) return `${digits.slice(0, 2)}-${digits.slice(2)}`;\n    if (digits.length <= 9) return `${digits.slice(0, 2)}-${digits.slice(2, digits.length - 4)}-${digits.slice(digits.length - 4)}`;\n    return `${digits.slice(0, 2)}-${digits.slice(2, 6)}-${digits.slice(6, 10)}`; // 02-xxxx-xxxx\n  }\n  // (010 )   (3)\n  if (digits.length <= 3) return digits;\n  if (digits.length <= 7) return `${digits.slice(0, 3)}-${digits.slice(3)}`;\n  if (digits.length <= 11) return `${digits.slice(0, 3)}-${digits.slice(3, digits.length - 4)}-${digits.slice(digits.length - 4)}`;\n  return `${digits.slice(0, 3)}-${digits.slice(3, 7)}-${digits.slice(7, 11)}`; //  11\n}\n\nfunction Clients() {\n  const { clients, setClients, invoices, workItems } = useApp();\n  const [selectedIds, setSelectedIds] = useState([]);\n\n  const [showModal, setShowModal] = useState(false);\n  const [selectedClient, setSelectedClient] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editingClientId, setEditingClientId] = useState(null);\n  const [newClient, setNewClient] = useState({\n    type: 'PERSON', // 'PERSON' | 'BUSINESS'\n    name: '',\n    phone: '',\n    mobile: '',\n    email: '',\n    address: '',\n    notes: '',\n    business: {\n      businessName: '', // \n      representative: '', // \n      businessNumber: '', // 10\n      businessType: '', // \n      businessItem: '', // \n      businessAddress: '',\n      taxEmail: ''\n    },\n    workplaces: [{ name: '', address: '', description: '' }]\n  });\n\n  const fileInputRef = useRef(null);\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n\n  //  /   \n  const allVisibleIds = clients.map(c => c.id);\n  const allSelected = selectedIds.length > 0 && selectedIds.length === allVisibleIds.length;\n  const toggleSelectAll = (checked) => setSelectedIds(checked ? allVisibleIds : []);\n  const toggleSelectOne = (id, checked) => setSelectedIds(prev => checked ? Array.from(new Set([...prev, id])) : prev.filter(x => x !== id));\n  const handleBulkDelete = () => {\n    if (selectedIds.length === 0) return;\n    setClients(prev => prev.filter(c => !selectedIds.includes(c.id)));\n    setSelectedIds([]);\n    setShowConfirmDelete(false);\n  };\n\n  // Excel  \n  const handleExportToExcel = () => {\n    exportToExcel.clients(clients);\n  };\n\n  const handleImportFromExcel = async (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      try {\n        const importedClients = await importFromExcel.clients(file);\n        setClients(prev => [...prev, ...importedClients]);\n        alert(`${importedClients.length}   .`);\n      } catch (error) {\n        alert('Excel     : ' + error.message);\n      }\n      //   \n      e.target.value = '';\n    }\n  };\n\n  const handleDownloadTemplate = () => {\n    createTemplate.clients();\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    const next = (name === 'phone' || name === 'mobile') ? formatPhoneKR(value) : value;\n    setNewClient(prev => ({\n      ...prev,\n      [name]: next\n    }));\n  };\n\n  const formatBizNo = (val) => {\n    const d = String(val || '').replace(/\\D/g, '').slice(0, 10);\n    if (d.length <= 3) return d;\n    if (d.length <= 5) return `${d.slice(0,3)}-${d.slice(3)}`;\n    return `${d.slice(0,3)}-${d.slice(3,5)}-${d.slice(5)}`;\n  };\n\n  const handleBusinessChange = (e) => {\n    const { name, value } = e.target;\n    const v = name === 'businessNumber' ? formatBizNo(value) : value;\n    setNewClient(prev => ({\n      ...prev,\n      business: {\n        ...prev.business,\n        [name]: v\n      }\n    }));\n  };\n\n  const handleWorkplaceChange = (index, field, value) => {\n    const updatedWorkplaces = [...newClient.workplaces];\n    updatedWorkplaces[index][field] = value;\n    setNewClient(prev => ({\n      ...prev,\n      workplaces: updatedWorkplaces\n    }));\n  };\n\n  const addWorkplace = () => {\n    setNewClient(prev => ({\n      ...prev,\n      workplaces: [...prev.workplaces, { name: '', address: '', description: '' }]\n    }));\n  };\n\n  const removeWorkplace = (index) => {\n    if (newClient.workplaces.length > 1) {\n      const updatedWorkplaces = newClient.workplaces.filter((_, i) => i !== index);\n      setNewClient(prev => ({\n        ...prev,\n        workplaces: updatedWorkplaces\n      }));\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const payload = { ...newClient };\n    if (payload.type === 'BUSINESS') {\n      //    :   \n      if (!payload.name && payload.business?.businessName) {\n        payload.name = payload.business.businessName;\n      }\n      //    (): 10 \n      const digits = String(payload.business?.businessNumber || '').replace(/\\D/g, '');\n      if (digits.length > 0 && digits.length !== 10) {\n        alert('  10 .');\n        return;\n      }\n    }\n    \n    if (isEditing) {\n      //  \n      const updatedClient = {\n        ...payload,\n        id: editingClientId,\n        workplaces: newClient.workplaces.map((wp, index) => ({\n          ...wp,\n          id: wp.id || index + 1\n        })),\n        projects: Array.from(new Set((newClient.workplaces || [])\n          .map(wp => (wp.description || '').trim())\n          .filter(Boolean)))\n      };\n      setClients(prev => prev.map(client => \n        client.id === editingClientId \n          ? { ...client, ...updatedClient, totalBilled: client.totalBilled, outstanding: client.outstanding }\n          : client\n      ));\n    } else {\n      //   \n      const client = {\n        ...payload,\n        id: clients.length + 1,\n        workplaces: newClient.workplaces.map((wp, index) => ({\n          ...wp,\n          id: index + 1\n        })),\n        projects: Array.from(new Set((newClient.workplaces || [])\n          .map(wp => (wp.description || '').trim())\n          .filter(Boolean))),\n        totalBilled: 0,\n        outstanding: 0\n      };\n      setClients(prev => [...prev, client]);\n    }\n    \n    //  \n    setNewClient({\n      type: 'PERSON',\n      name: '',\n      phone: '',\n      mobile: '',\n      email: '',\n      address: '',\n      notes: '',\n      business: {\n        businessName: '',\n        representative: '',\n        businessNumber: '',\n        businessType: '',\n        businessItem: '',\n        businessAddress: '',\n        taxEmail: ''\n      },\n      workplaces: [{ name: '', address: '', description: '' }]\n    });\n    setShowModal(false);\n    setIsEditing(false);\n    setEditingClientId(null);\n  };\n\n  const viewClientDetails = (client) => {\n    setSelectedClient(client);\n  };\n\n  const handleEditClient = (client) => {\n    setIsEditing(true);\n    setEditingClientId(client.id);\n    setNewClient({\n      type: client.type || 'PERSON',\n      name: client.name,\n      phone: client.phone,\n      mobile: client.mobile || '',\n      email: client.email,\n      address: client.address,\n      notes: client.notes,\n      business: client.business || {\n        businessName: '',\n        representative: '',\n        businessNumber: '',\n        businessType: '',\n        businessItem: '',\n        businessAddress: '',\n        taxEmail: ''\n      },\n      workplaces: client.workplaces || [{ name: '', address: '', description: '' }]\n    });\n    setShowModal(true);\n  };\n\n  // : / (invoices , clientId / )\n  const totalsByClientId = useMemo(() => {\n    const map = new Map();\n    clients.forEach(c => map.set(c.id, { total: 0, outstanding: 0 }));\n    (invoices || []).forEach(inv => {\n      const amount = Number(inv.amount) || 0;\n      let cid = inv.clientId != null && inv.clientId !== '' ? parseInt(inv.clientId) : null;\n      if (!cid) {\n        const match = clients.find(c => c.name === inv.client);\n        cid = match ? match.id : null;\n      }\n      if (!cid) return;\n      const agg = map.get(cid) || { total: 0, outstanding: 0 };\n      agg.total += amount;\n      if (inv.status !== '') agg.outstanding += amount;\n      map.set(cid, agg);\n    });\n    return map;\n  }, [clients, invoices]);\n\n  const grandTotals = useMemo(() => {\n    let total = 0;\n    let outstanding = 0;\n    (invoices || []).forEach(inv => {\n      const amount = Number(inv.amount) || 0;\n      total += amount;\n      if (inv.status !== '') outstanding += amount;\n    });\n    return { total, outstanding };\n  }, [invoices]);\n\n  //  : clients.projects + workItems.projectName + invoices.project  \n  const projectCountsByClientId = useMemo(() => {\n    const sets = new Map();\n    const ensureSet = (id) => {\n      if (!sets.has(id)) sets.set(id, new Set());\n      return sets.get(id);\n    };\n\n    //  client.projects \n    clients.forEach(c => {\n      const s = ensureSet(c.id);\n      (c.projects || []).forEach(p => {\n        const v = (p || '').trim();\n        if (v) s.add(v);\n      });\n    });\n\n    // workItems.projectName \n    (workItems || []).forEach(wi => {\n      if (!wi) return;\n      const cid = wi.clientId;\n      if (!cid) return;\n      const v = (wi.projectName || '').trim();\n      if (!v) return;\n      ensureSet(cid).add(v);\n    });\n\n    // invoices.project  (clientId ,   )\n    (invoices || []).forEach(inv => {\n      const v = (inv.project || '').trim();\n      if (!v) return;\n      let cid = inv.clientId != null && inv.clientId !== '' ? parseInt(inv.clientId) : null;\n      if (!cid) {\n        const match = clients.find(c => c.name === inv.client);\n        cid = match ? match.id : null;\n      }\n      if (!cid) return;\n      ensureSet(cid).add(v);\n    });\n\n    //   \n    const counts = new Map();\n    for (const [id, set] of sets.entries()) counts.set(id, set.size);\n    return counts;\n  }, [clients, workItems, invoices]);\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex justify-between items-center mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\"> </h1>\n          <p className=\"text-gray-600\">     </p>\n        </div>\n        <div className=\"flex space-x-2\">\n          {selectedIds.length > 0 && (\n            <button\n              onClick={() => setShowConfirmDelete(true)}\n              className=\"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex items-center\"\n              title=\"   \"\n            >\n                ({selectedIds.length})\n            </button>\n          )}\n          <button\n            onClick={handleDownloadTemplate}\n            className=\"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded flex items-center\"\n          >\n              \n          </button>\n          <button\n            onClick={() => fileInputRef.current?.click()}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex items-center\"\n          >\n             Excel \n          </button>\n          <button\n            onClick={handleExportToExcel}\n            className=\"bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded flex items-center\"\n          >\n             Excel \n          </button>\n          <button\n            onClick={() => setShowModal(true)}\n            className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\n          >\n            +  \n          </button>\n        </div>\n      </div>\n\n      {/*    */}\n      <input\n        type=\"file\"\n        ref={fileInputRef}\n        onChange={handleImportFromExcel}\n        accept=\".xlsx,.xls\"\n        style={{ display: 'none' }}\n      />\n\n      {/*   */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\"> </p>\n              <p className=\"text-xl font-bold text-gray-900\">{clients.length}</p>\n            </div>\n            <div className=\"bg-blue-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\">  :</p>\n              <p className=\"text-xl font-bold text-green-600\">\n                {grandTotals.total.toLocaleString()}\n              </p>\n            </div>\n            <div className=\"bg-green-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\"></p>\n              <p className=\"text-xl font-bold text-red-600\">\n                {grandTotals.outstanding.toLocaleString()}\n              </p>\n            </div>\n            <div className=\"bg-red-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\"> </p>\n              <p className=\"text-xl font-bold text-orange-600\">\n                {clients.filter(c => (totalsByClientId.get(c.id)?.outstanding || 0) > 0).length}\n              </p>\n            </div>\n            <div className=\"bg-orange-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/*   */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                <input\n                  type=\"checkbox\"\n                  className=\"rounded border-gray-300\"\n                  checked={allSelected}\n                  onChange={(e) => toggleSelectAll(e.target.checked)}\n                  title=\" \"\n                />\n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                 \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                 \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {clients.map((client) => (\n              <tr key={client.id} className=\"hover:bg-gray-50\">\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"rounded border-gray-300\"\n                    checked={selectedIds.includes(client.id)}\n                    onChange={(e) => toggleSelectOne(client.id, e.target.checked)}\n                    title=\" \"\n                  />\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex items-center\">\n                    <div className=\"h-10 w-10 bg-gray-300 rounded-full flex items-center justify-center\">\n                      <span className=\"text-sm font-medium text-gray-700\">\n                        {client.name.charAt(0)}\n                      </span>\n                    </div>\n                    <div className=\"ml-4\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {client.name}\n                        {client.type === 'BUSINESS' && (\n                          <span className=\"ml-2 text-xs px-2 py-0.5 rounded bg-yellow-100 text-yellow-800\"></span>\n                        )}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {client.email}\n                        {client.type === 'BUSINESS' && client.business?.businessNumber && (\n                          <span className=\"ml-2\">: {client.business.businessNumber}</span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">\n                    {client.phone && <div>: {client.phone}</div>}\n                    {client.mobile && <div>: {client.mobile}</div>}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">{client.address}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">{(projectCountsByClientId.get(client.id) || 0)}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm font-medium text-gray-900\">\n                    {(totalsByClientId.get(client.id)?.total || 0).toLocaleString()}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className={`text-sm font-medium ${\n                    (totalsByClientId.get(client.id)?.outstanding || 0) > 0 ? 'text-red-600' : 'text-green-600'\n                  }`}>\n                    {(totalsByClientId.get(client.id)?.outstanding || 0).toLocaleString()}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <button \n                    onClick={() => viewClientDetails(client)}\n                    className=\"text-blue-600 hover:text-blue-900 mr-2\"\n                  >\n                    \n                  </button>\n                  <button \n                    className=\"text-green-600 hover:text-green-900 mr-2\"\n                    onClick={() => handleEditClient(client)}\n                  >\n                    \n                  </button>\n                  <button className=\"text-red-600 hover:text-red-900\"></button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/*     */}\n      {showConfirmDelete && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\"> </h3>\n            <p className=\"text-sm text-gray-600 mb-4\"> {selectedIds.length}  ?     .</p>\n            <div className=\"flex justify-end gap-2\">\n              <button className=\"btn-secondary\" onClick={() => setShowConfirmDelete(false)}></button>\n              <button className=\"btn-primary bg-red-600 hover:bg-red-700\" onClick={handleBulkDelete}></button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/*    */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-10 mx-auto p-5 border w-4/5 max-w-2xl shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                {isEditing ? '  ' : '  '}\n              </h3>\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                {/*   */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\"></label>\n                  <div className=\"flex items-center gap-6\">\n                    <label className=\"inline-flex items-center gap-2 text-sm\">\n                      <input\n                        type=\"radio\"\n                        name=\"type\"\n                        value=\"PERSON\"\n                        checked={newClient.type === 'PERSON'}\n                        onChange={() => setNewClient(prev => ({ ...prev, type: 'PERSON' }))}\n                      />\n                      \n                    </label>\n                    <label className=\"inline-flex items-center gap-2 text-sm\">\n                      <input\n                        type=\"radio\"\n                        name=\"type\"\n                        value=\"BUSINESS\"\n                        checked={newClient.type === 'BUSINESS'}\n                        onChange={() => setNewClient(prev => ({ ...prev, type: 'BUSINESS' }))}\n                      />\n                      \n                    </label>\n                  </div>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\"></label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={newClient.name}\n                    onChange={handleInputChange}\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                    required\n                  />\n                </div>\n                {/*   */}\n                {newClient.type === 'BUSINESS' && (\n                  <div className=\"border rounded-md p-3 bg-yellow-50\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700\"></label>\n                        <input\n                          type=\"text\"\n                          name=\"businessName\"\n                          value={newClient.business.businessName}\n                          onChange={handleBusinessChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                          required={newClient.type === 'BUSINESS'}\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700\"></label>\n                        <input\n                          type=\"text\"\n                          name=\"representative\"\n                          value={newClient.business.representative}\n                          onChange={handleBusinessChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                          required={newClient.type === 'BUSINESS'}\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700\"></label>\n                        <input\n                          type=\"text\"\n                          name=\"businessNumber\"\n                          value={newClient.business.businessNumber}\n                          onChange={handleBusinessChange}\n                          placeholder=\"000-00-00000\"\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                          required={newClient.type === 'BUSINESS'}\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700\"> </label>\n                        <input\n                          type=\"email\"\n                          name=\"taxEmail\"\n                          value={newClient.business.taxEmail}\n                          onChange={handleBusinessChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                          required={newClient.type === 'BUSINESS'}\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700\"></label>\n                        <input\n                          type=\"text\"\n                          name=\"businessType\"\n                          value={newClient.business.businessType}\n                          onChange={handleBusinessChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700\"></label>\n                        <input\n                          type=\"text\"\n                          name=\"businessItem\"\n                          value={newClient.business.businessItem}\n                          onChange={handleBusinessChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        />\n                      </div>\n                      <div className=\"md:col-span-2\">\n                        <label className=\"block text-sm font-medium text-gray-700\"> </label>\n                        <input\n                          type=\"text\"\n                          name=\"businessAddress\"\n                          value={newClient.business.businessAddress}\n                          onChange={handleBusinessChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                )}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\"></label>\n                  <input\n                    type=\"tel\"\n                    name=\"phone\"\n                    value={newClient.phone}\n                    onChange={handleInputChange}\n                    placeholder=\"02-1234-5678\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\"></label>\n                  <input\n                    type=\"tel\"\n                    name=\"mobile\"\n                    value={newClient.mobile}\n                    onChange={handleInputChange}\n                    placeholder=\"010-1234-5678\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\"></label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    value={newClient.email}\n                    onChange={handleInputChange}\n                    placeholder=\"\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\"></label>\n                  <textarea\n                    name=\"address\"\n                    value={newClient.address}\n                    onChange={handleInputChange}\n                    rows=\"2\"\n                    placeholder=\"\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\"></label>\n                  <textarea\n                    name=\"notes\"\n                    value={newClient.notes}\n                    onChange={handleInputChange}\n                    rows=\"3\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                  />\n                </div>\n                \n                {/*   */}\n                <div>\n                  <div className=\"flex justify-between items-center mb-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\"> </label>\n                    <button\n                      type=\"button\"\n                      onClick={addWorkplace}\n                      className=\"text-blue-600 hover:text-blue-800 text-sm\"\n                    >\n                      +  \n                    </button>\n                  </div>\n                  \n                  {newClient.workplaces.map((workplace, index) => (\n                    <div key={index} className=\"border rounded-md p-3 mb-3 bg-gray-50\">\n                      <div className=\"flex justify-between items-center mb-2\">\n                        <span className=\"text-sm font-medium text-gray-700\"> {index + 1}</span>\n                        {newClient.workplaces.length > 1 && (\n                          <button\n                            type=\"button\"\n                            onClick={() => removeWorkplace(index)}\n                            className=\"text-red-600 hover:text-red-800 text-sm\"\n                          >\n                            \n                          </button>\n                        )}\n                      </div>\n                      \n                      <div className=\"space-y-2\">\n                        <input\n                          type=\"text\"\n                          placeholder=\" (:  ,   )\"\n                          value={workplace.name}\n                          onChange={(e) => handleWorkplaceChange(index, 'name', e.target.value)}\n                          className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                          required\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\" \"\n                          value={workplace.address}\n                          onChange={(e) => handleWorkplaceChange(index, 'address', e.target.value)}\n                          className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                          required\n                        />\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\"></label>\n                        <textarea\n                          placeholder=\" ()\"\n                          value={workplace.description}\n                          onChange={(e) => handleWorkplaceChange(index, 'description', e.target.value)}\n                          className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                          rows=\"2\"\n                          required\n                        />\n                        <p className=\"mt-1 text-xs text-red-600\">:  .</p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"flex justify-end space-x-2 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setShowModal(false);\n                      setIsEditing(false);\n                      setEditingClientId(null);\n                      setNewClient({\n                        name: '',\n                        phone: '',\n                        mobile: '',\n                        email: '',\n                        address: '',\n                        notes: '',\n                        workplaces: [{ name: '', address: '', description: '' }]\n                      });\n                    }}\n                    className=\"px-4 py-2 text-gray-500 hover:text-gray-700\"\n                  >\n                    \n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded\"\n                  >\n                    {isEditing ? '' : ''}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/*    */}\n      {selectedClient && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-10 mx-auto p-5 border w-4/5 max-w-3xl shadow-lg rounded-md bg-white\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-medium text-gray-900\">   - {selectedClient.name}</h3>\n              <button\n                onClick={() => setSelectedClient(null)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                \n              </button>\n            </div>\n            \n            <div className=\"border rounded-lg p-6 bg-gray-50\">\n              <div className=\"grid grid-cols-2 gap-6 mb-6\">\n                <div>\n                  <h4 className=\"font-medium mb-3\"> </h4>\n                  <p className=\"mb-2\"><strong>:</strong> {selectedClient.name}</p>\n                  {selectedClient.phone && <p className=\"mb-2\"><strong>:</strong> {selectedClient.phone}</p>}\n                  {selectedClient.mobile && <p className=\"mb-2\"><strong>:</strong> {selectedClient.mobile}</p>}\n                  {selectedClient.email && <p className=\"mb-2\"><strong>:</strong> {selectedClient.email}</p>}\n                  <p><strong>:</strong> {selectedClient.address}</p>\n                </div>\n                <div>\n                  <h4 className=\"font-medium mb-3\"> </h4>\n                  <p className=\"mb-2\"><strong> :</strong> {selectedClient.totalBilled.toLocaleString()}</p>\n                  <p className=\"mb-2\"><strong>:</strong> \n                    <span className={selectedClient.outstanding > 0 ? 'text-red-600 font-medium' : 'text-green-600'}>\n                      {selectedClient.outstanding.toLocaleString()}\n                    </span>\n                  </p>\n                  <p><strong> :</strong> {selectedClient.projects.length}</p>\n                </div>\n              </div>\n\n              {selectedClient.type === 'BUSINESS' && (\n                <div className=\"border rounded-md p-4 bg-yellow-50 mb-6\">\n                  <h4 className=\"font-medium mb-3\"> </h4>\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <p><strong>:</strong> {selectedClient.business?.businessName || '-'}</p>\n                    <p><strong>:</strong> {selectedClient.business?.representative || '-'}</p>\n                    <p><strong>:</strong> {selectedClient.business?.businessNumber || '-'}</p>\n                    <p><strong> :</strong> {selectedClient.business?.taxEmail || '-'}</p>\n                    <p><strong>:</strong> {selectedClient.business?.businessType || '-'}</p>\n                    <p><strong>:</strong> {selectedClient.business?.businessItem || '-'}</p>\n                    <p className=\"col-span-2\"><strong> :</strong> {selectedClient.business?.businessAddress || '-'}</p>\n                  </div>\n                </div>\n              )}\n              \n              <div className=\"mb-4\">\n                <h4 className=\"font-medium mb-2\"> </h4>\n                {selectedClient.workplaces && selectedClient.workplaces.length > 0 ? (\n                  <div className=\"space-y-3\">\n                    {selectedClient.workplaces.map((workplace, index) => (\n                      <div key={index} className=\"bg-white rounded border p-3\">\n                        <div className=\"flex justify-between items-start mb-2\">\n                          <h5 className=\"font-medium text-gray-900\">{workplace.name}</h5>\n                          <span className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded\">\n                             {index + 1}\n                          </span>\n                        </div>\n                        <p className=\"text-sm text-gray-600 mb-1\">\n                          <strong>:</strong> {workplace.address}\n                        </p>\n                        {workplace.description && (\n                          <p className=\"text-sm text-gray-600\">\n                            <strong>:</strong> {workplace.description}\n                          </p>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-gray-500 italic\">  .</p>\n                )}\n              </div>\n\n              <div className=\"mb-4\">\n                <h4 className=\"font-medium mb-2\"> </h4>\n                {selectedClient.projects.length > 0 ? (\n                  <ul className=\"bg-white rounded border p-3\">\n                    {selectedClient.projects.map((project, index) => (\n                      <li key={index} className=\"py-1 border-b last:border-b-0\">\n                         {project}\n                      </li>\n                    ))}\n                  </ul>\n                ) : (\n                  <p className=\"text-gray-500 italic\">  .</p>\n                )}\n              </div>\n              \n              {selectedClient.notes && (\n                <div>\n                  <h4 className=\"font-medium mb-2\"></h4>\n                  <p className=\"bg-white rounded border p-3\">{selectedClient.notes}</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Clients;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useApp } from '../contexts/AppContext';\nimport { useNavigate } from 'react-router-dom';\nimport { exportToExcel, importFromExcel, createTemplate } from '../utils/excelUtils';\n\nfunction WorkItems() {\n  const { clients, setClients, workItems, setWorkItems, invoices, setInvoices, getCompletedWorkItemsByClient, addWorkItemToInvoice, units, categories } = useApp();\n  const navigate = useNavigate();\n  \n\n  const [selectedClient, setSelectedClient] = useState('');\n  const [selectedProject, setSelectedProject] = useState('');\n  const [selectedItems, setSelectedItems] = useState([]);\n\n  const fileInputRef = useRef(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showBulkModal, setShowBulkModal] = useState(false);\n  const [editingItem, setEditingItem] = useState(null);\n  const [newItem, setNewItem] = useState({\n    clientId: '',\n    workplaceId: '',\n    name: '',\n    category: '',\n    defaultPrice: 0,\n    quantity: 1,\n    unit: '',\n    description: '',\n    projectName: '',\n    status: '',\n    notes: '',\n    date: new Date().toISOString().split('T')[0],\n    //  :    ()\n    laborPersons: '',\n    laborUnitRate: '',\n    //  :    ()\n    laborPersonsGeneral: '',\n    laborUnitRateGeneral: ''\n  });\n\n  const [showCustomProject, setShowCustomProject] = useState(false);\n\n  //   \n  const [bulkItems, setBulkItems] = useState([\n    {\n      name: '',\n      category: '',\n      defaultPrice: 0,\n      quantity: 1,\n      unit: '',\n      description: '',\n      status: '',\n      notes: '',\n      laborPersons: '',\n      laborUnitRate: ''\n    }\n  ]);\n\n  const [bulkBaseInfo, setBulkBaseInfo] = useState({\n    clientId: '',\n    workplaceId: '',\n    projectName: '',\n    date: new Date().toISOString().split('T')[0],\n    //  ()\n    bulkLaborPersons: '',\n    bulkLaborUnitRate: ''\n  });\n\n  const [showBulkCustomProject, setShowBulkCustomProject] = useState(false);\n\n  const statuses = ['', '', '', ''];\n  const [bulkStatus, setBulkStatus] = useState('');\n\n  // Calendar (single new item)\n  const calContainerRefSingle = useRef(null);\n  const calendarRefSingle = useRef(null);\n  const [calendarOpenSingle, setCalendarOpenSingle] = useState(false);\n  const [calendarMonthSingle, setCalendarMonthSingle] = useState(() => new Date());\n\n  useEffect(() => {\n    // Initialize month to selected date\n    if (newItem.date) {\n      const [y, m] = newItem.date.split('-').map(Number);\n      if (y && m) setCalendarMonthSingle(new Date(y, m - 1, 1));\n    }\n  }, [newItem.date]);\n\n  // Close single calendar when clicking outside\n  useEffect(() => {\n    const onDocClick = (e) => {\n      if (calContainerRefSingle.current && !calContainerRefSingle.current.contains(e.target)) {\n        setCalendarOpenSingle(false);\n      }\n    };\n    document.addEventListener('mousedown', onDocClick);\n    return () => document.removeEventListener('mousedown', onDocClick);\n  }, []);\n\n  const prevMonthSingle = () => setCalendarMonthSingle((d) => new Date(d.getFullYear(), d.getMonth() - 1, 1));\n  const nextMonthSingle = () => setCalendarMonthSingle((d) => new Date(d.getFullYear(), d.getMonth() + 1, 1));\n  const pad2 = (n) => String(n).padStart(2, '0');\n  const pickDateSingle = (day) => {\n    if (!day) return;\n    const y = calendarMonthSingle.getFullYear();\n    const m = calendarMonthSingle.getMonth() + 1;\n    const value = `${y}-${pad2(m)}-${pad2(day)}`;\n    setNewItem((prev) => ({ ...prev, date: value }));\n    setCalendarOpenSingle(false);\n  };\n  const renderCalendarRowsSingle = () => {\n    const first = new Date(calendarMonthSingle.getFullYear(), calendarMonthSingle.getMonth(), 1);\n    const startDay = first.getDay();\n    const days = new Date(calendarMonthSingle.getFullYear(), calendarMonthSingle.getMonth() + 1, 0).getDate();\n    const cells = [];\n    for (let i = 0; i < startDay; i++) cells.push(null);\n    for (let d = 1; d <= days; d++) cells.push(d);\n    const rows = [];\n    for (let i = 0; i < cells.length; i += 7) rows.push(cells.slice(i, i + 7));\n    return rows.map((row, idx) => (\n      <tr key={idx} className=\"text-center\">\n        {row.map((d, i2) => {\n          const color = i2 === 0 ? 'text-red-600' : i2 === 6 ? 'text-blue-600' : '';\n          return (\n            <td\n              key={i2}\n              className={`px-2 py-1 ${color} ${d ? 'cursor-pointer hover:bg-gray-100 rounded' : ''}`}\n              onClick={() => pickDateSingle(d)}\n            >\n              {d || ''}\n            </td>\n          );\n        })}\n      </tr>\n    ));\n  };\n\n  // Calendar (bulk base info)\n  const calContainerRefBulk = useRef(null);\n  const calendarRefBulk = useRef(null);\n  const [calendarOpenBulk, setCalendarOpenBulk] = useState(false);\n  const [calendarMonthBulk, setCalendarMonthBulk] = useState(() => new Date());\n\n  useEffect(() => {\n    if (bulkBaseInfo.date) {\n      const [y, m] = bulkBaseInfo.date.split('-').map(Number);\n      if (y && m) setCalendarMonthBulk(new Date(y, m - 1, 1));\n    }\n  }, [bulkBaseInfo.date]);\n\n  useEffect(() => {\n    const onDocClick = (e) => {\n      if (calContainerRefBulk.current && !calContainerRefBulk.current.contains(e.target)) {\n        setCalendarOpenBulk(false);\n      }\n    };\n    document.addEventListener('mousedown', onDocClick);\n    return () => document.removeEventListener('mousedown', onDocClick);\n  }, []);\n\n  const prevMonthBulk = () => setCalendarMonthBulk((d) => new Date(d.getFullYear(), d.getMonth() - 1, 1));\n  const nextMonthBulk = () => setCalendarMonthBulk((d) => new Date(d.getFullYear(), d.getMonth() + 1, 1));\n  const pickDateBulk = (day) => {\n    if (!day) return;\n    const y = calendarMonthBulk.getFullYear();\n    const m = calendarMonthBulk.getMonth() + 1;\n    const value = `${y}-${pad2(m)}-${pad2(day)}`;\n    setBulkBaseInfo((prev) => ({ ...prev, date: value }));\n    setCalendarOpenBulk(false);\n  };\n  const renderCalendarRowsBulk = () => {\n    const first = new Date(calendarMonthBulk.getFullYear(), calendarMonthBulk.getMonth(), 1);\n    const startDay = first.getDay();\n    const days = new Date(calendarMonthBulk.getFullYear(), calendarMonthBulk.getMonth() + 1, 0).getDate();\n    const cells = [];\n    for (let i = 0; i < startDay; i++) cells.push(null);\n    for (let d = 1; d <= days; d++) cells.push(d);\n    const rows = [];\n    for (let i = 0; i < cells.length; i += 7) rows.push(cells.slice(i, i + 7));\n    return rows.map((row, idx) => (\n      <tr key={idx} className=\"text-center\">\n        {row.map((d, i2) => {\n          const color = i2 === 0 ? 'text-red-600' : i2 === 6 ? 'text-blue-600' : '';\n          return (\n            <td\n              key={i2}\n              className={`px-2 py-1 ${color} ${d ? 'cursor-pointer hover:bg-gray-100 rounded' : ''}`}\n              onClick={() => pickDateBulk(d)}\n            >\n              {d || ''}\n            </td>\n          );\n        })}\n      </tr>\n    ));\n  };\n\n  //      ( + .projects +   )\n  const getClientProjects = (clientId) => {\n    if (!clientId) return [];\n    const cid = parseInt(clientId);\n    const fromWorkItems = workItems\n      .filter(item => item.clientId === cid)\n      .map(item => item.projectName)\n      .filter(Boolean);\n    const client = clients.find(c => c.id === cid);\n    const fromClientProjects = (client?.projects || []).filter(Boolean);\n    const fromWorkplaces = (client?.workplaces || [])\n      .map(wp => wp.description)\n      .filter(Boolean);\n    return Array.from(new Set([\n      ...fromWorkItems,\n      ...fromClientProjects,\n      ...fromWorkplaces\n    ]));\n  };\n\n  //    \n  const getAllProjects = () => {\n    const allProjects = [...new Set(workItems.map(item => item.projectName).filter(p => p))];\n    return allProjects.sort();\n  };\n\n  //   \n  const filteredWorkItems = workItems.filter(item => {\n    if (selectedClient && item.clientId !== parseInt(selectedClient)) return false;\n    if (selectedProject && item.projectName !== selectedProject) return false;\n    return true;\n  });\n\n  //    \n  const getClientWorkplaces = (clientId) => {\n    const client = clients.find(c => c.id === parseInt(clientId));\n    return client?.workplaces || [];\n  };\n\n  //    \n  const formatNumberWithCommas = (number) => {\n    return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  };\n\n  //  : ( + )     \n  const getLaborCost = (item) => {\n    const skilledPersons = parseInt(item?.laborPersons ?? 0, 10) || 0;\n    const skilledRate = parseInt(item?.laborUnitRate ?? 0, 10) || 0;\n    const generalPersons = parseInt(item?.laborPersonsGeneral ?? 0, 10) || 0;\n    const generalRate = parseInt(item?.laborUnitRateGeneral ?? 0, 10) || 0;\n    return (skilledPersons * skilledRate) + (generalPersons * generalRate);\n  };\n\n  //    \n  // eslint-disable-next-line no-unused-vars\n  const removeCommas = (str) => {\n    return str.replace(/,/g, '');\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    \n    if (name === 'defaultPrice' || name === 'quantity' || name === 'laborPersons' || name === 'laborUnitRate' || name === 'laborPersonsGeneral' || name === 'laborUnitRateGeneral') {\n      //   \n      const numbersOnly = value.replace(/[^\\d]/g, '');\n       //    .\n         if (numbersOnly === '') {\n           setNewItem(prev => ({\n            ...prev,\n            [name]: '' //    placeholder  \n          }));\n        } else {\n           //      .\n          const numericValue = parseInt(numbersOnly, 10);\n          setNewItem(prev => ({\n            ...prev,\n            [name]: numericValue\n          }));\n        }\n    } else {\n      const newValue = name === 'clientId' || name === 'workplaceId' \n        ? parseInt(value) || 0 \n        : value;\n      \n      setNewItem(prev => {\n        const updated = {\n          ...prev,\n          [name]: newValue\n        };\n    \n        //   / \n        if (name === 'clientId') {\n          updated.workplaceId = '';\n          updated.projectName = '';\n          setShowCustomProject(false);\n        }\n\n        //  \"custom\"    \n        if (name === 'projectName') {\n          if (value === 'custom') {\n            setShowCustomProject(true);\n            updated.projectName = '';\n          } else {\n            setShowCustomProject(false);\n          }\n        }\n\n        //   ,     ( )\n        if (name === 'workplaceId') {\n          const wp = getClientWorkplaces(updated.clientId).find(w => w.id === parseInt(value));\n          const suggested = (wp?.description || '').trim();\n          if (suggested) {\n            updated.projectName = suggested;\n          }\n        }\n        \n        return updated;\n      });\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    const selectedClientData = clients.find(c => c.id === newItem.clientId);\n    \n    if (editingItem) {\n      // \n      const selectedWorkplaceData = getClientWorkplaces(newItem.clientId).find(wp => wp.id === newItem.workplaceId);\n      setWorkItems(prev => prev.map(item => \n        item.id === editingItem.id \n          ? { \n              ...item, \n              ...newItem,\n              clientName: selectedClientData?.name || item.clientName,\n              workplaceName: selectedWorkplaceData?.name || item.workplaceName\n            }\n          : item\n      ));\n      //    \n      if (newItem.projectName) {\n        setClients(prev => prev.map(c => c.id === newItem.clientId\n          ? { ...c, projects: Array.from(new Set([...(c.projects || []), newItem.projectName])) }\n          : c\n        ));\n      }\n    } else {\n      //   \n      const selectedWorkplaceData = getClientWorkplaces(newItem.clientId).find(wp => wp.id === newItem.workplaceId);\n      const item = {\n        ...newItem,\n        id: Math.max(...workItems.map(i => i.id)) + 1,\n        clientName: selectedClientData?.name || '',\n        workplaceName: selectedWorkplaceData?.name || '',\n        date: newItem.date || new Date().toISOString().split('T')[0]\n      };\n      setWorkItems(prev => [...prev, item]);\n      //    \n      if (newItem.projectName) {\n        setClients(prev => prev.map(c => c.id === newItem.clientId\n          ? { ...c, projects: Array.from(new Set([...(c.projects || []), newItem.projectName])) }\n          : c\n        ));\n      }\n    }\n    \n    resetForm();\n  };\n\n  const resetForm = () => {\n    setNewItem({\n      clientId: '',\n      workplaceId: '',\n      name: '',\n      category: '',\n      defaultPrice: 0,\n      quantity: 1,\n      unit: '',\n      description: '',\n      projectName: '',\n      status: '',\n      notes: '',\n      date: new Date().toISOString().split('T')[0],\n      laborPersons: '',\n      laborUnitRate: ''\n    });\n    setEditingItem(null);\n    setShowModal(false);\n    setShowCustomProject(false);\n  };\n\n  //    \n  const handleBulkBaseInfoChange = (e) => {\n    const { name, value } = e.target;\n    setBulkBaseInfo(prev => ({\n      ...prev,\n      [name]: (name === 'clientId' || name === 'workplaceId')\n        ? (parseInt(value) || '')\n        : (name === 'bulkLaborPersons' || name === 'bulkLaborUnitRate')\n          ? (value.replace(/[^\\d]/g, '') === '' ? '' : parseInt(value.replace(/[^\\d]/g, ''), 10))\n          : value\n    }));\n    \n    if (name === 'clientId') {\n      setBulkBaseInfo(prev => ({ ...prev, workplaceId: '' }));\n    }\n\n    //  \"custom\"    \n    if (name === 'projectName') {\n      if (value === 'custom') {\n        setShowBulkCustomProject(true);\n        setBulkBaseInfo(prev => ({ ...prev, projectName: '' }));\n      } else {\n        setShowBulkCustomProject(false);\n      }\n    }\n  };\n\n  const handleBulkItemChange = (index, field, value) => {\n     const updatedItems = [...bulkItems];\n   \n     //   \n     if (field === 'defaultPrice' || field === 'quantity' || field === 'laborPersons' || field === 'laborUnitRate') {\n       const numbersOnly = String(value).replace(/[^\\d]/g,'');\n      \n       //    .\n        if (numbersOnly === '') {\n         updatedItems[index][field] = '';\n        } else {\n          //     .\n          updatedItems[index][field] = parseInt(numbersOnly,10);\n        }\n      } else {\n        //     .\n        updatedItems[index][field] = value;\n      }\n    \n      setBulkItems(updatedItems);\n    };\n\n\n  const removeBulkItem = (index) => {\n    if (bulkItems.length > 1) {\n      setBulkItems(prev => prev.filter((_, i) => i !== index));\n    }\n  };\nconst addBulkItem = () => {\n        setBulkItems(prev => [...prev, {\n          name: '',\n          category: '',\n          defaultPrice: 0,\n         quantity: 1,\n          unit: '',\n          description: '',\n          status: '',\n          notes: '',\n          laborPersons: '',\n          laborUnitRate: ''\n        }]);\n      };\n\n  const handleBulkSubmit = (e) => {\n    e.preventDefault();\n    \n    const selectedClientData = clients.find(c => c.id === bulkBaseInfo.clientId);\n    const selectedWorkplaceData = getClientWorkplaces(bulkBaseInfo.clientId).find(wp => wp.id === bulkBaseInfo.workplaceId);\n    \n    const newItems = bulkItems.map((item, index) => ({\n      ...item,\n      id: Math.max(...workItems.map(i => i.id)) + index + 1,\n      clientId: bulkBaseInfo.clientId,\n      clientName: selectedClientData?.name || '',\n      workplaceId: bulkBaseInfo.workplaceId,\n      workplaceName: selectedWorkplaceData?.name || '',\n      projectName: bulkBaseInfo.projectName,\n      date: bulkBaseInfo.date || new Date().toISOString().split('T')[0],\n      //  ()    \n      laborPersonsGeneral: (bulkBaseInfo.bulkLaborPersons !== '' && bulkBaseInfo.bulkLaborPersons != null) ? bulkBaseInfo.bulkLaborPersons : '',\n      laborUnitRateGeneral: (bulkBaseInfo.bulkLaborUnitRate !== '' && bulkBaseInfo.bulkLaborUnitRate != null) ? bulkBaseInfo.bulkLaborUnitRate : '',\n      //  ()   \n      laborPersons: (item.laborPersons !== '' && item.laborPersons != null) ? item.laborPersons : '',\n      laborUnitRate: (item.laborUnitRate !== '' && item.laborUnitRate != null) ? item.laborUnitRate : ''\n    }));\n    \n    setWorkItems(prev => [...prev, ...newItems]);\n    //    \n    if (bulkBaseInfo.projectName) {\n      setClients(prev => prev.map(c => c.id === bulkBaseInfo.clientId\n        ? { ...c, projects: Array.from(new Set([...(c.projects || []), bulkBaseInfo.projectName])) }\n        : c\n      ));\n    }\n    \n    //  \n    setBulkItems([{\n      name: '',\n      category: '',\n      defaultPrice: 0,\n      quantity: 1,\n      unit: '',\n      description: '',\n      status: '',\n      notes: '',\n      laborPersons: '',\n      laborUnitRate: ''\n    }]);\n    setBulkBaseInfo({\n      clientId: '',\n      workplaceId: '',\n      projectName: '',\n      date: new Date().toISOString().split('T')[0],\n      bulkLaborPersons: '',\n      bulkLaborUnitRate: ''\n    });\n    setShowBulkModal(false);\n    setShowBulkCustomProject(false);\n    \n    alert(`${newItems.length}   .`);\n  };\n\n  const handleEdit = (item) => {\n    const allProjects = getAllProjects();\n    const isExistingProject = allProjects.includes(item.projectName);\n    \n    setNewItem({\n      clientId: item.clientId,\n      workplaceId: item.workplaceId || '',\n      name: item.name,\n      category: item.category,\n      defaultPrice: item.defaultPrice,\n      quantity: item.quantity || 1,\n      unit: item.unit,\n      description: item.description,\n      projectName: item.projectName,\n      status: item.status,\n      notes: item.notes || '',\n      date: item.date || new Date().toISOString().split('T')[0],\n      laborPersons: item.laborPersons || '',\n      laborUnitRate: item.laborUnitRate || ''\n    });\n    setEditingItem(item);\n    setShowCustomProject(!isExistingProject);\n    setShowModal(true);\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm(' ?')) {\n      setWorkItems(prev => prev.filter(item => item.id !== id));\n    }\n  };\n\n  //    ()\n  const handleItemSelect = (itemId, checked) => {\n    if (checked) {\n      setSelectedItems(prev => [...prev, itemId]);\n    } else {\n      setSelectedItems(prev => prev.filter(id => id !== itemId));\n    }\n  };\n\n  const handleSelectAll = (checked) => {\n    if (checked) {\n      setSelectedItems(filteredWorkItems.map(item => item.id));\n    } else {\n      setSelectedItems([]);\n    }\n  };\n\n  //    \n  const handleBulkDelete = () => {\n    if (selectedItems.length === 0) {\n      alert('   .');\n      return;\n    }\n\n    if (window.confirm(` ${selectedItems.length}    ?`)) {\n      setWorkItems(prev => prev.filter(item => !selectedItems.includes(item.id)));\n      setSelectedItems([]);\n      alert(`${selectedItems.length}   .`);\n    }\n  };\n\n  //    \n  const handleCreateBulkInvoice = () => {\n    if (selectedItems.length === 0) {\n      alert('    .');\n      return;\n    }\n\n    //    \n    const selectedWorkItems = workItems.filter(item => selectedItems.includes(item.id));\n    \n    //   \n    const completedSelectedItems = selectedWorkItems.filter(item => item.status === '');\n    \n    if (completedSelectedItems.length === 0) {\n      alert('      .       .');\n      return;\n    }\n\n    if (completedSelectedItems.length < selectedItems.length) {\n      const incompleteCount = selectedItems.length - completedSelectedItems.length;\n      if (!window.confirm(`   ${incompleteCount}     .  ${completedSelectedItems.length}   ?`)) {\n        return;\n      }\n    }\n\n    //   \n    const firstClientId = completedSelectedItems[0].clientId;\n    const sameClient = completedSelectedItems.every(item => item.clientId === firstClientId);\n    \n    if (!sameClient) {\n      alert('        .');\n      return;\n    }\n\n    //     \n    const unbilledItems = completedSelectedItems.filter(item => {\n      return !invoices.some(invoice => \n        invoice.workItems.some(workItemInInvoice => \n          workItemInInvoice.name === item.name && \n          invoice.client === item.clientName\n        )\n      );\n    });\n\n    if (unbilledItems.length === 0) {\n      alert('     .');\n      return;\n    }\n\n    //    (   )\n    const firstItem = unbilledItems[0];\n    const client = clients.find(c => c.id === firstItem.clientId);\n    const workplace = client?.workplaces.find(w => w.id === firstItem.workplaceId);\n\n    //   \n    const newInvoiceId = `INV-${new Date().getFullYear()}-${String(invoices.length + 1).padStart(3, '0')}`;\n    const workItemsForInvoice = unbilledItems.map(item => addWorkItemToInvoice(item));\n    const totalAmount = workItemsForInvoice.reduce((sum, item) => sum + item.total, 0);\n\n    const newInvoice = {\n      id: newInvoiceId,\n      client: firstItem.clientName,\n      project: firstItem.projectName,\n      workplaceAddress: workplace?.address || '',\n      amount: totalAmount,\n      status: '',\n      date: new Date().toISOString().split('T')[0],\n      dueDate: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n      workItems: workItemsForInvoice\n    };\n\n    //  \n    setInvoices(prev => [...prev, newInvoice]);\n    \n    //   \n    setSelectedItems([]);\n\n    //       \n    alert(` ${newInvoiceId} ! (${unbilledItems.length}  )`);\n    navigate('/invoices');\n  };\n\n  //     ( )\n  const handleCreateInvoice = (workItem) => {\n    //      \n    const completedItems = getCompletedWorkItemsByClient(workItem.clientId);\n    \n    //        \n    const unbilledItems = completedItems.filter(item => {\n      //       \n      return !invoices.some(invoice => \n        invoice.workItems.some(workItemInInvoice => \n          workItemInInvoice.name === item.name && \n          invoice.client === item.clientName\n        )\n      );\n    });\n\n    if (unbilledItems.length === 0) {\n      alert('     .');\n      return;\n    }\n\n    //   \n    const client = clients.find(c => c.id === workItem.clientId);\n    const workplace = client?.workplaces.find(w => w.id === workItem.workplaceId);\n\n    //   \n    const newInvoiceId = `INV-${new Date().getFullYear()}-${String(invoices.length + 1).padStart(3, '0')}`;\n    const workItemsForInvoice = unbilledItems.map(item => addWorkItemToInvoice(item));\n    const totalAmount = workItemsForInvoice.reduce((sum, item) => sum + item.total, 0);\n\n    const newInvoice = {\n      id: newInvoiceId,\n      client: workItem.clientName,\n      project: workItem.projectName,\n      workplaceAddress: workplace?.address || '',\n      amount: totalAmount,\n      status: '',\n      date: new Date().toISOString().split('T')[0],\n      dueDate: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString().split('T')[0], // 14 \n      workItems: workItemsForInvoice\n    };\n\n    //  \n    setInvoices(prev => [...prev, newInvoice]);\n\n    //       \n    alert(` ${newInvoiceId} !    .`);\n    navigate('/invoices');\n  };\n\n  // Excel  \n  const handleExportToExcel = () => {\n    exportToExcel.workItems(filteredWorkItems);\n  };\n\n  const handleImportFromExcel = async (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      try {\n        const importedWorkItems = await importFromExcel.workItems(file);\n        setWorkItems(prev => [...prev, ...importedWorkItems]);\n        alert(`${importedWorkItems.length}   .`);\n      } catch (error) {\n        alert('Excel     : ' + error.message);\n      }\n      e.target.value = '';\n    }\n  };\n\n  const handleDownloadTemplate = () => {\n    createTemplate.workItems();\n  };\n\n  const getCategoryColor = (category) => {\n    const colors = {\n      '': 'bg-brown-100 text-brown-800',\n      '': 'bg-gray-100 text-gray-800',\n      '': 'bg-red-100 text-red-800',\n      '': 'bg-blue-100 text-blue-800',\n      '': 'bg-yellow-100 text-yellow-800',\n      '': 'bg-green-100 text-green-800',\n      '': 'bg-purple-100 text-purple-800'\n    };\n    return colors[category] || 'bg-gray-100 text-gray-800';\n  };\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mb-8\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">  </h1>\n            <p className=\"text-gray-600\">      </p>\n          </div>\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={handleDownloadTemplate}\n              className=\"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded flex items-center\"\n            >\n                \n            </button>\n            <button\n              onClick={() => fileInputRef.current?.click()}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex items-center\"\n            >\n               Excel \n            </button>\n            <button\n              onClick={handleExportToExcel}\n              className=\"bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded flex items-center\"\n            >\n               Excel \n            </button>\n            <button\n              onClick={() => setShowBulkModal(true)}\n              className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded\"\n            >\n              +    \n            </button>\n            <button\n              onClick={() => setShowModal(true)}\n              className=\"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded\"\n            >\n              +   \n            </button>\n          </div>\n        </div>\n        \n        {/*     */}\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4 flex-wrap\">\n              <label className=\"text-sm font-medium text-gray-700\">:</label>\n              <select\n                value={selectedClient}\n                onChange={(e) => {\n                  setSelectedClient(e.target.value);\n                  setSelectedProject(''); //     \n                }}\n                className=\"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                style={{ fontSize: '15px' }}\n              >\n                <option value=\"\" style={{ fontSize: '15px' }}> </option>\n                {clients.map(client => (\n                  <option key={client.id} value={client.id}>{client.name}</option>\n                ))}\n              </select>\n              \n              <select\n                value={selectedProject}\n                onChange={(e) => setSelectedProject(e.target.value)}\n                className=\"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                style={{ fontSize: '15px' }}\n                disabled={!selectedClient}\n              >\n                <option value=\"\" style={{ fontSize: '15px' }}>\n                  {selectedClient ? ' ' : '  '}\n                </option>\n                {selectedClient && getClientProjects(selectedClient).map(project => (\n                  <option key={project} value={project}>{project}</option>\n                ))}\n              </select>\n              \n              <div className=\"text-sm text-gray-500\">\n                {(selectedClient || selectedProject) ? \n                  `${filteredWorkItems.length} ` : \n                  ` ${workItems.length} `\n                }\n              </div>\n              \n              {(selectedClient || selectedProject) && (\n                <button\n                  onClick={() => {\n                    setSelectedClient('');\n                    setSelectedProject('');\n                  }}\n                  className=\"text-xs text-purple-600 hover:text-purple-800\"\n                >\n                   \n                </button>\n              )}\n            </div>\n\n            {/*    */}\n            <div className=\"flex items-center space-x-2\">\n              {selectedItems.length > 0 && (\n                <>\n                  <div className=\"flex items-center space-x-2 mr-2\">\n                    <label className=\"text-xs text-gray-600\">  </label>\n                    <select\n                      value={bulkStatus}\n                      onChange={(e) => setBulkStatus(e.target.value)}\n                      className=\"border border-gray-300 rounded-md px-2 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                    >\n                      <option value=\"\"> </option>\n                      {statuses.map(s => (\n                        <option key={s} value={s}>{s}</option>\n                      ))}\n                    </select>\n                    <button\n                      onClick={() => {\n                        if (!bulkStatus) {\n                          alert('  .');\n                          return;\n                        }\n                        setWorkItems(prev => prev.map(item =>\n                          selectedItems.includes(item.id) ? { ...item, status: bulkStatus } : item\n                        ));\n                        setBulkStatus('');\n                      }}\n                      className=\"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-3 rounded flex items-center text-xs\"\n                    >\n                      \n                    </button>\n                  </div>\n                  <button\n                    onClick={handleCreateBulkInvoice}\n                    className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded flex items-center text-sm\"\n                  >\n                       ({selectedItems.length})\n                  </button>\n                  <button\n                    onClick={handleBulkDelete}\n                    className=\"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-3 rounded flex items-center text-sm\"\n                  >\n                      ({selectedItems.length})\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        {/*    */}\n        <input\n          type=\"file\"\n          ref={fileInputRef}\n          onChange={handleImportFromExcel}\n          accept=\".xlsx,.xls\"\n          style={{ display: 'none' }}\n        />\n      </div>\n\n      {/*   */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\">\n                {(selectedClient || selectedProject) ? ' ' : '  '}\n              </p>\n              <p className=\"text-xl font-bold text-gray-900\">{filteredWorkItems.length}</p>\n            </div>\n            <div className=\"bg-blue-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\"> </p>\n              <p className=\"text-xl font-bold text-green-600\">\n                {filteredWorkItems.filter(item => item.status === '').length}\n              </p>\n            </div>\n            <div className=\"bg-green-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\">  </p>\n              <p className=\"text-xl font-bold text-purple-600\">\n                {filteredWorkItems.filter(item => item.status === '').length}\n              </p>\n            </div>\n            <div className=\"bg-purple-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\">  </p>\n              <p className=\"text-xl font-bold text-orange-600\">\n                {filteredWorkItems.reduce((sum, item) => sum + ((item.defaultPrice || 0) * (item.quantity || 1)) + getLaborCost(item), 0).toLocaleString()}\n              </p>\n            </div>\n            <div className=\"bg-orange-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/*    */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                <input\n                  type=\"checkbox\"\n                  onChange={(e) => handleSelectAll(e.target.checked)}\n                  checked={selectedItems.length > 0 && selectedItems.length === filteredWorkItems.length}\n                  className=\"rounded border-gray-300\"\n                  title=\" \"\n                />\n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                /\n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {filteredWorkItems.map((item) => (\n              <tr key={item.id} className=\"hover:bg-gray-50\">\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedItems.includes(item.id)}\n                    onChange={(e) => handleItemSelect(item.id, e.target.checked)}\n                    className=\"rounded border-gray-300\"\n                    title=\" \"\n                  />\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex items-center\">\n                    <div className=\"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center\">\n                      <span className=\"text-xs font-medium text-gray-700\">\n                        {item.clientName.charAt(0)}\n                      </span>\n                    </div>\n                    <div className=\"ml-3\">\n                      <div className=\"text-sm font-medium text-gray-900\">{item.clientName}</div>\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div>\n                    <div className=\"text-sm font-medium text-gray-900\">{item.name}</div>\n                    <div className=\"text-sm text-gray-500\">{item.description}</div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">{item.workplaceName}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">{item.projectName}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getCategoryColor(item.category)}`}>\n                    {item.category}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm font-medium text-gray-900\">\n                    {item.defaultPrice.toLocaleString()}  {item.quantity || 1}\n                  </div>\n                  <div className=\"text-xs text-gray-500\">\n                    = {((item.defaultPrice || 0) * (item.quantity || 1)).toLocaleString()} / {item.unit}\n                  </div>\n                  {getLaborCost(item) > 0 && (\n                    <div className=\"text-xs text-gray-500\">\n                      +  {getLaborCost(item).toLocaleString()}\n                    </div>\n                  )}\n                  <div className=\"text-xs text-gray-700 font-medium\">\n                    (): {(((item.defaultPrice || 0) * (item.quantity || 1)) + getLaborCost(item)).toLocaleString()}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                    item.status === '' ? 'bg-green-100 text-green-800' :\n                    item.status === '' ? 'bg-blue-100 text-blue-800' :\n                    item.status === '' ? 'bg-red-100 text-red-800' :\n                    'bg-yellow-100 text-yellow-800'\n                  }`}>\n                    {item.status}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">{item.date}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <button \n                    onClick={() => handleEdit(item)}\n                    className=\"text-blue-600 hover:text-blue-900 mr-2\"\n                  >\n                    \n                  </button>\n                  <button \n                    onClick={() => handleDelete(item.id)}\n                    className=\"text-red-600 hover:text-red-900 mr-2\"\n                  >\n                    \n                  </button>\n                  {item.status === '' && (\n                    <button \n                      onClick={() => handleCreateInvoice(item)}\n                      className=\"text-green-600 hover:text-green-900\"\n                    >\n                       \n                    </button>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/*   /  */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                {editingItem ? '  ' : '   '}\n              </h3>\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"></label>\n                    <select\n                      name=\"clientId\"\n                      value={newItem.clientId}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      required\n                    >\n                      <option value=\"\"> </option>\n                      {clients.map(client => (\n                        <option key={client.id} value={client.id}>{client.name}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"></label>\n                    <select\n                      name=\"workplaceId\"\n                      value={newItem.workplaceId}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      required\n                      disabled={!newItem.clientId}\n                    >\n                      <option value=\"\"> </option>\n                      {newItem.clientId && getClientWorkplaces(newItem.clientId).map(workplace => (\n                        <option key={workplace.id} value={workplace.id}>\n                          {workplace.name} - {workplace.address}\n                        </option>\n                      ))}\n                    </select>\n                    {!newItem.clientId && (\n                      <p className=\"text-xs text-gray-500 mt-1\">  </p>\n                    )}\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"></label>\n                    {!showCustomProject ? (\n                      <select\n                        name=\"projectName\"\n                        value={newItem.projectName}\n                        onChange={handleInputChange}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        required\n                        disabled={!newItem.clientId}\n                      >\n                        <option value=\"\"> </option>\n                        {newItem.clientId && getClientProjects(newItem.clientId).map(project => (\n                          <option key={project} value={project}>{project}</option>\n                        ))}\n                        <option value=\"custom\">+   </option>\n                      </select>\n                    ) : (\n                      <div className=\"flex space-x-2\">\n                        <input\n                          type=\"text\"\n                          name=\"projectName\"\n                          value={newItem.projectName}\n                          onChange={handleInputChange}\n                          placeholder=\"  \"\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                          required\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setShowCustomProject(false);\n                            setNewItem(prev => ({ ...prev, projectName: '' }));\n                          }}\n                          className=\"mt-1 px-2 py-2 text-gray-400 hover:text-gray-600\"\n                          title=\"   \"\n                        >\n                          \n                        </button>\n                      </div>\n                    )}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"></label>\n                    <select\n                      name=\"category\"\n                      value={newItem.category}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      required\n                    >\n                      <option value=\"\"> </option>\n                      {categories.map(cat => (\n                        <option key={cat} value={cat}>{cat}</option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n                {/*  */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\"></label>\n                  <div className=\"mt-1 relative inline-block\" ref={calContainerRefSingle}>\n                    <div className=\"flex items-center gap-2\">\n                      <input\n                        type=\"text\"\n                        name=\"date\"\n                        value={newItem.date || ''}\n                        onChange={handleInputChange}\n                        placeholder=\"YYYY-MM-DD\"\n                        inputMode=\"numeric\"\n                        className=\"block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        onFocus={() => setCalendarOpenSingle(true)}\n                        required\n                      />\n                      <button\n                        type=\"button\"\n                        className=\"px-2 py-2 text-gray-600 hover:text-gray-800\"\n                        onClick={() => setCalendarOpenSingle((v) => !v)}\n                        title=\" \"\n                      >\n                        \n                      </button>\n                    </div>\n                    {calendarOpenSingle && (\n                      <div\n                        ref={calendarRefSingle}\n                        className=\"absolute z-50 bg-white border border-gray-300 rounded-md shadow-lg mt-2 p-3\"\n                        style={{ transform: 'scale(2)', transformOrigin: 'top left' }}\n                      >\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <button type=\"button\" className=\"px-2 py-1 text-sm border rounded\" onClick={prevMonthSingle}></button>\n                          <div className=\"text-sm font-medium\">\n                            {calendarMonthSingle.getFullYear()} {calendarMonthSingle.getMonth() + 1}\n                          </div>\n                          <button type=\"button\" className=\"px-2 py-1 text-sm border rounded\" onClick={nextMonthSingle}></button>\n                        </div>\n                        <table className=\"text-xs select-none\">\n                          <thead>\n                            <tr className=\"text-center text-gray-600\">\n                              {['','','','','','',''].map((d, idx) => (\n                                <th key={d} className={`px-2 py-1 ${idx === 0 ? 'text-red-600' : idx === 6 ? 'text-blue-600' : ''}`}>{d}</th>\n                              ))}\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {renderCalendarRowsSingle()}\n                          </tbody>\n                        </table>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"></label>\n                    <input\n                      type=\"text\"\n                      name=\"name\"\n                      value={newItem.name}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"></label>\n                    <input\n                      type=\"text\"\n                      name=\"quantity\"\n                      value={newItem.quantity || ''}\n                      onChange={handleInputChange}\n                      placeholder=\"1\"\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      required\n                    />\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"></label>\n                    <select\n                      name=\"unit\"\n                      value={newItem.unit}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      required\n                    >\n                      <option value=\"\"> </option>\n                      {units.map(unit => (\n                        <option key={unit} value={unit}>{unit}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"> </label>\n                    <input\n                      type=\"text\"\n                      name=\"defaultPrice\"\n                      value={newItem.defaultPrice ? formatNumberWithCommas(newItem.defaultPrice) : ''}\n                      onChange={handleInputChange}\n                      placeholder=\": 1,000,000\"\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      required\n                    />\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"> </label>\n                    <textarea\n                      name=\"description\"\n                      value={newItem.description}\n                      onChange={handleInputChange}\n                      rows=\"3\"\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\"></label>\n                    <textarea\n                      name=\"notes\"\n                      value={newItem.notes}\n                      onChange={handleInputChange}\n                      rows=\"3\"\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      placeholder=\"   \"\n                    />\n                  </div>\n                </div>\n                {/* () */}\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">  ()</label>\n                    <input\n                      type=\"text\"\n                      name=\"laborPersonsGeneral\"\n                      value={newItem.laborPersonsGeneral || ''}\n                      onChange={handleInputChange}\n                      placeholder=\": 2\"\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">  ()</label>\n                    <input\n                      type=\"text\"\n                      name=\"laborUnitRateGeneral\"\n                      value={newItem.laborUnitRateGeneral ? formatNumberWithCommas(newItem.laborUnitRateGeneral) : ''}\n                      onChange={handleInputChange}\n                      placeholder=\": 200,000\"\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                    />\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">  ()</label>\n                    <input\n                      type=\"text\"\n                      name=\"laborPersons\"\n                      value={newItem.laborPersons || ''}\n                      onChange={handleInputChange}\n                      placeholder=\": 1\"\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">  ()</label>\n                    <input\n                      type=\"text\"\n                      name=\"laborUnitRate\"\n                      value={newItem.laborUnitRate ? formatNumberWithCommas(newItem.laborUnitRate) : ''}\n                      onChange={handleInputChange}\n                      placeholder=\": 300,000\"\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                    />\n                  </div>\n                </div>\n                {(getLaborCost(newItem) > 0) && (\n                  <div className=\"text-sm text-gray-600\">\n                     : {getLaborCost(newItem).toLocaleString()}\n                  </div>\n                )}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\"></label>\n                  <select\n                    name=\"status\"\n                    value={newItem.status}\n                    onChange={handleInputChange}\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                    required\n                  >\n                    {statuses.map(status => (\n                      <option key={status} value={status}>{status}</option>\n                    ))}\n                  </select>\n                </div>\n                <div className=\"flex justify-end space-x-2 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={resetForm}\n                    className=\"px-4 py-2 text-gray-500 hover:text-gray-700\"\n                  >\n                    \n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded\"\n                  >\n                    {editingItem ? '' : ''}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/*      */}\n      {showBulkModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-10 mx-auto p-5 border w-4/5 max-w-6xl shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">   </h3>\n              <form onSubmit={handleBulkSubmit} className=\"space-y-6\">\n                \n                {/*   */}\n                <div className=\"bg-blue-50 p-4 rounded-lg\">\n                  <h4 className=\"text-md font-medium text-gray-800 mb-3\"> </h4>\n                  <div className=\"grid grid-cols-4 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\"></label>\n                      <select\n                        name=\"clientId\"\n                        value={bulkBaseInfo.clientId}\n                        onChange={handleBulkBaseInfoChange}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        required\n                      >\n                        <option value=\"\"> </option>\n                        {clients.map(client => (\n                          <option key={client.id} value={client.id}>{client.name}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\"></label>\n                      <select\n                        name=\"workplaceId\"\n                        value={bulkBaseInfo.workplaceId}\n                        onChange={handleBulkBaseInfoChange}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        required\n                        disabled={!bulkBaseInfo.clientId}\n                      >\n                        <option value=\"\"> </option>\n                        {bulkBaseInfo.clientId && getClientWorkplaces(bulkBaseInfo.clientId).map(workplace => (\n                          <option key={workplace.id} value={workplace.id}>\n                            {workplace.name} - {workplace.address}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\"></label>\n                      {!showBulkCustomProject ? (\n                        <select\n                          name=\"projectName\"\n                          value={bulkBaseInfo.projectName}\n                          onChange={handleBulkBaseInfoChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                          required\n                          disabled={!bulkBaseInfo.clientId}\n                        >\n                          <option value=\"\"> </option>\n                          {bulkBaseInfo.clientId && getClientProjects(bulkBaseInfo.clientId).map(project => (\n                            <option key={project} value={project}>{project}</option>\n                          ))}\n                          <option value=\"custom\">+   </option>\n                        </select>\n                      ) : (\n                        <div className=\"flex space-x-2\">\n                          <input\n                            type=\"text\"\n                            name=\"projectName\"\n                            value={bulkBaseInfo.projectName}\n                            onChange={handleBulkBaseInfoChange}\n                            placeholder=\"  \"\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                            required\n                          />\n                          <button\n                            type=\"button\"\n                            onClick={() => {\n                              setShowBulkCustomProject(false);\n                              setBulkBaseInfo(prev => ({ ...prev, projectName: '' }));\n                            }}\n                            className=\"mt-1 px-2 py-2 text-gray-400 hover:text-gray-600\"\n                            title=\"   \"\n                          >\n                            \n                          </button>\n                        </div>\n                      )}\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\"></label>\n                      <div className=\"mt-1 relative inline-block\" ref={calContainerRefBulk}>\n                        <div className=\"flex items-center gap-2\">\n                          <input\n                            type=\"text\"\n                            name=\"date\"\n                            value={bulkBaseInfo.date || ''}\n                            onChange={handleBulkBaseInfoChange}\n                            placeholder=\"YYYY-MM-DD\"\n                            inputMode=\"numeric\"\n                            className=\"block w-full border border-gray-300 rounded-md px-3 py-2\"\n                            onFocus={() => setCalendarOpenBulk(true)}\n                            required\n                          />\n                          <button\n                            type=\"button\"\n                            className=\"px-2 py-2 text-gray-600 hover:text-gray-800\"\n                            onClick={() => setCalendarOpenBulk((v) => !v)}\n                            title=\" \"\n                          >\n                            \n                          </button>\n                        </div>\n                        {calendarOpenBulk && (\n                          <div\n                            ref={calendarRefBulk}\n                            className=\"absolute z-50 bg-white border border-gray-300 rounded-md shadow-lg mt-2 p-3\"\n                            style={{ transform: 'scale(2)', transformOrigin: 'top left' }}\n                          >\n                            <div className=\"flex items-center justify-between mb-2\">\n                              <button type=\"button\" className=\"px-2 py-1 text-sm border rounded\" onClick={prevMonthBulk}></button>\n                              <div className=\"text-sm font-medium\">\n                                {calendarMonthBulk.getFullYear()} {calendarMonthBulk.getMonth() + 1}\n                              </div>\n                              <button type=\"button\" className=\"px-2 py-1 text-sm border rounded\" onClick={nextMonthBulk}></button>\n                            </div>\n                            <table className=\"text-xs select-none\">\n                              <thead>\n                                <tr className=\"text-center text-gray-600\">\n                                  {['','','','','','',''].map((d, idx) => (\n                                    <th key={d} className={`px-2 py-1 ${idx === 0 ? 'text-red-600' : idx === 6 ? 'text-blue-600' : ''}`}>{d}</th>\n                                  ))}\n                                </tr>\n                              </thead>\n                              <tbody>\n                                {renderCalendarRowsBulk()}\n                              </tbody>\n                            </table>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  {/*  () -   */}\n                  <div className=\"grid grid-cols-4 gap-4 mt-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\">  ()</label>\n                      <input\n                        type=\"text\"\n                        name=\"bulkLaborPersons\"\n                        value={bulkBaseInfo.bulkLaborPersons || ''}\n                        onChange={handleBulkBaseInfoChange}\n                        placeholder=\": 2\"\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\">  ()</label>\n                      <input\n                        type=\"text\"\n                        name=\"bulkLaborUnitRate\"\n                        value={bulkBaseInfo.bulkLaborUnitRate ? formatNumberWithCommas(bulkBaseInfo.bulkLaborUnitRate) : ''}\n                        onChange={handleBulkBaseInfoChange}\n                        placeholder=\": 200,000\"\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                {/*   */}\n                <div>\n                  <div className=\"flex justify-between items-center mb-3\">\n                    <h4 className=\"text-md font-medium text-gray-800\"> </h4>\n                    <button\n                      type=\"button\"\n                      onClick={addBulkItem}\n                      className=\"text-blue-600 hover:text-blue-800 text-sm\"\n                    >\n                      +  \n                    </button>\n                  </div>\n                  \n                  <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                    {bulkItems.map((item, index) => (\n                      <div key={index} className=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n                        <div className=\"flex justify-between items-center mb-3\">\n                          <span className=\"text-sm font-medium text-gray-700\">  #{index + 1}</span>\n                          {bulkItems.length > 1 && (\n                            <button\n                              type=\"button\"\n                              onClick={() => removeBulkItem(index)}\n                              className=\"text-red-600 hover:text-red-800 text-sm\"\n                            >\n                              \n                            </button>\n                          )}\n                        </div>\n                        \n                        <div className=\"grid grid-cols-2 gap-3 mb-3\">\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <input\n                              type=\"text\"\n                              value={item.name}\n                              onChange={(e) => handleBulkItemChange(index, 'name', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              required\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <select\n                              value={item.category}\n                              onChange={(e) => handleBulkItemChange(index, 'category', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              required\n                            >\n                              <option value=\"\"> </option>\n                              {categories.map(cat => (\n                                <option key={cat} value={cat}>{cat}</option>\n                              ))}\n                            </select>\n                          </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-4 gap-3 mb-3\">\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <input\n                              type=\"text\"\n                              value={item.quantity || ''}\n                              onChange={(e) => handleBulkItemChange(index, 'quantity', e.target.value)}\n                              placeholder=\"1\"\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              required\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <select\n                              value={item.unit}\n                              onChange={(e) => handleBulkItemChange(index, 'unit', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              required\n                            >\n                              <option value=\"\"> </option>\n                              {units.map(unit => (\n                                <option key={unit} value={unit}>{unit}</option>\n                              ))}\n                            </select>\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"> </label>\n                            <input\n                              type=\"text\"\n                              value={item.defaultPrice ? formatNumberWithCommas(item.defaultPrice) : ''}\n                              onChange={(e) => handleBulkItemChange(index, 'defaultPrice', e.target.value)}\n                              placeholder=\": 1,000,000\"\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              required\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <select\n                              value={item.status}\n                              onChange={(e) => handleBulkItemChange(index, 'status', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                            >\n                              {statuses.map(status => (\n                                <option key={status} value={status}>{status}</option>\n                              ))}\n                            </select>\n                          </div>\n                        </div>\n\n                        {/* () -  */}\n                        <div className=\"grid grid-cols-2 gap-3 mb-3\">\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"> ()</label>\n                            <input\n                              type=\"text\"\n                              value={item.laborPersons || ''}\n                              onChange={(e) => handleBulkItemChange(index, 'laborPersons', e.target.value)}\n                              placeholder=\": 2\"\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"> ()</label>\n                            <input\n                              type=\"text\"\n                              value={item.laborUnitRate ? formatNumberWithCommas(item.laborUnitRate) : ''}\n                              onChange={(e) => handleBulkItemChange(index, 'laborUnitRate', e.target.value)}\n                              placeholder=\": 200,000\"\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                            />\n                          </div>\n                        </div>\n\n                        {/*    ( + ) */}\n                        {(getLaborCost(item) > 0) && (\n                          <div className=\"text-xs text-gray-600\">\n                             : {getLaborCost({\n                              ...item,\n                              laborPersonsGeneral: item.laborPersonsGeneral ?? bulkBaseInfo.bulkLaborPersons,\n                              laborUnitRateGeneral: item.laborUnitRateGeneral ?? bulkBaseInfo.bulkLaborUnitRate,\n                            }).toLocaleString()}\n                          </div>\n                        )}\n\n                        <div className=\"grid grid-cols-1 gap-3\">\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"> </label>\n                            <textarea\n                              value={item.description}\n                              onChange={(e) => handleBulkItemChange(index, 'description', e.target.value)}\n                              rows=\"2\"\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <textarea\n                              value={item.notes}\n                              onChange={(e) => handleBulkItemChange(index, 'notes', e.target.value)}\n                              rows=\"2\"\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              placeholder=\"   \"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end space-x-2 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowBulkModal(false)}\n                    className=\"px-4 py-2 text-gray-500 hover:text-gray-700\"\n                  >\n                    \n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded\"\n                  >\n                    {bulkItems.length}   \n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default WorkItems;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useApp } from '../contexts/AppContext';\nimport { useNavigate } from 'react-router-dom';\nimport { exportToExcel, importFromExcel, createTemplate } from '../utils/excelUtils';\nimport { numberToKorean } from '../utils/numberToKorean';\n\nfunction Estimates() {\n  const { \n    clients, \n    estimates, \n    setEstimates, \n    convertEstimateToWorkItems,\n    companyInfo,\n    units,\n    categories\n  } = useApp();\n  const navigate = useNavigate();\n  const componentRef = useRef();\n  \n  const [selectedClient, setSelectedClient] = useState('');\n  const [selectedStatus, setSelectedStatus] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [editingEstimate, setEditingEstimate] = useState(null);\n  const [printEstimate, setPrintEstimate] = useState(null);\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n  const [selectedIds, setSelectedIds] = useState([]);\n  const [newEstimate, setNewEstimate] = useState({\n    clientId: '',\n    workplaceId: '',\n    projectName: '',\n    title: '',\n    validUntil: '',\n    category: '',\n    status: '',\n    notes: '',\n    items: [\n      {\n        category: '',\n        name: '',\n        description: '',\n        quantity: 1,\n        unit: '',\n        unitPrice: 0,\n        notes: ''\n      }\n    ]\n  });\n  const [noDueDate, setNoDueDate] = useState(false);\n\n  // Custom calendar overlay state (for )\n  const calContainerRef = useRef(null);\n  const calendarRef = useRef(null);\n  const [calendarOpen, setCalendarOpen] = useState(false);\n  const [calendarMonth, setCalendarMonth] = useState(() => new Date());\n\n  // Initialize calendar month to current selected value\n  useEffect(() => {\n    if (newEstimate.validUntil) {\n      const [y, m] = newEstimate.validUntil.split('-').map(Number);\n      if (y && m) setCalendarMonth(new Date(y, m - 1, 1));\n    }\n  }, [newEstimate.validUntil]);\n\n  // Close calendar when clicking outside\n  useEffect(() => {\n    const onDocClick = (e) => {\n      if (calContainerRef.current && !calContainerRef.current.contains(e.target)) {\n        setCalendarOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', onDocClick);\n    return () => document.removeEventListener('mousedown', onDocClick);\n  }, []);\n\n  const prevMonth = () => setCalendarMonth((d) => new Date(d.getFullYear(), d.getMonth() - 1, 1));\n  const nextMonth = () => setCalendarMonth((d) => new Date(d.getFullYear(), d.getMonth() + 1, 1));\n  const pad2 = (n) => String(n).padStart(2, '0');\n  const pickDate = (day) => {\n    if (!day) return;\n    const y = calendarMonth.getFullYear();\n    const m = calendarMonth.getMonth() + 1;\n    const value = `${y}-${pad2(m)}-${pad2(day)}`;\n    setNewEstimate((prev) => ({ ...prev, validUntil: value }));\n    setCalendarOpen(false);\n  };\n  const renderCalendarRows = () => {\n    const first = new Date(calendarMonth.getFullYear(), calendarMonth.getMonth(), 1);\n    const startDay = first.getDay();\n    const days = new Date(calendarMonth.getFullYear(), calendarMonth.getMonth() + 1, 0).getDate();\n    const cells = [];\n    for (let i = 0; i < startDay; i++) cells.push(null);\n    for (let d = 1; d <= days; d++) cells.push(d);\n    const rows = [];\n    for (let i = 0; i < cells.length; i += 7) rows.push(cells.slice(i, i + 7));\n    return rows.map((row, idx) => (\n      <tr key={idx} className=\"text-center\">\n        {row.map((d, i2) => {\n          const color = i2 === 0 ? 'text-red-600' : i2 === 6 ? 'text-blue-600' : '';\n          return (\n            <td\n              key={i2}\n              className={`px-2 py-1 ${color} ${d ? 'cursor-pointer hover:bg-gray-100 rounded' : ''}`}\n              onClick={() => pickDate(d)}\n            >\n              {d || ''}\n            </td>\n          );\n        })}\n      </tr>\n    ));\n  };\n\n  // (removed) custom calendar overlay\n  const statuses = ['', '', '', ' ', ' '];\n\n  // Auto-reset printEstimate state to prevent UI issues\n  useEffect(() => {\n    if (printEstimate) {\n      const timer = setTimeout(() => {\n        setPrintEstimate(null);\n        console.log('Auto-reset printEstimate state');\n      }, 3000); // Reset after 3 seconds\n      \n      return () => clearTimeout(timer);\n    }\n  }, [printEstimate]);\n\n  //    \n  const getClientWorkplaces = (clientId) => {\n    const client = clients.find(c => c.id === parseInt(clientId));\n    return client?.workplaces || [];\n  };\n\n  //   \n  const filteredEstimates = estimates.filter(estimate => {\n    if (selectedClient && estimate.clientId !== parseInt(selectedClient)) return false;\n    if (selectedStatus && estimate.status !== selectedStatus) return false;\n    return true;\n  });\n\n  const allVisibleIds = filteredEstimates.map(e => e.id);\n  const allSelected = selectedIds.length > 0 && selectedIds.length === allVisibleIds.length;\n  const toggleSelectAll = (checked) => setSelectedIds(checked ? allVisibleIds : []);\n  const toggleSelectOne = (id, checked) => setSelectedIds(prev => checked ? Array.from(new Set([...prev, id])) : prev.filter(x => x !== id));\n\n  //   \n  const formatNumberWithCommas = (number) => {\n    return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    \n    const newValue = name === 'clientId' || name === 'workplaceId' \n      ? parseInt(value) || 0 \n      : value;\n    \n    setNewEstimate(prev => {\n      const updated = {\n        ...prev,\n        [name]: newValue\n      };\n      \n      //     \n      if (name === 'clientId') {\n        updated.workplaceId = '';\n      }\n      //      ( )\n      if (name === 'workplaceId') {\n        const client = clients.find(c => c.id === (typeof prev.clientId === 'string' ? parseInt(prev.clientId) : prev.clientId));\n        const wp = client?.workplaces?.find(w => w.id === (typeof newValue === 'string' ? parseInt(newValue) : newValue));\n        if (!updated.projectName && wp?.description) {\n          updated.projectName = wp.description;\n        }\n      }\n      \n      return updated;\n    });\n  };\n\n  const handleItemChange = (index, field, value) => {\n    const updatedItems = [...newEstimate.items];\n    \n    if (field === 'unitPrice' || field === 'quantity') {\n      const numbersOnly = value.replace(/[^\\d]/g, '');\n      const numericValue = parseInt(numbersOnly) || (field === 'quantity' ? 1 : 0);\n      updatedItems[index][field] = numericValue;\n      updatedItems[index].total = updatedItems[index].quantity * updatedItems[index].unitPrice;\n    } else {\n      updatedItems[index][field] = value;\n    }\n    \n    setNewEstimate(prev => ({ ...prev, items: updatedItems }));\n  };\n\n  const addItem = () => {\n    setNewEstimate(prev => ({\n      ...prev,\n      items: [...prev.items, {\n        category: '',\n        name: '',\n        description: '',\n        quantity: 1,\n        unit: '',\n        unitPrice: 0,\n        notes: ''\n      }]\n    }));\n  };\n\n  const removeItem = (index) => {\n    if (newEstimate.items.length > 1) {\n      setNewEstimate(prev => ({\n        ...prev,\n        items: prev.items.filter((_, i) => i !== index)\n      }));\n    }\n  };\n\n  const calculateTotal = () => {\n    return newEstimate.items.reduce((sum, item) => \n      sum + ((item.unitPrice || 0) * (item.quantity || 1)), 0\n    );\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    const selectedClientData = clients.find(c => c.id === newEstimate.clientId);\n    const selectedWorkplaceData = getClientWorkplaces(newEstimate.clientId).find(wp => wp.id === newEstimate.workplaceId);\n    \n    const estimateData = {\n      ...newEstimate,\n      id: editingEstimate ? editingEstimate.id : `EST-${new Date().getFullYear()}-${String(estimates.length + 1).padStart(3, '0')}`,\n      clientName: selectedClientData?.name || '',\n      workplaceName: selectedWorkplaceData?.name || '',\n      workplaceAddress: selectedWorkplaceData?.address || '',\n      date: editingEstimate ? editingEstimate.date : new Date().toISOString().split('T')[0],\n      totalAmount: calculateTotal(),\n      items: newEstimate.items.map((item, index) => ({\n        ...item,\n        id: index + 1,\n        total: (item.unitPrice || 0) * (item.quantity || 1)\n      }))\n    };\n    \n    if (editingEstimate) {\n      setEstimates(prev => prev.map(est => \n        est.id === editingEstimate.id ? estimateData : est\n      ));\n    } else {\n      setEstimates(prev => [...prev, estimateData]);\n    }\n    \n    resetForm();\n  };\n\n  const resetForm = () => {\n    setNewEstimate({\n      clientId: '',\n      workplaceId: '',\n      projectName: '',\n      title: '',\n      validUntil: '',\n      category: '',\n      status: '',\n      notes: '',\n      items: [\n        {\n          category: '',\n          name: '',\n          description: '',\n          quantity: 1,\n          unit: '',\n          unitPrice: 0,\n          notes: ''\n        }\n      ]\n    });\n    setEditingEstimate(null);\n    setShowModal(false);\n    setNoDueDate(false);\n  };\n\n  const handleEdit = (estimate) => {\n    setNewEstimate({\n      clientId: estimate.clientId,\n      workplaceId: estimate.workplaceId || '',\n      projectName: estimate.projectName,\n      title: estimate.title,\n      validUntil: estimate.validUntil,\n      category: estimate.category || '',\n      status: estimate.status,\n      notes: estimate.notes || '',\n      items: estimate.items.map(item => ({\n        category: item.category,\n        name: item.name,\n        description: item.description,\n        quantity: item.quantity,\n        unit: item.unit,\n        unitPrice: item.unitPrice,\n        notes: item.notes || ''\n      }))\n    });\n    setEditingEstimate(estimate);\n    setShowModal(true);\n    setNoDueDate(!estimate.validUntil);\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm(' ?')) {\n      setEstimates(prev => prev.filter(estimate => estimate.id !== id));\n    }\n  };\n  const handleBulkDelete = () => {\n    if (selectedIds.length === 0) return;\n    setEstimates(prev => prev.filter(est => !selectedIds.includes(est.id)));\n    setSelectedIds([]);\n    setShowConfirmDelete(false);\n  };\n\n  const handleConvertToWorkItems = (estimateId) => {\n    if (window.confirm('    ?')) {\n      const convertedItems = convertEstimateToWorkItems(estimateId);\n      alert(`${convertedItems.length}   .`);\n      navigate('/work-items');\n    }\n  };\n\n  const handlePrint = (estimate) => {\n    // Set printEstimate\n    setPrintEstimate(estimate);\n    \n    // Execute after waiting for state update\n    setTimeout(() => {\n      console.log(' PDF   :', estimate.id);\n      \n      // Get the print content\n      const printContent = componentRef.current;\n      if (!printContent) {\n        console.error('    ');\n        alert('   .    .');\n        return;\n      }\n      \n      // Create new window for printing with better specifications\n      const printWindow = window.open('', '_blank', 'width=1000,height=800,scrollbars=yes,resizable=yes');\n      if (!printWindow) {\n        alert(' .    .');\n        return;\n      }\n      \n      // Write comprehensive HTML content to new window\n      printWindow.document.write(`\n        <!DOCTYPE html>\n        <html lang=\"ko\">\n          <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title> - ${estimate.id}</title>\n            <link href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap\" rel=\"stylesheet\">\n            <style>\n              * { box-sizing: border-box; }\n              body { \n                margin: 0; \n                padding: 20px; \n                font-family: 'Noto Sans KR', sans-serif; \n                background: white;\n                line-height: 1.4;\n              }\n              @media print { \n                body { margin: 0; padding: 15px; }\n                .no-print { display: none; }\n              }\n              .toolbar { position: fixed; top: 10px; right: 10px; z-index: 1000; display: flex; gap: 10px; }\n              .print-header {\n                background: #3498db;\n                color: white;\n                padding: 10px 15px;\n                border-radius: 5px;\n                font-size: 14px;\n                cursor: pointer;\n              }\n              .print-header:hover {\n                background: #2980b9;\n              }\n              .close-header {\n                background: #e11d48; /* rose-600 */\n                color: white;\n                padding: 10px 15px;\n                border-radius: 5px;\n                font-size: 14px;\n                cursor: pointer;\n              }\n              .close-header:hover {\n                background: #be123c; /* rose-700 */\n              }\n              @media print {\n                .toolbar { display: none; }\n              }\n            </style>\n          </head>\n          <body>\n            <div class=\"toolbar no-print\">\n              <div class=\"close-header\" onclick=\"window.close()\"> </div>\n              <div class=\"print-header\" onclick=\"window.print()\">  (Ctrl+P)</div>\n            </div>\n            ${printContent.innerHTML}\n            <script>\n              //     \n              window.onload = function() {\n                window.focus();\n                console.log(' PDF  ');\n              };\n              \n              //   \n              document.addEventListener('keydown', function(e) {\n                if (e.ctrlKey && e.key === 'p') {\n                  e.preventDefault();\n                  window.print();\n                }\n              });\n            </script>\n          </body>\n        </html>\n      `);\n      \n      printWindow.document.close();\n      \n      //       \n      setTimeout(() => {\n        try {\n          printWindow.focus();\n          console.log('    ');\n          \n          //   ()\n          // alert('   .  Ctrl+P .');\n        } catch (error) {\n          console.error('   :', error);\n          alert('      .');\n        }\n      }, 300);\n      \n    }, 100);\n  };\n\n  //  \n  const handleExportToExcel = () => {\n    exportToExcel.estimates(estimates);\n  };\n\n  //  \n  const handleImportFromExcel = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    try {\n      const importedEstimates = await importFromExcel.estimates(file);\n      setEstimates(prev => [...prev, ...importedEstimates]);\n      alert(`${importedEstimates.length}   .`);\n    } catch (error) {\n      alert('    .');\n      console.error('Import error:', error);\n    }\n    \n    e.target.value = '';\n  };\n\n  //  \n  const handleDownloadTemplate = () => {\n    createTemplate.estimates();\n  };\n\n  //    \n  // eslint-disable-next-line no-unused-vars\n  const handleExportEstimateDetail = (estimate) => {\n    const detailData = {\n      ...estimate,\n      workItems: estimate.items.map(item => ({\n        name: item.name,\n        quantity: item.quantity,\n        unitPrice: item.unitPrice,\n        total: item.quantity * item.unitPrice,\n        category: item.category,\n        description: item.description,\n        notes: item.notes\n      }))\n    };\n    exportToExcel.estimateDetail(detailData);\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      '': 'bg-yellow-100 text-yellow-800',\n      '': 'bg-green-100 text-green-800',\n      '': 'bg-red-100 text-red-800',\n      ' ': 'bg-blue-100 text-blue-800',\n      ' ': 'bg-purple-100 text-purple-800'\n    };\n    return colors[status] || 'bg-gray-100 text-gray-800';\n  };\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mb-8\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\"> </h1>\n            <p className=\"text-gray-600\">     </p>\n          </div>\n          <div className=\"flex space-x-2\">\n            {/* Excel   */}\n            <button\n              onClick={handleDownloadTemplate}\n              className=\"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded\"\n            >\n                \n            </button>\n            \n            <button\n              onClick={handleExportToExcel}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n            >\n               Excel \n            </button>\n            \n            <label className=\"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded cursor-pointer\">\n               Excel \n              <input\n                type=\"file\"\n                accept=\".xlsx,.xls\"\n                onChange={handleImportFromExcel}\n                className=\"hidden\"\n              />\n            </label>\n            \n            <button\n              onClick={() => setShowModal(true)}\n              className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\n            >\n              +  \n            </button>\n          </div>\n        </div>\n        \n        {/*  */}\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"flex items-center space-x-4 flex-wrap\">\n            <label className=\"text-sm font-medium text-gray-700\">:</label>\n            <select\n              value={selectedClient}\n              onChange={(e) => setSelectedClient(e.target.value)}\n              className=\"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n              style={{ fontSize: '15px' }}\n            >\n              <option value=\"\"> </option>\n              {clients.map(client => (\n                <option key={client.id} value={client.id}>{client.name}</option>\n              ))}\n            </select>\n            \n            <select\n              value={selectedStatus}\n              onChange={(e) => setSelectedStatus(e.target.value)}\n              className=\"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n              style={{ fontSize: '15px' }}\n            >\n              <option value=\"\"> </option>\n              {statuses.map(status => (\n                <option key={status} value={status}>{status}</option>\n              ))}\n            </select>\n            \n            <div className=\"text-sm text-gray-500\">\n              {(selectedClient || selectedStatus) ? \n                `${filteredEstimates.length} ` : \n                ` ${estimates.length} `\n              }\n            </div>\n            \n            {(selectedClient || selectedStatus) && (\n              <button\n                onClick={() => {\n                  setSelectedClient('');\n                  setSelectedStatus('');\n                }}\n                className=\"text-xs text-green-600 hover:text-green-800\"\n              >\n                 \n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/*   */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\"> </p>\n              <p className=\"text-xl font-bold text-gray-900\">{filteredEstimates.length}</p>\n            </div>\n            <div className=\"bg-green-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\"> </p>\n              <p className=\"text-xl font-bold text-green-600\">\n                {filteredEstimates.filter(est => est.status === '').length}\n              </p>\n            </div>\n            <div className=\"bg-green-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\">  </p>\n              <p className=\"text-xl font-bold text-yellow-600\">\n                {filteredEstimates.filter(est => est.status === '').length}\n              </p>\n            </div>\n            <div className=\"bg-yellow-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 mb-1\">  </p>\n              <p className=\"text-xl font-bold text-blue-600\">\n                {filteredEstimates.reduce((sum, est) => sum + est.totalAmount, 0).toLocaleString()}\n              </p>\n            </div>\n            <div className=\"bg-blue-500 rounded-full p-3 text-white text-2xl\">\n              \n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/*   */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <div className=\"flex items-center justify-between px-4 py-3 bg-gray-50 border-b\">\n          <div className=\"text-sm text-gray-600\">: {selectedIds.length}</div>\n          {selectedIds.length > 0 && (\n            <button\n              onClick={() => setShowConfirmDelete(true)}\n              className=\"text-white text-sm font-medium px-3 py-1 rounded bg-red-600 hover:bg-red-700\"\n            >\n                ({selectedIds.length})\n            </button>\n          )}\n        </div>\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                <input\n                  type=\"checkbox\"\n                  className=\"rounded border-gray-300\"\n                  checked={allSelected}\n                  onChange={(e) => toggleSelectAll(e.target.checked)}\n                  title=\" \"\n                />\n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                 \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                 \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n              <th className=\"px-6 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                \n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {filteredEstimates.map((estimate) => (\n              <tr key={estimate.id} className=\"hover:bg-gray-50\">\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"rounded border-gray-300\"\n                    checked={selectedIds.includes(estimate.id)}\n                    onChange={(e) => toggleSelectOne(estimate.id, e.target.checked)}\n                    title=\" \"\n                  />\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm font-medium text-gray-900\">{estimate.id}</div>\n                  <div className=\"text-sm text-gray-500\">{estimate.date}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex items-center\">\n                    <div className=\"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center\">\n                      <span className=\"text-xs font-medium text-gray-700\">\n                        {estimate.clientName.charAt(0)}\n                      </span>\n                    </div>\n                    <div className=\"ml-3\">\n                      <div className=\"text-sm font-medium text-gray-900\">{estimate.clientName}</div>\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm font-medium text-gray-900\">{estimate.projectName}</div>\n                  <div className=\"text-sm text-gray-500\">{estimate.title}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">{estimate.workplaceName}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm font-medium text-gray-900\">\n                    {estimate.totalAmount.toLocaleString()}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(estimate.status)}`}>\n                    {estimate.status}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-gray-900\">{estimate.validUntil}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <button \n                    onClick={() => handleEdit(estimate)}\n                    className=\"text-blue-600 hover:text-blue-900 mr-2\"\n                  >\n                    \n                  </button>\n                  <button \n                    onClick={() => handlePrint(estimate)}\n                    className=\"text-green-600 hover:text-green-900 mr-2\"\n                  >\n                     \n                  </button>\n                  <button \n                    onClick={() => handleDelete(estimate.id)}\n                    className=\"text-red-600 hover:text-red-900 mr-2\"\n                  >\n                    \n                  </button>\n                  {estimate.status === '' && (\n                    <button \n                      onClick={() => handleConvertToWorkItems(estimate.id)}\n                      className=\"text-purple-600 hover:text-purple-900\"\n                    >\n                       \n                    </button>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      {showConfirmDelete && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\"> </h3>\n            <p className=\"text-sm text-gray-600 mb-4\"> {selectedIds.length}  ?     .</p>\n            <div className=\"flex justify-end gap-2\">\n              <button className=\"btn-secondary\" onClick={() => setShowConfirmDelete(false)}></button>\n              <button className=\"btn-primary bg-red-600 hover:bg-red-700\" onClick={handleBulkDelete}></button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/*  /  */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-5 mx-auto p-5 border w-4/5 max-w-6xl shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                {editingEstimate ? ' ' : '  '}\n              </h3>\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                \n                {/*   */}\n                <div className=\"bg-green-50 p-4 rounded-lg\">\n                  <h4 className=\"text-md font-medium text-gray-800 mb-3\"> </h4>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\"></label>\n                      <select\n                        name=\"clientId\"\n                        value={newEstimate.clientId}\n                        onChange={handleInputChange}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        required\n                      >\n                        <option value=\"\"> </option>\n                        {clients.map(client => (\n                          <option key={client.id} value={client.id}>{client.name}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\"></label>\n                      <select\n                        name=\"workplaceId\"\n                        value={newEstimate.workplaceId}\n                        onChange={handleInputChange}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        required\n                        disabled={!newEstimate.clientId}\n                      >\n                        <option value=\"\"> </option>\n                        {newEstimate.clientId && getClientWorkplaces(newEstimate.clientId).map(workplace => (\n                          <option key={workplace.id} value={workplace.id}>\n                            {workplace.name} - {workplace.address}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\"></label>\n                      <input\n                        type=\"text\"\n                        name=\"projectName\"\n                        value={newEstimate.projectName}\n                        onChange={handleInputChange}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        required\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\"> </label>\n                      <input\n                        type=\"text\"\n                        name=\"title\"\n                        value={newEstimate.title}\n                        onChange={handleInputChange}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                        required\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\"></label>\n                      <div className=\"mt-1 relative inline-block\" ref={calContainerRef}>\n                        <div className=\"flex items-center gap-2\">\n                          <input\n                            type=\"text\"\n                            name=\"validUntil\"\n                            value={newEstimate.validUntil}\n                            onChange={handleInputChange}\n                            placeholder=\"YYYY-MM-DD\"\n                            inputMode=\"numeric\"\n                            className=\"block w-full border border-gray-300 rounded-md px-3 py-2\"\n                            onFocus={() => !noDueDate && setCalendarOpen(true)}\n                            disabled={noDueDate}\n                            required={!noDueDate}\n                          />\n                          <button\n                            type=\"button\"\n                            className=\"px-2 py-2 text-gray-600 hover:text-gray-800\"\n                            onClick={() => !noDueDate && setCalendarOpen((v) => !v)}\n                            title=\" \"\n                            disabled={noDueDate}\n                          >\n                            \n                          </button>\n                          <label className=\"flex items-center gap-1 text-xs text-gray-600 select-none\">\n                            <input\n                              type=\"checkbox\"\n                              checked={noDueDate}\n                              onChange={(e) => {\n                                const checked = e.target.checked;\n                                setNoDueDate(checked);\n                                if (checked) {\n                                  setCalendarOpen(false);\n                                  setNewEstimate(prev => ({ ...prev, validUntil: '' }));\n                                }\n                              }}\n                            />\n                              \n                          </label>\n                        </div>\n                        {calendarOpen && (\n                          <div\n                            ref={calendarRef}\n                            className=\"absolute z-50 bg-white border border-gray-300 rounded-md shadow-lg mt-2 p-3\"\n                            style={{ transform: 'scale(2)', transformOrigin: 'top left' }}\n                          >\n                            <div className=\"flex items-center justify-between mb-2\">\n                              <button type=\"button\" className=\"px-2 py-1 text-sm border rounded\" onClick={prevMonth}></button>\n                              <div className=\"text-sm font-medium\">\n                                {calendarMonth.getFullYear()} {calendarMonth.getMonth() + 1}\n                              </div>\n                              <button type=\"button\" className=\"px-2 py-1 text-sm border rounded\" onClick={nextMonth}></button>\n                            </div>\n                            <table className=\"text-xs select-none\">\n                              <thead>\n                                <tr className=\"text-center text-gray-600\">\n                                  {['','','','','','',''].map((d, idx) => (\n                                    <th key={d} className={`px-2 py-1 ${idx === 0 ? 'text-red-600' : idx === 6 ? 'text-blue-600' : ''}`}>{d}</th>\n                                  ))}\n                                </tr>\n                              </thead>\n                              <tbody>\n                                {renderCalendarRows()}\n                              </tbody>\n                            </table>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\"></label>\n                      <select\n                        name=\"status\"\n                        value={newEstimate.status}\n                        onChange={handleInputChange}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                      >\n                        {statuses.map(status => (\n                          <option key={status} value={status}>{status}</option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n\n                {/*   */}\n                <div>\n                  <div className=\"flex justify-between items-center mb-3\">\n                    <h4 className=\"text-md font-medium text-gray-800\"> </h4>\n                    <button\n                      type=\"button\"\n                      onClick={addItem}\n                      className=\"text-green-600 hover:text-green-800 text-sm\"\n                    >\n                      +  \n                    </button>\n                  </div>\n                  \n                  <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                    {newEstimate.items.map((item, index) => (\n                      <div key={index} className=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n                        <div className=\"flex justify-between items-center mb-3\">\n                          <span className=\"text-sm font-medium text-gray-700\"> #{index + 1}</span>\n                          {newEstimate.items.length > 1 && (\n                            <button\n                              type=\"button\"\n                              onClick={() => removeItem(index)}\n                              className=\"text-red-600 hover:text-red-800 text-sm\"\n                            >\n                              \n                            </button>\n                          )}\n                        </div>\n                        \n                        <div className=\"grid grid-cols-3 gap-3 mb-3\">\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <select\n                              value={item.category}\n                              onChange={(e) => handleItemChange(index, 'category', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              required\n                            >\n                              <option value=\"\"> </option>\n                              {categories.map(cat => (\n                                <option key={cat} value={cat}>{cat}</option>\n                              ))}\n                            </select>\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <input\n                              type=\"text\"\n                              value={item.name}\n                              onChange={(e) => handleItemChange(index, 'name', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              required\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <input\n                              type=\"text\"\n                              value={item.description}\n                              onChange={(e) => handleItemChange(index, 'description', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                            />\n                          </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-4 gap-3 mb-3\">\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <input\n                              type=\"text\"\n                              value={item.unitPrice ? formatNumberWithCommas(item.unitPrice) : ''}\n                              onChange={(e) => handleItemChange(index, 'unitPrice', e.target.value)}\n                              placeholder=\"0\"\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              required\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <input\n                              type=\"text\"\n                              value={item.quantity || ''}\n                              onChange={(e) => handleItemChange(index, 'quantity', e.target.value)}\n                              placeholder=\"1\"\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              required\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <select\n                              value={item.unit}\n                              onChange={(e) => handleItemChange(index, 'unit', e.target.value)}\n                              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                              required\n                            >\n                              <option value=\"\"> </option>\n                              {units.map(u => (\n                                <option key={u} value={u}>{u}</option>\n                              ))}\n                            </select>\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                            <div className=\"w-full bg-gray-100 border border-gray-300 rounded px-2 py-1 text-sm\">\n                              {((item.unitPrice || 0) * (item.quantity || 1)).toLocaleString()}\n                            </div>\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"block text-xs font-medium text-gray-600 mb-1\"></label>\n                          <textarea\n                            value={item.notes}\n                            onChange={(e) => handleItemChange(index, 'notes', e.target.value)}\n                            rows=\"2\"\n                            className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                          />\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n\n                  <div className=\"mt-4 p-3 bg-gray-100 rounded\">\n                    <div className=\"text-right\">\n                      <span className=\"text-lg font-bold text-gray-900\">\n                          : {calculateTotal().toLocaleString()}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">  </label>\n                  <textarea\n                    name=\"notes\"\n                    value={newEstimate.notes}\n                    onChange={handleInputChange}\n                    rows=\"3\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\n                    placeholder=\" ,      ...\"\n                  />\n                </div>\n\n                <div className=\"flex justify-end space-x-2 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={resetForm}\n                    className=\"px-4 py-2 text-gray-500 hover:text-gray-700\"\n                  >\n                    \n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded\"\n                  >\n                    {editingEstimate ? '' : ''}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* PDF    */}\n      <div style={{ display: 'none' }}>\n        <div ref={componentRef} style={{ padding: '40px', fontFamily: \"'Noto Sans KR', sans-serif\", fontSize: '12px', lineHeight: '1.4', maxWidth: '800px', margin: 'auto', backgroundColor: '#ffffff', color: '#374151' }}>\n          {printEstimate && (\n            <>\n              {/*     */}\n              <div style={{ marginBottom: '40px' }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '20px' }}>\n                  <div style={{ fontSize: '14px', color: '#374151' }}>\n                    <strong> :</strong> {printEstimate.id}\n                  </div>\n                  <div style={{ fontSize: '14px', color: '#374151' }}>\n                    <strong>:</strong> {printEstimate.date}\n                  </div>\n                </div>\n                <div style={{ textAlign: 'center', borderBottom: '3px solid #1f2937', paddingBottom: '20px' }}>\n                  <h1 style={{ fontSize: '36px', margin: '0', fontWeight: 'bold', color: '#1f2937', letterSpacing: '8px' }}>      </h1>\n                </div>\n              </div>\n\n              {/*      */}\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '30px' }}>\n                {/*   () */}\n                <div>\n                  <div style={{ border: '2px solid #374151', padding: '20px', borderRadius: '8px', minWidth: '300px' }}>\n                    <h3 style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '15px', color: '#1f2937', borderBottom: '1px solid #d1d5db', paddingBottom: '8px' }}> </h3>\n                    <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {printEstimate.clientName}</p>\n                    <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {printEstimate.projectName}</p>\n                    <p style={{ margin: '8px 0', fontSize: '14px' }}><strong> :</strong> {printEstimate.workplaceAddress}</p>\n                    <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {printEstimate.validUntil}</p>\n                  </div>\n                </div>\n                \n                {/*   () */}\n                <div>\n                  <div style={{ border: '2px solid #374151', padding: '20px', borderRadius: '8px', minWidth: '300px' }}>\n                    <h3 style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '15px', color: '#1f2937', borderBottom: '1px solid #d1d5db', paddingBottom: '8px' }}> </h3>\n                    <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {companyInfo.name}</p>\n                    <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {companyInfo.representative}</p>\n                    <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {companyInfo.phone}</p>\n                    <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {companyInfo.address}</p>\n                    {companyInfo.businessNumber && <p style={{ margin: '8px 0', fontSize: '14px' }}><strong>:</strong> {companyInfo.businessNumber}</p>}\n                  </div>\n                </div>\n              </div>\n\n              {/*   () */}\n              <div style={{ textAlign: 'left', marginBottom: '30px', padding: '15px', backgroundColor: '#f8fafc', border: '1px solid #e2e8f0', borderRadius: '8px' }}>\n                <p style={{ fontSize: '18px', fontWeight: 'bold', margin: '0', color: '#1f2937' }}>\n                    :  {numberToKorean(printEstimate.totalAmount)} \n                </p>\n              </div>\n\n              {/*    */}\n              <div style={{ marginBottom: '40px' }}>\n                <h3 style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '15px', color: '#1f2937', borderBottom: '2px solid #374151', paddingBottom: '8px' }}>  </h3>\n                <div style={{ border: '2px solid #374151', borderRadius: '8px', overflow: 'hidden' }}>\n                  <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '12px' }}>\n                    <thead>\n                      <tr style={{ backgroundColor: '#374151', color: 'white' }}>\n                        <th style={{ padding: '12px 8px', border: '1px solid #6b7280', textAlign: 'center', fontWeight: 'bold', width: '50px' }}></th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #6b7280', textAlign: 'center', fontWeight: 'bold', width: '120px' }}></th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #6b7280', textAlign: 'center', fontWeight: 'bold', width: '250px' }}>  </th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #6b7280', textAlign: 'center', fontWeight: 'bold', width: '80px' }}></th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #6b7280', textAlign: 'center', fontWeight: 'bold', width: '80px' }}></th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #6b7280', textAlign: 'center', fontWeight: 'bold', width: '100px' }}>\n                          <br/>\n                          <span style={{ fontSize: '10px', fontWeight: 'normal' }}>()</span>\n                        </th>\n                        <th style={{ padding: '12px 16px', border: '1px solid #6b7280', textAlign: 'center', fontWeight: 'bold', width: '100px' }}>\n                          <br/>\n                          <span style={{ fontSize: '10px', fontWeight: 'normal' }}>()</span>\n                        </th>\n                        <th style={{ padding: '12px 12px', border: '1px solid #6b7280', textAlign: 'center', fontWeight: 'bold', width: '120px' }}></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {printEstimate.items.map((item, index) => (\n                        <tr key={index} style={{ ':hover': { backgroundColor: '#f1f5f9' } }}>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center' }}>{index + 1}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center' }}>{item.category}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb' }}>\n                            <div>\n                              <strong>{item.name}</strong>\n                              {item.description && (\n                                <div style={{ fontSize: '11px', color: '#6b7280', marginTop: '4px', fontStyle: 'italic' }}>\n                                  {item.description}\n                                </div>\n                              )}\n                            </div>\n                          </td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center' }}>{item.quantity}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'center' }}>{item.unit}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'right' }}>{Math.floor(item.unitPrice / 1000).toLocaleString()}</td>\n                          <td style={{ padding: '12px 16px', border: '1px solid #e5e7eb', textAlign: 'right', fontWeight: 'bold' }}>{Math.floor((item.quantity * item.unitPrice) / 1000).toLocaleString()}</td>\n                          <td style={{ padding: '12px 12px', border: '1px solid #e5e7eb', fontSize: '11px', color: '#374151' }}>\n                            {item.notes || ''}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                    <tfoot>\n                      <tr style={{ backgroundColor: '#f8fafc', fontWeight: 'bold', fontSize: '14px' }}>\n                        <td colSpan=\"8\" style={{ padding: '16px', border: '1px solid #e5e7eb', textAlign: 'right', fontSize: '16px', fontWeight: 'bold', color: '#374151', backgroundColor: '#f3f4f6' }}>\n                           : {printEstimate.totalAmount.toLocaleString()}\n                        </td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              </div>\n\n              {/*    */}\n              {printEstimate.notes && (\n                <div style={{ marginBottom: '30px' }}>\n                  <h3 style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '15px', color: '#1f2937', borderBottom: '2px solid #374151', paddingBottom: '8px' }}>  </h3>\n                  <div style={{ border: '1px solid #d1d5db', padding: '16px', borderRadius: '8px', backgroundColor: '#fefce8' }}>\n                    <p style={{ margin: '0', fontSize: '13px', lineHeight: '1.6', whiteSpace: 'pre-line', color: '#374151' }}>{printEstimate.notes}</p>\n                  </div>\n                </div>\n              )}\n\n              {/*    */}\n              <div style={{ marginTop: '50px', borderTop: '1px solid #d1d5db', paddingTop: '30px' }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                  <div style={{ textAlign: 'center', minWidth: '200px' }}>\n                    <div style={{ borderBottom: '1px solid #374151', marginBottom: '8px', paddingBottom: '40px' }}></div>\n                    <p style={{ fontSize: '14px', fontWeight: 'bold', margin: '0', color: '#374151' }}> </p>\n                  </div>\n                  <div style={{ textAlign: 'center', minWidth: '200px' }}>\n                    <div style={{ borderBottom: '1px solid #374151', marginBottom: '8px', paddingBottom: '40px' }}></div>\n                    <p style={{ fontSize: '14px', fontWeight: 'bold', margin: '0', color: '#374151' }}> ({companyInfo.name})</p>\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Estimates;\n","//     \nconst STAMP_IMAGE_KEY = 'constructionApp_stampImage';\n\n// localStorage  \nexport const saveStampImage = (imageDataUrl) => {\n  try {\n    localStorage.setItem(STAMP_IMAGE_KEY, imageDataUrl);\n    console.log('  localStorage .');\n    return true;\n  } catch (error) {\n    console.error('   :', error);\n    return false;\n  }\n};\n\n// localStorage  \nexport const loadStampImage = () => {\n  try {\n    const imageData = localStorage.getItem(STAMP_IMAGE_KEY);\n    if (imageData) {\n      console.log('  localStorage .');\n    }\n    return imageData;\n  } catch (error) {\n    console.error('   :', error);\n    return null;\n  }\n};\n\n// localStorage  \nexport const removeStampImage = () => {\n  try {\n    localStorage.removeItem(STAMP_IMAGE_KEY);\n    console.log('  localStorage .');\n    return true;\n  } catch (error) {\n    console.error('   :', error);\n    return false;\n  }\n};\n\n// localStorage   \nexport const checkStorageAvailable = () => {\n  try {\n    const test = 'test';\n    localStorage.setItem(test, test);\n    localStorage.removeItem(test);\n    return true;\n  } catch (error) {\n    console.error('localStorage  :', error);\n    return false;\n  }\n};\n\n//   Base64 \nexport const imageToBase64 = (file) => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = (e) => resolve(e.target.result);\n    reader.onerror = (error) => reject(error);\n    reader.readAsDataURL(file);\n  });\n};\n\n// localStorage   ()\nexport const getStorageInfo = () => {\n  let total = 0;\n  for (let key in localStorage) {\n    if (localStorage.hasOwnProperty(key)) {\n      total += localStorage[key].length + key.length;\n    }\n  }\n  return {\n    used: Math.round(total / 1024) + ' KB',\n    stampImageSize: localStorage.getItem(STAMP_IMAGE_KEY) \n      ? Math.round(localStorage.getItem(STAMP_IMAGE_KEY).length / 1024) + ' KB'\n      : '0 KB'\n  };\n};","import React, { useState, useRef, useEffect } from 'react';\nimport { useApp } from '../contexts/AppContext';\nimport { checkStorageAvailable, getStorageInfo, imageToBase64, saveStampImage, removeStampImage } from '../utils/imageStorage';\nimport { storage } from '../services/storage';\nimport { formatPhoneNumber } from '../utils/phoneFormatter';\n\nfunction CompanyInfo() {\n  const { companyInfo, setCompanyInfo, units, setUnits, categories, setCategories, stampImage, setStampImage } = useApp();\n  const [isEditing, setIsEditing] = useState(false);\n  const [editForm, setEditForm] = useState({ ...companyInfo });\n  \n  //   \n  const [newUnit, setNewUnit] = useState('');\n  const [newCategory, setNewCategory] = useState('');\n  const [storageInfo, setStorageInfo] = useState({ used: '0 KB', stampImageSize: '0 KB' });\n  const [dataDir, setDataDir] = useState('');\n  const [browserDirName, setBrowserDirName] = useState('');\n  const fileInputRef = useRef(null);\n\n  //      \n  useEffect(() => {\n    if (checkStorageAvailable()) {\n      setStorageInfo(getStorageInfo());\n    }\n    // Load Electron data directory if available\n    (async () => {\n      try {\n        if (window.cms && typeof window.cms.getBaseDir === 'function') {\n          const dir = await window.cms.getBaseDir();\n          setDataDir(dir);\n        }\n      } catch (e) {}\n      try {\n        const info = await storage.getBrowserDirectoryInfo?.();\n        if (info?.name) setBrowserDirName(info.name);\n      } catch (e) {}\n    })();\n  }, [stampImage]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    \n    //      \n    const formattedValue = name === 'phone' ? formatPhoneNumber(value) : value;\n    \n    setEditForm(prev => ({\n      ...prev,\n      [name]: formattedValue\n    }));\n  };\n\n  const handleSave = () => {\n    setCompanyInfo(editForm);\n    setIsEditing(false);\n    alert('  .');\n  };\n\n  const handleCancel = () => {\n    setEditForm({ ...companyInfo });\n    setIsEditing(false);\n  };\n\n  //   \n  const handleAddUnit = () => {\n    if (newUnit.trim() && !units.includes(newUnit.trim())) {\n      setUnits(prev => [...prev, newUnit.trim()]);\n      setNewUnit('');\n      alert('  .');\n    } else if (units.includes(newUnit.trim())) {\n      alert('  .');\n    }\n  };\n\n  const handleRemoveUnit = (unit) => {\n    if (window.confirm(`'${unit}'  ?`)) {\n      setUnits(prev => prev.filter(u => u !== unit));\n      alert(' .');\n    }\n  };\n\n  const handleAddCategory = () => {\n    if (newCategory.trim() && !categories.includes(newCategory.trim())) {\n      setCategories(prev => [...prev, newCategory.trim()]);\n      setNewCategory('');\n      alert('  .');\n    } else if (categories.includes(newCategory.trim())) {\n      alert('  .');\n    }\n  };\n\n  const handleRemoveCategory = (category) => {\n    if (window.confirm(`'${category}'  ?`)) {\n      setCategories(prev => prev.filter(c => c !== category));\n      alert(' .');\n    }\n  };\n\n  const handleStampImageChange = async (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.type.startsWith('image/')) {\n        try {\n          //    (5MB )\n          if (file.size > 5 * 1024 * 1024) {\n            alert('   5MB   .');\n            return;\n          }\n\n          const imageDataUrl = await imageToBase64(file);\n          \n          // localStorage  \n          const saved = saveStampImage(imageDataUrl);\n          if (saved) {\n            setStampImage(imageDataUrl);\n            alert('   .');\n            console.log(' :', getStorageInfo());\n          } else {\n            alert('  .   .');\n          }\n        } catch (error) {\n          console.error('  :', error);\n          alert('    .');\n        }\n      } else {\n        alert('   .');\n      }\n    }\n  };\n\n  const handleRemoveStampImage = () => {\n    if (window.confirm('  ?')) {\n      const removed = removeStampImage();\n      if (removed) {\n        setStampImage(null);\n        if (fileInputRef.current) {\n          fileInputRef.current.value = '';\n        }\n        alert('   .');\n        console.log(' :', getStorageInfo());\n      } else {\n        alert('    .');\n      }\n    }\n  };\n\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\"></h1>\n        <p className=\"text-gray-600\">    </p>\n      </div>\n\n      {/*  :     */}\n      <div className=\"flex flex-col lg:flex-row lg:flex-wrap gap-8 mb-8\">\n        \n        {/*  */}\n        <div className=\"flex-1 bg-white rounded-lg shadow flex flex-col\">\n          <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-100\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">  </h2>\n          {!isEditing ? (\n            <button\n              onClick={() => setIsEditing(true)}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n            >\n              \n            </button>\n          ) : (\n            <div className=\"space-x-2\">\n              <button\n                onClick={handleSave}\n                className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\n              >\n                \n              </button>\n              <button\n                onClick={handleCancel}\n                className=\"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded\"\n              >\n                \n              </button>\n            </div>\n          )}\n          </div>\n\n          <div className=\"p-6 flex-1\">\n            <div className=\"grid grid-cols-1 gap-6\">\n              \n              {/*   : ,  */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                {/*  */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     <span className=\"text-red-500\">*</span>\n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"text\"\n                      name=\"name\"\n                      value={editForm.name}\n                      onChange={handleInputChange}\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 py-2\">{companyInfo.name}</p>\n                  )}\n                </div>\n\n                {/*  */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     <span className=\"text-red-500\">*</span>\n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"text\"\n                      name=\"businessNumber\"\n                      value={editForm.businessNumber}\n                      onChange={handleInputChange}\n                      placeholder=\"000-00-00000\"\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 py-2\">{companyInfo.businessNumber}</p>\n                  )}\n                </div>\n              </div>\n\n              {/*   : ,  */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                {/*  */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     <span className=\"text-red-500\">*</span>\n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"text\"\n                      name=\"representative\"\n                      value={editForm.representative}\n                      onChange={handleInputChange}\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 py-2\">{companyInfo.representative}</p>\n                  )}\n                </div>\n\n                {/*  */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     <span className=\"text-red-500\">*</span>\n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"tel\"\n                      name=\"phone\"\n                      value={editForm.phone}\n                      onChange={handleInputChange}\n                      placeholder=\"02-0000-0000\"\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 py-2\">{companyInfo.phone}</p>\n                  )}\n                </div>\n              </div>\n\n              {/*   :  ( ) */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  \n                </label>\n                {isEditing ? (\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    value={editForm.email}\n                    onChange={handleInputChange}\n                    placeholder=\"info@company.com\"\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900 py-2\">{companyInfo.email || '-'}</p>\n                )}\n              </div>\n\n              {/*   :  ( ) */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                   <span className=\"text-red-500\">*</span>\n                </label>\n                {isEditing ? (\n                  <input\n                    type=\"text\"\n                    name=\"address\"\n                    value={editForm.address}\n                    onChange={handleInputChange}\n                    placeholder=\"   123\"\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  />\n                ) : (\n                  <p className=\"text-gray-900 py-2\">{companyInfo.address}</p>\n                )}\n              </div>\n\n              {/*   : ,  */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                {/*  */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    \n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"text\"\n                      name=\"bankAccount\"\n                      value={editForm.bankAccount}\n                      onChange={handleInputChange}\n                      placeholder=\" 000-000-000000\"\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 py-2\">{companyInfo.bankAccount || '-'}</p>\n                  )}\n                </div>\n\n                {/*  */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    \n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"text\"\n                      name=\"accountHolder\"\n                      value={editForm.accountHolder}\n                      onChange={handleInputChange}\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 py-2\">{companyInfo.accountHolder || '-'}</p>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/*   */}\n            <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\n              <div className=\"flex\">\n                <div className=\"flex-shrink-0\">\n                  <svg className=\"h-5 w-5 text-blue-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-blue-700\">\n                           . \n                      .\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/*   */}\n        <div className=\"flex-1 bg-white rounded-lg shadow flex flex-col\">\n          <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-100\">\n            <h2 className=\"text-xl font-semibold text-gray-900\"> </h2>\n            <div className=\"h-10\"></div>\n          </div>\n          <div className=\"p-6 flex-1\">\n            <div className=\"space-y-8\">\n              \n              {/* :     */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                \n                {/*   */}\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\"> </h3>\n                  <div className=\"space-y-4\">\n                    {/*   */}\n                    <div className=\"flex space-x-2\">\n                      <input\n                        type=\"text\"\n                        value={newUnit}\n                        onChange={(e) => setNewUnit(e.target.value)}\n                        placeholder=\"  \"\n                        className=\"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n                        onKeyPress={(e) => e.key === 'Enter' && handleAddUnit()}\n                      />\n                      <button\n                        onClick={handleAddUnit}\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm\"\n                      >\n                        \n                      </button>\n                    </div>\n\n                    {/*   */}\n                    <div className=\"border border-gray-200 rounded-md max-h-48 overflow-y-auto\">\n                      <div className=\"p-2\">\n                        {units.map((unit, index) => (\n                          <div key={index} className=\"flex items-center justify-between p-2 hover:bg-gray-50 rounded\">\n                            <span className=\"text-gray-900 text-sm\">{unit}</span>\n                            <button\n                              onClick={() => handleRemoveUnit(unit)}\n                              className=\"text-red-600 hover:text-red-800 text-xs\"\n                            >\n                              \n                            </button>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/*   */}\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\"> </h3>\n                  <div className=\"space-y-4\">\n                    {/*   */}\n                    <div className=\"flex space-x-2\">\n                      <input\n                        type=\"text\"\n                        value={newCategory}\n                        onChange={(e) => setNewCategory(e.target.value)}\n                        placeholder=\"  \"\n                        className=\"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n                        onKeyPress={(e) => e.key === 'Enter' && handleAddCategory()}\n                      />\n                      <button\n                        onClick={handleAddCategory}\n                        className=\"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-md text-sm\"\n                      >\n                        \n                      </button>\n                    </div>\n\n                    {/*   */}\n                    <div className=\"border border-gray-200 rounded-md max-h-48 overflow-y-auto\">\n                      <div className=\"p-2\">\n                        {categories.map((category, index) => (\n                          <div key={index} className=\"flex items-center justify-between p-2 hover:bg-gray-50 rounded\">\n                            <span className=\"text-gray-900 text-sm\">{category}</span>\n                            <button\n                              onClick={() => handleRemoveCategory(category)}\n                              className=\"text-red-600 hover:text-red-800 text-xs\"\n                            >\n                              \n                            </button>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* :    */}\n              <div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">  </h3>\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  \n                  {/*    */}\n                  <div>\n                    <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6\">\n                      <div className=\"text-center\">\n                        <svg className=\"mx-auto h-12 w-12 text-gray-400\" stroke=\"currentColor\" fill=\"none\" viewBox=\"0 0 48 48\">\n                          <path d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                        </svg>\n                        <div className=\"mt-4\">\n                          <label htmlFor=\"stamp-image\" className=\"cursor-pointer\">\n                            <span className=\"block text-sm font-medium text-gray-900\">\n                                \n                            </span>\n                            <span className=\"block text-sm text-gray-500 mt-1\">\n                              PNG, JPG   ( 2MB)\n                            </span>\n                          </label>\n                          <input\n                            id=\"stamp-image\"\n                            ref={fileInputRef}\n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={handleStampImageChange}\n                            className=\"hidden\"\n                          />\n                        </div>\n                        <button\n                          onClick={() => fileInputRef.current?.click()}\n                          className=\"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm\"\n                        >\n                           \n                        </button>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/*     */}\n                  <div className=\"space-y-4\">\n                    {/*   */}\n                    {stampImage ? (\n                      <div>\n                        <h4 className=\"text-sm font-medium text-gray-900 mb-2\"></h4>\n                        <div className=\"flex items-center space-x-4\">\n                          <div className=\"w-24 h-24 border border-gray-200 rounded-lg overflow-hidden\">\n                            <img\n                              src={stampImage}\n                              alt=\" \"\n                              className=\"w-full h-full object-contain\"\n                            />\n                          </div>\n                          <button\n                            onClick={handleRemoveStampImage}\n                            className=\"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded text-sm\"\n                          >\n                            \n                          </button>\n                        </div>\n                      </div>\n                    ) : (\n                      <div className=\"text-center text-gray-500 py-8\">\n                        <p className=\"text-sm\">  </p>\n                      </div>\n                    )}\n\n                    {/*   */}\n                    <div className=\"p-4 bg-yellow-50 rounded-lg\">\n                      <div className=\"flex\">\n                        <div className=\"flex-shrink-0\">\n                          <svg className=\"h-5 w-5 text-yellow-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                            <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                          </svg>\n                        </div>\n                        <div className=\"ml-3\">\n                          <p className=\"text-sm text-yellow-700\">\n                                   . \n                                 .\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/*   */}\n                    <div className=\"p-3 bg-blue-50 rounded-lg\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0\">\n                          <svg className=\"h-4 w-4 text-blue-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                            <path d=\"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z\" />\n                          </svg>\n                        </div>\n                        <div className=\"ml-2\">\n                          <p className=\"text-xs text-blue-700\">\n                             : {storageInfo.used} |  : {storageInfo.stampImageSize}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/*    (Electron/Browser) */}\n        <div className=\"w-full bg-white rounded-lg shadow h-max\">\n          <div className=\"px-6 py-4 border-b border-gray-200 bg-gray-100\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">  </h2>\n          </div>\n          <div className=\"p-6 space-y-3\">\n            {dataDir ? (\n              <>\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-1\"> </p>\n                  <div className=\"text-sm font-mono break-all bg-gray-50 border rounded p-2\">{dataDir}</div>\n                </div>\n                <button\n                  onClick={async () => {\n                    try {\n                      const dir = await window.cms.chooseBaseDir();\n                      setDataDir(dir);\n                      alert('   .');\n                    } catch (e) {\n                      alert('    .');\n                    }\n                  }}\n                  className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded text-sm\"\n                >\n                   \n                </button>\n                <p className=\"text-xs text-gray-500\">Electron    .</p>\n              </>\n            ) : (\n              <div className=\"space-y-2\">\n                <p className=\"text-sm text-gray-600\">  </p>\n                {browserDirName ? (\n                  <div className=\"text-sm\"> : <span className=\"font-mono bg-gray-50 border rounded px-2 py-1\">{browserDirName}</span></div>\n                ) : (\n                  <p className=\"text-sm text-gray-500\"> (localStorage)  .</p>\n                )}\n                {('showDirectoryPicker' in window) ? (\n                  <button\n                    onClick={async () => {\n                      const ok = await storage.chooseBrowserDirectory?.();\n                      if (ok) {\n                        const info = await storage.getBrowserDirectoryInfo?.();\n                        setBrowserDirName(info?.name || '');\n                        alert('   .      store.json .');\n                      } else {\n                        alert('    .');\n                      }\n                    }}\n                    className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded text-sm\"\n                  >\n                      (Edge/Chrome)\n                  </button>\n                ) : (\n                  <p className=\"text-xs text-gray-500\">     .</p>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CompanyInfo;\n","/**\n *     \n */\n\n/**\n *     \n * @param {string} value -  \n * @returns {string}  \n */\nexport const formatPhoneNumber = (value) => {\n  //  \n  const numbers = value.replace(/[^\\d]/g, '');\n  \n  if (numbers.length === 0) return '';\n  \n  //   \n  if (numbers.length <= 3) {\n    return numbers;\n  } else if (numbers.length <= 7) {\n    // 010-1234 \n    if (numbers.startsWith('02')) {\n      //   (02)\n      return numbers.length <= 2 ? numbers : `${numbers.slice(0, 2)}-${numbers.slice(2)}`;\n    } else if (numbers.startsWith('0')) {\n      //  (010, 011 )   \n      return `${numbers.slice(0, 3)}-${numbers.slice(3)}`;\n    } else {\n      //  \n      return `${numbers.slice(0, 3)}-${numbers.slice(3)}`;\n    }\n  } else if (numbers.length <= 11) {\n    if (numbers.startsWith('02')) {\n      //  : 02-1234-5678  02-123-4567\n      if (numbers.length <= 9) {\n        return `02-${numbers.slice(2, 5)}-${numbers.slice(5)}`;\n      } else {\n        return `02-${numbers.slice(2, 6)}-${numbers.slice(6)}`;\n      }\n    } else if (numbers.startsWith('01')) {\n      // : 010-1234-5678\n      return `${numbers.slice(0, 3)}-${numbers.slice(3, 7)}-${numbers.slice(7)}`;\n    } else if (numbers.startsWith('0')) {\n      //  : 031-123-4567\n      return `${numbers.slice(0, 3)}-${numbers.slice(3, 6)}-${numbers.slice(6)}`;\n    } else {\n      //  \n      return `${numbers.slice(0, 3)}-${numbers.slice(3, 7)}-${numbers.slice(7)}`;\n    }\n  } else {\n    // 11  11 \n    const truncated = numbers.slice(0, 11);\n    if (truncated.startsWith('02')) {\n      return `02-${truncated.slice(2, 6)}-${truncated.slice(6)}`;\n    } else if (truncated.startsWith('01')) {\n      return `${truncated.slice(0, 3)}-${truncated.slice(3, 7)}-${truncated.slice(7)}`;\n    } else {\n      return `${truncated.slice(0, 3)}-${truncated.slice(3, 6)}-${truncated.slice(6)}`;\n    }\n  }\n};\n\n/**\n *   \n * @param {string} phoneNumber -  \n * @returns {boolean}   \n */\nexport const isValidPhoneNumber = (phoneNumber) => {\n  const numbers = phoneNumber.replace(/[^\\d]/g, '');\n  \n  //   \n  const patterns = [\n    /^02\\d{7,8}$/, //   (02-1234-5678  02-123-4567)\n    /^0[3-6]\\d{8}$/, //   (031-123-4567)\n    /^01[0-9]\\d{7,8}$/, //  (010-1234-5678)\n    /^070\\d{7,8}$/, //   (070-1234-5678)\n    /^1[5-9]\\d{2}\\d{4}$/, //  (1588-1234)\n  ];\n  \n  return patterns.some(pattern => pattern.test(numbers));\n};","import React, { useState, useEffect, useCallback } from 'react';\nimport { useUser } from '../contexts/UserContext';\nimport { \n  PlusIcon, \n  PencilIcon, \n  TrashIcon, \n  UserGroupIcon,\n  ExclamationTriangleIcon \n} from '@heroicons/react/24/outline';\n\nconst UserManagement = () => {\n  const { getAllUsers, addUser, updateUser, deleteUser, currentUser } = useUser();\n  const [users, setUsers] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    name: '',\n    role: 'user'\n  });\n  const [error, setError] = useState('');\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(null);\n\n  const loadUsers = useCallback(() => {\n    setUsers(getAllUsers());\n  }, [getAllUsers]);\n\n  useEffect(() => {\n    loadUsers();\n  }, [loadUsers]);\n\n  const resetForm = () => {\n    setFormData({\n      username: '',\n      password: '',\n      name: '',\n      role: 'user'\n    });\n    setError('');\n    setEditingUser(null);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setError('');\n\n    if (!formData.username || !formData.name || (!editingUser && !formData.password)) {\n      setError('  .');\n      return;\n    }\n\n    let result;\n    if (editingUser) {\n      const updateData = { ...formData };\n      if (!updateData.password) {\n        delete updateData.password;\n      }\n      result = updateUser(editingUser.id, updateData);\n    } else {\n      result = addUser(formData);\n    }\n\n    if (result.success) {\n      setShowModal(false);\n      resetForm();\n      loadUsers();\n    } else {\n      setError(result.error);\n    }\n  };\n\n  const handleEdit = (user) => {\n    setEditingUser(user);\n    setFormData({\n      username: user.username,\n      password: '',\n      name: user.name,\n      role: user.role\n    });\n    setShowModal(true);\n  };\n\n  const handleDelete = (user) => {\n    if (user.id === currentUser.id) {\n      setError('    .');\n      return;\n    }\n    setShowDeleteConfirm(user);\n  };\n\n  const confirmDelete = () => {\n    if (showDeleteConfirm) {\n      const result = deleteUser(showDeleteConfirm.id);\n      if (result.success) {\n        loadUsers();\n      }\n      setShowDeleteConfirm(null);\n    }\n  };\n\n  const getRoleText = (role) => {\n    const roles = {\n      admin: '',\n      manager: '',\n      user: ''\n    };\n    return roles[role] || role;\n  };\n\n  const getRoleBadgeClass = (role) => {\n    const classes = {\n      admin: 'bg-red-100 text-red-800',\n      manager: 'bg-blue-100 text-blue-800',\n      user: 'bg-green-100 text-green-800'\n    };\n    return classes[role] || 'bg-gray-100 text-gray-800';\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-6\">\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <UserGroupIcon className=\"h-6 w-6 text-gray-600\" />\n              <h1 className=\"text-xl font-semibold text-gray-900\"> </h1>\n            </div>\n            <button\n              onClick={() => {\n                resetForm();\n                setShowModal(true);\n              }}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2\"\n            >\n              <PlusIcon className=\"h-5 w-5\" />\n              <span> </span>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {users.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <UserGroupIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\"> </h3>\n              <p className=\"mt-1 text-sm text-gray-500\">  .</p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                       \n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      \n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      \n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      \n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {users.map((user) => (\n                    <tr key={user.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className=\"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center\">\n                            <span className=\"text-sm font-medium text-gray-700\">\n                              {user.name.charAt(0)}\n                            </span>\n                          </div>\n                          <div className=\"ml-4\">\n                            <div className=\"text-sm font-medium text-gray-900\">{user.name}</div>\n                            {user.id === currentUser.id && (\n                              <div className=\"text-sm text-gray-500\">( )</div>\n                            )}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {user.username}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getRoleBadgeClass(user.role)}`}>\n                          {getRoleText(user.role)}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                        <div className=\"flex space-x-2\">\n                          <button\n                            onClick={() => handleEdit(user)}\n                            className=\"text-indigo-600 hover:text-indigo-900 flex items-center space-x-1\"\n                          >\n                            <PencilIcon className=\"h-4 w-4\" />\n                            <span></span>\n                          </button>\n                          {user.id !== currentUser.id && (\n                            <button\n                              onClick={() => handleDelete(user)}\n                              className=\"text-red-600 hover:text-red-900 flex items-center space-x-1\"\n                            >\n                              <TrashIcon className=\"h-4 w-4\" />\n                              <span></span>\n                            </button>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/*  /  */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n              {editingUser ? ' ' : ' '}\n            </h3>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  \n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.username}\n                  onChange={(e) => setFormData({...formData, username: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\" \"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  \n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({...formData, name: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\" \"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                   {editingUser && <span className=\"text-gray-500\">( )</span>}\n                </label>\n                <input\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={(e) => setFormData({...formData, password: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder={editingUser ? \"  ()\" : \" \"}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  \n                </label>\n                <select\n                  value={formData.role}\n                  onChange={(e) => setFormData({...formData, role: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"user\"></option>\n                  <option value=\"manager\"></option>\n                  <option value=\"admin\"></option>\n                </select>\n              </div>\n\n              {error && (\n                <div className=\"p-3 bg-red-50 border border-red-200 rounded-md\">\n                  <p className=\"text-red-700 text-sm\">{error}</p>\n                </div>\n              )}\n\n              <div className=\"flex justify-end space-x-3 mt-6\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowModal(false);\n                    resetForm();\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\"\n                >\n                  \n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\"\n                >\n                  {editingUser ? '' : ''}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/*    */}\n      {showDeleteConfirm && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-md\">\n            <div className=\"flex items-center space-x-3 mb-4\">\n              <ExclamationTriangleIcon className=\"h-6 w-6 text-red-600\" />\n              <h3 className=\"text-lg font-medium text-gray-900\"> </h3>\n            </div>\n            \n            <p className=\"text-sm text-gray-500 mb-6\">\n              <span className=\"font-medium\">{showDeleteConfirm.name}</span>  ?\n              <br />    .\n            </p>\n\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                onClick={() => setShowDeleteConfirm(null)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\"\n              >\n                \n              </button>\n              <button\n                onClick={confirmDelete}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700\"\n              >\n                \n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserManagement;\n","import React from 'react';\nimport { useUser } from '../contexts/UserContext';\nimport { Navigate } from 'react-router-dom';\nimport UserManagement from './UserManagement';\nimport { \n  UserGroupIcon,\n  ChartBarIcon,\n  CogIcon,\n  ServerStackIcon,\n  ShieldCheckIcon\n} from '@heroicons/react/24/outline';\n\nconst AdminPanel = () => {\n  const { isAdmin, getAllUsers } = useUser();\n\n  if (!isAdmin()) {\n    return <Navigate to=\"/\" replace />;\n  }\n\n  const users = getAllUsers();\n  const userStats = {\n    total: users.length,\n    admins: users.filter(u => u.role === 'admin').length,\n    managers: users.filter(u => u.role === 'manager').length,\n    users: users.filter(u => u.role === 'user').length\n  };\n\n  const StatCard = ({ title, value, icon: Icon, color = 'blue' }) => {\n    const colorClasses = {\n      blue: 'bg-blue-500',\n      green: 'bg-green-500',\n      yellow: 'bg-yellow-500',\n      red: 'bg-red-500'\n    };\n\n    return (\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"flex items-center\">\n          <div className={`${colorClasses[color]} rounded-md p-3`}>\n            <Icon className=\"h-6 w-6 text-white\" />\n          </div>\n          <div className=\"ml-4\">\n            <p className=\"text-sm font-medium text-gray-600\">{title}</p>\n            <p className=\"text-2xl font-semibold text-gray-900\">{value}</p>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-6\">\n      {/*  */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <div className=\"flex items-center space-x-3\">\n            <ShieldCheckIcon className=\"h-8 w-8 text-blue-600\" />\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\"> </h1>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-4\" />\n        </div>\n      </div>\n\n      {/*   */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <StatCard\n          title=\" \"\n          value={userStats.total}\n          icon={UserGroupIcon}\n          color=\"blue\"\n        />\n        <StatCard\n          title=\"\"\n          value={userStats.admins}\n          icon={ShieldCheckIcon}\n          color=\"red\"\n        />\n        <StatCard\n          title=\" \"\n          value={userStats.users}\n          icon={UserGroupIcon}\n          color=\"green\"\n        />\n      </div>\n\n      {/*   */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\n        {/*   */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center space-x-3 mb-4\">\n            <ServerStackIcon className=\"h-6 w-6 text-gray-600\" />\n            <h3 className=\"text-lg font-semibold text-gray-900\"> </h3>\n          </div>\n          <div className=\"space-y-3\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\"></span>\n              <span className=\"font-medium\">v1.0.0</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\"> </span>\n              <span className=\"font-medium\">LocalStorage</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\"> </span>\n              <span className=\"font-medium\"></span>\n            </div>\n          </div>\n        </div>\n\n        {/*   */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center space-x-3 mb-4\">\n            <ChartBarIcon className=\"h-6 w-6 text-gray-600\" />\n            <h3 className=\"text-lg font-semibold text-gray-900\"> </h3>\n          </div>\n          <div className=\"space-y-3\">\n            <div className=\"text-sm\">\n              <p className=\"text-gray-600\"> </p>\n              <p className=\"font-medium\">{userStats.total}</p>\n            </div>\n            <div className=\"text-sm\">\n              <p className=\"text-gray-600\"> </p>\n              <p className=\"font-medium\">1</p>\n            </div>\n            <div className=\"text-sm\">\n              <p className=\"text-gray-600\"> </p>\n              <p className=\"font-medium text-green-600\"></p>\n            </div>\n          </div>\n        </div>\n\n        {/*   */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center space-x-3 mb-4\">\n            <CogIcon className=\"h-6 w-6 text-gray-600\" />\n            <h3 className=\"text-lg font-semibold text-gray-900\"> </h3>\n          </div>\n          <div className=\"space-y-3\">\n            <button className=\"w-full text-left p-2 rounded-md hover:bg-gray-50 text-sm\">\n                 \n            </button>\n            <button className=\"w-full text-left p-2 rounded-md hover:bg-gray-50 text-sm\">\n                \n            </button>\n            <button className=\"w-full text-left p-2 rounded-md hover:bg-gray-50 text-sm\">\n                \n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/*   */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-xl font-semibold text-gray-900\"></h2>\n        </div>\n        <div className=\"p-0\">\n          <UserManagement />\n        </div>\n      </div>\n\n      {/*   */}\n      <div className=\"mt-8 bg-yellow-50 border border-yellow-200 rounded-md p-4\">\n        <div className=\"flex\">\n          <div className=\"flex-shrink-0\">\n            <ShieldCheckIcon className=\"h-5 w-5 text-yellow-400\" />\n          </div>\n          <div className=\"ml-3\">\n            <h3 className=\"text-sm font-medium text-yellow-800\">\n               \n            </h3>\n            <div className=\"mt-2 text-sm text-yellow-700\">\n              <ul className=\"list-disc pl-5 space-y-1\">\n                <li>   </li>\n                <li>   </li>\n                <li>   </li>\n                <li>   </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/*    UI  . */}\n    </div>\n  );\n};\n\nexport default AdminPanel;\n","import React from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport './App.css';\nimport { UserProvider, useUser } from './contexts/UserContext';\nimport Login from './components/Login';\nimport Navbar from './components/Navbar';\nimport Dashboard from './components/Dashboard';\nimport Invoices from './components/Invoices';\nimport Clients from './components/Clients';\nimport WorkItems from './components/WorkItems';\nimport Estimates from './components/Estimates';\nimport CompanyInfo from './components/CompanyInfo';\nimport AdminPanel from './components/AdminPanel';\n\nfunction AppContent() {\n  const { isLoggedIn } = useUser();\n\n  if (!isLoggedIn) {\n    return <Login />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      <main>\n        <Routes>\n          <Route path=\"/\" element={<Dashboard />} />\n          <Route path=\"/estimates\" element={<Estimates />} />\n          <Route path=\"/invoices\" element={<Invoices />} />\n          <Route path=\"/clients\" element={<Clients />} />\n          <Route path=\"/work-items\" element={<WorkItems />} />\n          <Route path=\"/company-info\" element={<CompanyInfo />} />\n          <Route path=\"/admin\" element={<AdminPanel />} />\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n        </Routes>\n      </main>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <UserProvider>\n      <AppContent />\n    </UserProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { AppProvider } from './contexts/AppContext';\nimport './index.css';\nimport App from './App';\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      retry: 1,\n      staleTime: 5 * 60 * 1000 // 5 minutes\n    }\n  }\n});\nconst root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);\nconst basePath = ((): string => {\n  const fromEnv = process.env.REACT_APP_BASE_PATH;\n  if (fromEnv && fromEnv.length > 0) return fromEnv;\n  return window.location.pathname.startsWith('/cms') ? '/cms' : '/';\n})();\nconst RouterImpl: any = process.env.REACT_APP_USE_HASH_ROUTER === '1' ? HashRouter : BrowserRouter;\nroot.render(<React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <AppProvider>\n        <RouterImpl basename={basePath}>\n          <App />\n        </RouterImpl>\n      </AppProvider>\n    </QueryClientProvider>\n  </React.StrictMode>);","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkconstruction_management_frontend\"] = self[\"webpackChunkconstruction_management_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [96], () => (__webpack_require__(761)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["STORE","DIR_KEY","isSupported","window","openDb","Promise","resolve","reject","req","indexedDB","open","onupgradeneeded","db","result","objectStoreNames","contains","createObjectStore","onsuccess","onerror","error","async","getSavedDirectoryHandle","key","transaction","objectStore","get","idbGet","e","saveDirectoryHandle","handle","value","put","idbSet","verifyPermission","mode","arguments","length","undefined","queryPermission","requestPermission","getFileHandle","dirHandle","name","create","writeKey","obj","fileHandle","concat","writable","createWritable","write","Blob","JSON","stringify","type","close","browserFs","chooseDirectory","showDirectoryPicker","id","readKey","file","getFile","text","parse","writeKeyDirect","dir","storage","getItem","defaultValue","cms","storageGetSync","v","raw","localStorage","setItem","data","storageSet","catch","chooseBrowserDirectory","getBrowserDirectoryInfo","timer","lastPayload","normalizeArray","arr","Array","isArray","mirrorNow","snapshot","wb","companyInfo","clients","workItems","invoices","estimates","units","categories","XLSX","book_new","companyRows","wsCompany","json_to_sheet","book_append_sheet","wsClients","wsWorkItems","wsInvoices","wsEstimates","wsUnits","map","unit","wsCategories","category","buildWorkbook","ab","workbook","bookType","okElectron","api","writeXlsx","uint","Uint8Array","writeViaElectron","okBrowser","writeViaBrowserFs","AppContext","createContext","useApp","context","useContext","Error","STORAGE_KEYS","loadFromStorage","saveToStorage","AppProvider","_ref","children","defaultCompanyInfo","businessNumber","address","phone","email","representative","bankAccount","accountHolder","setCompanyInfo","useState","defaultClients","workplaces","description","projects","totalBilled","outstanding","notes","setClients","defaultWorkItems","clientId","clientName","workplaceId","workplaceName","defaultPrice","quantity","projectName","status","date","setWorkItems","defaultInvoices","client","project","workplaceAddress","amount","dueDate","unitPrice","total","setInvoices","defaultEstimates","title","validUntil","totalAmount","items","setEstimates","defaultUnits","defaultCategories","setUnits","setCategories","stampImage","setStampImage","useEffect","delayMs","clearTimeout","setTimeout","scheduleMirror","getCompletedWorkItems","filter","item","getCompletedWorkItemsByClient","addWorkItemToInvoice","workItem","finalQuantity","finalUnitPrice","laborPersons","parseInt","laborUnitRate","laborPersonsGeneral","laborUnitRateGeneral","laborCost","convertEstimateToWorkItems","estimateId","estimate","find","est","newWorkItems","index","Math","max","i","Date","toISOString","split","prev","_objectSpread","_jsx","Provider","UserContext","useUser","UserProvider","currentUser","setCurrentUser","isLoggedIn","setIsLoggedIn","defaultUsers","username","password","role","savedUser","sessionStorage","removeItem","logout","String","now","getAllUsers","login","user","u","success","getUserStorageKey","addUser","userData","users","newUser","push","updateUser","userId","userIndex","findIndex","updatedUser","deleteUser","filteredUsers","isAdmin","timerId","reset","events","forEach","ev","addEventListener","passive","removeEventListener","onStorage","err","Login","setUsername","setPassword","setError","loading","setLoading","navigate","useNavigate","className","_jsxs","onSubmit","preventDefault","htmlFor","onChange","target","placeholder","disabled","location","useLocation","showUserMenu","setShowUserMenu","menuRef","useRef","handleClickOutside","current","handleKeyDown","document","isActive","path","pathname","BuildingOffice2Icon","Link","to","HomeIcon","CalculatorIcon","DocumentTextIcon","UsersIcon","WrenchScrewdriverIcon","CogIcon","ref","onClick","_Fragment","ShieldCheckIcon","UserIcon","restoreInputRef","formatCurrency","n","toLocaleString","recentInvoices","useMemo","slice","sort","a","b","localeCompare","reduce","s","paid","pending","stats","color","icon","href","payload","meta","exportedAt","app","blob","url","URL","createObjectURL","createElement","stampStr","replace","download","click","revokeObjectURL","accept","_e$target$files","files","alert","console","_restoreInputRef$curr","stat","valueSize","Card","invoice","numberToKorean","number","tens","bigUnits","convertGroup","num","digits","toString","Number","digit","position","groups","tempNumber","abs","unshift","floor","group","exportToExcel","join","worksheet","width","importFromExcel","reader","FileReader","onload","Sheets","SheetNames","sheet_to_json","row","readAsArrayBuffer","_row$","_ref2","_row$","createTemplate","selectedIds","setSelectedIds","showConfirmDelete","setShowConfirmDelete","selectedClientFilter","setSelectedClientFilter","selectedStatusFilter","setSelectedStatusFilter","filteredInvoices","base","_clients$find","cid","c","inv","allVisibleIds","allSelected","formatNumberWithCommas","workItemTemplates","showModal","setShowModal","selectedInvoice","setSelectedInvoice","printInvoice","setPrintInvoice","newInvoice","setNewInvoice","templateId","componentRef","log","handleFormInputChange","updated","selectedClient","selectedWorkplace","w","updateWorkItem","field","updatedItems","template","t","matchingWorkItem","wi","numbersOnly","numericValue","getTotalAmount","sum","handleDownloadTemplate","importedInvoices","handleExportToExcel","style","fontSize","checked","toggleSelectAll","includes","toggleSelectOne","from","Set","x","handleChangeStatus","next","viewInvoiceDetails","printWindow","resolvedClient","clientInfoHTML","business","businessName","taxEmail","businessAddress","laborTotal","htmlContent","focus","message","generatePDF","handleDeleteInvoice","invoiceId","confirm","handleBulkDelete","newInv","padStart","required","getClientWorkplaces","workplace","addWorkItem","_workItemTemplates$fi","readOnly","rows","_","gen","sk","laborParts","colSpan","display","padding","fontFamily","lineHeight","maxWidth","margin","backgroundColor","marginBottom","borderRadius","justifyContent","alignItems","textAlign","borderBottom","paddingBottom","fontWeight","letterSpacing","gridTemplateColumns","gap","borderLeft","paddingLeft","overflowX","minWidth","borderCollapse","boxShadow","border","marginTop","verticalAlign","src","alt","height","objectFit","top","left","transform","paddingTop","borderTop","_selectedClient$busin","_selectedClient$busin2","_selectedClient$busin3","_selectedClient$busin4","_selectedClient$busin5","_selectedClient$busin6","_selectedClient$busin7","setSelectedClient","isEditing","setIsEditing","editingClientId","setEditingClientId","newClient","setNewClient","mobile","businessType","businessItem","fileInputRef","handleInputChange","input","startsWith","formatPhoneKR","handleBusinessChange","val","d","formatBizNo","handleWorkplaceChange","updatedWorkplaces","totalsByClientId","Map","set","match","agg","grandTotals","projectCountsByClientId","sets","ensureSet","has","p","trim","add","counts","entries","size","_fileInputRef$current","importedClients","_totalsByClientId$get","_client$business","_totalsByClientId$get2","_totalsByClientId$get3","_totalsByClientId$get4","charAt","viewClientDetails","handleEditClient","_payload$business","_payload$business2","updatedClient","wp","Boolean","addWorkplace","removeWorkplace","selectedProject","setSelectedProject","selectedItems","setSelectedItems","showBulkModal","setShowBulkModal","editingItem","setEditingItem","newItem","setNewItem","showCustomProject","setShowCustomProject","bulkItems","setBulkItems","bulkBaseInfo","setBulkBaseInfo","bulkLaborPersons","bulkLaborUnitRate","showBulkCustomProject","setShowBulkCustomProject","statuses","bulkStatus","setBulkStatus","calContainerRefSingle","calendarRefSingle","calendarOpenSingle","setCalendarOpenSingle","calendarMonthSingle","setCalendarMonthSingle","y","m","onDocClick","pad2","calContainerRefBulk","calendarRefBulk","calendarOpenBulk","setCalendarOpenBulk","calendarMonthBulk","setCalendarMonthBulk","getClientProjects","fromWorkItems","fromClientProjects","fromWorkplaces","filteredWorkItems","getLaborCost","_item$laborPersons","_item$laborUnitRate","_item$laborPersonsGen","_item$laborUnitRateGe","newValue","suggested","resetForm","handleBulkBaseInfoChange","handleBulkItemChange","handleEdit","allProjects","isExistingProject","handleCreateBulkInvoice","completedSelectedItems","incompleteCount","firstClientId","every","unbilledItems","some","workItemInInvoice","firstItem","newInvoiceId","getFullYear","workItemsForInvoice","importedWorkItems","handleSelectAll","handleItemSelect","itemId","handleDelete","handleCreateInvoice","selectedClientData","selectedWorkplaceData","cat","inputMode","onFocus","transformOrigin","prevMonthSingle","getMonth","nextMonthSingle","idx","renderCalendarRowsSingle","startDay","getDay","days","getDate","cells","i2","day","pickDateSingle","newItems","prevMonthBulk","nextMonthBulk","renderCalendarRowsBulk","pickDateBulk","addBulkItem","_item$laborPersonsGen2","_item$laborUnitRateGe2","removeBulkItem","selectedStatus","setSelectedStatus","editingEstimate","setEditingEstimate","printEstimate","setPrintEstimate","newEstimate","setNewEstimate","noDueDate","setNoDueDate","calContainerRef","calendarRef","calendarOpen","setCalendarOpen","calendarMonth","setCalendarMonth","filteredEstimates","_client$workplaces","handleItemChange","calculateTotal","importedEstimates","printContent","innerHTML","handlePrint","convertedItems","handleConvertToWorkItems","estimateData","prevMonth","nextMonth","renderCalendarRows","pickDate","addItem","overflow","fontStyle","whiteSpace","STAMP_IMAGE_KEY","getStorageInfo","hasOwnProperty","used","round","stampImageSize","editForm","setEditForm","newUnit","setNewUnit","newCategory","setNewCategory","storageInfo","setStorageInfo","dataDir","setDataDir","browserDirName","setBrowserDirName","checkStorageAvailable","test","getBaseDir","_storage$getBrowserDi","info","call","formattedValue","numbers","truncated","formatPhoneNumber","handleAddUnit","handleAddCategory","handleSave","handleCancel","viewBox","fill","fillRule","clipRule","onKeyPress","handleRemoveUnit","handleRemoveCategory","stroke","strokeWidth","strokeLinecap","strokeLinejoin","imageDataUrl","readAsDataURL","imageToBase64","saved","saveStampImage","handleRemoveStampImage","removeStampImage","chooseBaseDir","_storage$chooseBrowse","_storage$getBrowserDi2","UserManagement","setUsers","editingUser","setEditingUser","formData","setFormData","showDeleteConfirm","setShowDeleteConfirm","loadUsers","useCallback","getRoleText","admin","manager","UserGroupIcon","PlusIcon","PencilIcon","TrashIcon","updateData","ExclamationTriangleIcon","confirmDelete","AdminPanel","Navigate","userStats","admins","managers","StatCard","Icon","blue","green","yellow","red","ServerStackIcon","ChartBarIcon","AppContent","Navbar","Routes","Route","element","Dashboard","Estimates","Invoices","Clients","WorkItems","CompanyInfo","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","retry","staleTime","root","ReactDOM","getElementById","basePath","fromEnv","process","REACT_APP_BASE_PATH","RouterImpl","REACT_APP_USE_HASH_ROUTER","HashRouter","BrowserRouter","render","React","QueryClientProvider","basename","App","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","splice","r","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","this","then","ns","def","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","prop","prototype","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}