(()=>{"use strict";var e={721:(e,t,s)=>{var n=s(198),l=s(296),a=s(106),r=s(109),i=s(555),d=s(582);const o=(0,n.createContext)(),c=()=>{const e=(0,n.useContext)(o);if(!e)throw new Error("useApp must be used within an AppProvider");return e},x="constructionApp_companyInfo",m="constructionApp_clients",p="constructionApp_workItems",h="constructionApp_invoices",u="constructionApp_estimates",g="constructionApp_units",b="constructionApp_categories",f="constructionApp_stampImage",j=(e,t)=>{try{const s=localStorage.getItem(e);return s?JSON.parse(s):t}catch(s){return console.warn("Failed to load ".concat(e," from localStorage:"),s),t}},y=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(s){console.warn("Failed to save ".concat(e," to localStorage:"),s)}},v=e=>{let{children:t}=e;const s={name:"\ud55c\uad6d\uac74\uc124",businessNumber:"123-45-67890",address:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c 123",phone:"02-1234-5678",email:"info@hangeonconstruction.com",representative:"\ud64d\uae38\ub3d9",bankAccount:"\uc2e0\ud55c\uc740\ud589 110-123-456789",accountHolder:"\ud55c\uad6d\uac74\uc124(\uc8fc)"},[l,a]=(0,n.useState)(()=>j(x,s)),r=[{id:1,name:"\uae40\ucca0\uc218",phone:"010-1234-5678",email:"kim@email.com",address:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c 123",workplaces:[{id:1,name:"\uc2e0\ucd95 \uc8fc\ud0dd",address:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \uc5ed\uc0bc\ub3d9 123-45",description:"\ub2e8\ub3c5\uc8fc\ud0dd \uc2e0\ucd95 \ud604\uc7a5"},{id:2,name:"\ucc28\uace0 \uac74\uc124",address:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \uc5ed\uc0bc\ub3d9 123-45",description:"\uae30\uc874 \uc8fc\ud0dd \ubd80\uc9c0 \ub0b4 \ucc28\uace0 \uac74\uc124"}],projects:["\ub2e8\ub3c5\uc8fc\ud0dd \uc2e0\ucd95"],totalBilled:12e6,outstanding:35e5,notes:"\uc131\uc2e4\ud55c \uace0\uac1d, \ucd94\ucc9c \uac00\ub2a5"},{id:2,name:"\ubc15\uc601\ud76c",phone:"010-2345-6789",email:"park@email.com",address:"\uc11c\uc6b8\uc2dc \uc11c\ucd08\uad6c \uc11c\ucd08\ub3d9 456",workplaces:[{id:1,name:"\uc544\ud30c\ud2b8 \ub9ac\ubaa8\ub378\ub9c1",address:"\uc11c\uc6b8\uc2dc \uc11c\ucd08\uad6c \ubc18\ud3ec\ub3d9 \uc544\ud30c\ud2b8 101\ub3d9 503\ud638",description:"\uc544\ud30c\ud2b8 \ub0b4\ubd80 \uc804\uccb4 \ub9ac\ubaa8\ub378\ub9c1"}],projects:["\uc544\ud30c\ud2b8 \ub9ac\ubaa8\ub378\ub9c1"],totalBilled:52e5,outstanding:12e5,notes:"\ub514\ud14c\uc77c\uc5d0 \ubbfc\uac10\ud568"},{id:3,name:"\uc774\ubbfc\ud638",phone:"010-3456-7890",email:"lee@email.com",address:"\uc11c\uc6b8\uc2dc \ub9c8\ud3ec\uad6c \ud64d\ub300\uc785\uad6c\ub85c 789",workplaces:[{id:1,name:"\uc0c1\uac00 1\uce35",address:"\uc11c\uc6b8\uc2dc \ub9c8\ud3ec\uad6c \ud64d\ub300\uc785\uad6c \uc0c1\uac00 1\uce35",description:"\uce74\ud398 \uac1c\uc5c5\uc744 \uc704\ud55c \ub0b4\ubd80 \uacf5\uc0ac"},{id:2,name:"\uc0c1\uac00 2\uce35",address:"\uc11c\uc6b8\uc2dc \ub9c8\ud3ec\uad6c \ud64d\ub300\uc785\uad6c \uc0c1\uac00 2\uce35",description:"\uc0ac\ubb34\uc2e4 \uc778\ud14c\ub9ac\uc5b4 \uacf5\uc0ac"}],projects:["\uc0c1\uac00 \ub0b4\ubd80\uacf5\uc0ac"],totalBilled:78e5,outstanding:26e5,notes:"\ube60\ub978 \uc9c4\ud589 \uc120\ud638"},{id:4,name:"\uc815\uc218\uc9c4",phone:"010-4567-8901",email:"jung@email.com",address:"\uacbd\uae30\ub3c4 \uc131\ub0a8\uc2dc \ubd84\ub2f9\uad6c \uc815\uc790\ub3d9 321",workplaces:[{id:1,name:"\ud654\uc7a5\uc2e4 \ub9ac\ubaa8\ub378\ub9c1",address:"\uacbd\uae30\ub3c4 \uc131\ub0a8\uc2dc \ubd84\ub2f9\uad6c \uc815\uc790\ub3d9 \uc544\ud30c\ud2b8 15\ub3d9 702\ud638",description:"\uc548\ubc29 \ud654\uc7a5\uc2e4 \uc804\uccb4 \ub9ac\ubaa8\ub378\ub9c1"}],projects:["\ud654\uc7a5\uc2e4 \ub9ac\ubaa8\ub378\ub9c1"],totalBilled:15e5,outstanding:0,notes:"\uaf3c\uaf3c\ud558\uace0 \uc2e0\uc911\ud568"}],[c,v]=(0,n.useState)(()=>j(m,r)),N=[{id:1,clientId:1,clientName:"\uae40\ucca0\uc218",workplaceId:1,workplaceName:"\uc2e0\ucd95 \uc8fc\ud0dd",name:"\uae30\ucd08\uacf5\uc0ac",category:"\ud1a0\ubaa9\uacf5\uc0ac",defaultPrice:3e6,quantity:1,unit:"\uc2dd",description:"\uac74\ubb3c \uae30\ucd08 \ubc0f \uc9c0\ubc18 \uc791\uc5c5",projectName:"\ub2e8\ub3c5\uc8fc\ud0dd \uc2e0\ucd95",status:"\uc644\ub8cc",date:"2024-09-01",notes:"\ucf58\ud06c\ub9ac\ud2b8 \uac15\ub3c4 \ud655\uc778 \ud544\uc694"},{id:2,clientId:1,clientName:"\uae40\ucca0\uc218",workplaceId:1,workplaceName:"\uc2e0\ucd95 \uc8fc\ud0dd",name:"\uace8\uc870\uacf5\uc0ac",category:"\uad6c\uc870\uacf5\uc0ac",defaultPrice:4e6,quantity:1,unit:"\uc2dd",description:"\ucca0\uace8 \ubc0f \ucca0\uadfc\ucf58\ud06c\ub9ac\ud2b8 \uace8\uc870 \uc791\uc5c5",projectName:"\ub2e8\ub3c5\uc8fc\ud0dd \uc2e0\ucd95",status:"\uc644\ub8cc",date:"2024-08-28",notes:"\ucca0\uadfc \uac04\uaca9 \uc801\uc815\uc131 \uac80\ud1a0 \ud544\uc694"},{id:3,clientId:2,clientName:"\ubc15\uc601\ud76c",workplaceId:1,workplaceName:"\uc544\ud30c\ud2b8 \ub9ac\ubaa8\ub378\ub9c1",name:"\ubcbd\uccb4 \ucca0\uac70",category:"\ucca0\uac70\uacf5\uc0ac",defaultPrice:5e4,quantity:25,unit:"\u33a1",description:"\uae30\uc874 \ubcbd\uccb4 \ucca0\uac70 \ubc0f \ud3d0\uae30\ubb3c \ucc98\ub9ac",projectName:"\uc544\ud30c\ud2b8 \ub9ac\ubaa8\ub378\ub9c1",status:"\uc644\ub8cc",date:"2024-08-25",notes:"\uc18c\uc74c \ubc29\uc9c0\ub97c \uc704\ud574 \uc624\uc804 \uc791\uc5c5 \uad8c\uc7a5"},{id:4,clientId:2,clientName:"\ubc15\uc601\ud76c",workplaceId:1,workplaceName:"\uc544\ud30c\ud2b8 \ub9ac\ubaa8\ub378\ub9c1",name:"\ubc14\ub2e5 \uc2dc\uacf5",category:"\ub9c8\uac10\uacf5\uc0ac",defaultPrice:12e5,quantity:1,unit:"\uc2dd",description:"\ubc14\ub2e5\uc7ac \uc124\uce58 \ubc0f \ub9c8\uac10 \uc791\uc5c5",projectName:"\uc544\ud30c\ud2b8 \ub9ac\ubaa8\ub378\ub9c1",status:"\uc644\ub8cc",date:"2024-09-02",notes:"\ud559\ucd9c \ubc29\uc9c0\ub97c \uc704\ud55c \ub2e8\uc5f4 \ucc98\ub9ac \ud544\uc694"},{id:5,clientId:3,clientName:"\uc774\ubbfc\ud638",workplaceId:1,workplaceName:"\uc0c1\uac00 1\uce35",name:"\ub0b4\ubd80 \uce78\ub9c9\uc774",category:"\ub0b4\ubd80\uacf5\uc0ac",defaultPrice:12e4,quantity:30,unit:"\u33a1",description:"\ub0b4\ubd80 \uce78\ub9c9\uc774\ubcbd \uc124\uce58",projectName:"\uc0c1\uac00 \ub0b4\ubd80\uacf5\uc0ac",status:"\uc9c4\ud589\uc911",date:"2024-08-20",notes:"\uc18c\ubc29 \uaddc\uc815 \uc900\uc218 \ud655\uc778 \ud544\uc694"},{id:6,clientId:3,clientName:"\uc774\ubbfc\ud638",workplaceId:2,workplaceName:"\uc0c1\uac00 2\uce35",name:"\uc804\uae30\uacf5\uc0ac",category:"\uc124\ube44\uacf5\uc0ac",defaultPrice:15e5,quantity:1,unit:"\uc2dd",description:"\uc804\uae30 \ubc30\uc120 \ubc0f \uc870\uba85 \uc124\uce58",projectName:"\uc0c1\uac00 \ub0b4\ubd80\uacf5\uc0ac",status:"\uc608\uc815",date:"2024-09-10",notes:"\uc804\uc555 \uc6a9\ub7c9 \uc0ac\uc804 \ud655\uc778 \ud544\uc694"},{id:7,clientId:4,clientName:"\uc815\uc218\uc9c4",workplaceId:1,workplaceName:"\ud654\uc7a5\uc2e4 \ub9ac\ubaa8\ub378\ub9c1",name:"\ud654\uc7a5\uc2e4 \ucca0\uac70",category:"\ucca0\uac70\uacf5\uc0ac",defaultPrice:5e5,quantity:1,unit:"\uc2dd",description:"\uae30\uc874 \ud654\uc7a5\uc2e4 \ucca0\uac70",projectName:"\ud654\uc7a5\uc2e4 \ub9ac\ubaa8\ub378\ub9c1",status:"\uc644\ub8cc",date:"2024-08-15",notes:"\ubc29\uc218 \ucc98\ub9ac \uc0c1\ud0dc \ud655\uc778 \ud544\uc694"},{id:8,clientId:4,clientName:"\uc815\uc218\uc9c4",workplaceId:1,workplaceName:"\ud654\uc7a5\uc2e4 \ub9ac\ubaa8\ub378\ub9c1",name:"\ud654\uc7a5\uc2e4 \uc124\uce58",category:"\uc124\ube44\uacf5\uc0ac",defaultPrice:1e6,quantity:1,unit:"\uc2dd",description:"\uc0c8\ub85c\uc6b4 \ud654\uc7a5\uc2e4 \uc124\uce58 \ubc0f \ubc30\uad00",projectName:"\ud654\uc7a5\uc2e4 \ub9ac\ubaa8\ub378\ub9c1",status:"\uc644\ub8cc",date:"2024-08-22",notes:"\uae09\uc218 \uc555\ub825 \ud14c\uc2a4\ud2b8 \uc644\ub8cc"}],[w,k]=(0,n.useState)(()=>j(p,N)),I=[{id:"INV-2024-001",client:"\uae40\ucca0\uc218",project:"\ub2e8\ub3c5\uc8fc\ud0dd \uc2e0\ucd95",workplaceAddress:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \uc5ed\uc0bc\ub3d9 123-45",amount:85e5,status:"\ubc1c\uc1a1\ub428",date:"2024-09-01",dueDate:"2024-09-15",workItems:[{name:"\uae30\ucd08\uacf5\uc0ac",quantity:1,unitPrice:3e6,total:3e6,description:"\uac74\ubb3c \uae30\ucd08 \ubc0f \uc9c0\ubc18 \uc791\uc5c5",category:"\ud1a0\ubaa9\uacf5\uc0ac",notes:"\ucf58\ud06c\ub9ac\ud2b8 \uac15\ub3c4 \ud655\uc778 \ud544\uc694"},{name:"\uace8\uc870\uacf5\uc0ac",quantity:1,unitPrice:4e6,total:4e6,description:"\ucca0\uace8 \ubc0f \ucca0\uadfc\ucf58\ud06c\ub9ac\ud2b8 \uace8\uc870 \uc791\uc5c5",category:"\uad6c\uc870\uacf5\uc0ac",notes:"\ucca0\uadfc \uac04\uaca9 \uc801\uc815\uc131 \uac80\ud1a0 \ud544\uc694"},{name:"\ubd80\ub300\ube44\uc6a9",quantity:1,unitPrice:15e5,total:15e5,description:"\uc790\uc7ac\uc6b4\ubc18 \ubc0f \uae30\ud0c0 \ubd80\ub300\ube44\uc6a9",category:"\uae30\ud0c0",notes:"\uc6b4\ubc18 \ucc28\ub7c9 \uc811\uadfc\uc131 \ud655\uc778"}]},{id:"INV-2024-002",client:"\ubc15\uc601\ud76c",project:"\uc544\ud30c\ud2b8 \ub9ac\ubaa8\ub378\ub9c1",workplaceAddress:"\uc11c\uc6b8\uc2dc \uc11c\ucd08\uad6c \ubc18\ud3ec\ub3d9 \uc544\ud30c\ud2b8 101\ub3d9 503\ud638",amount:32e5,status:"\uacb0\uc81c\uc644\ub8cc",date:"2024-08-28",dueDate:"2024-09-12",workItems:[{name:"\ubcbd\uccb4 \ucca0\uac70",quantity:25,unitPrice:5e4,total:125e4,description:"\uae30\uc874 \ubcbd\uccb4 \ucca0\uac70 \ubc0f \ud3d0\uae30\ubb3c \ucc98\ub9ac",category:"\ucca0\uac70\uacf5\uc0ac",notes:"\uc18c\uc74c \ubc29\uc9c0\ub97c \uc704\ud574 \uc624\uc804 \uc791\uc5c5 \uad8c\uc7a5"},{name:"\ubc14\ub2e5 \uc2dc\uacf5",quantity:1,unitPrice:12e5,total:12e5,description:"\ubc14\ub2e5\uc7ac \uc124\uce58 \ubc0f \ub9c8\uac10 \uc791\uc5c5",category:"\ub9c8\uac10\uacf5\uc0ac",notes:"\ud559\ucd9c \ubc29\uc9c0\ub97c \uc704\ud55c \ub2e8\uc5f4 \ucc98\ub9ac \ud544\uc694"},{name:"\ub3c4\ubc30 \uc791\uc5c5",quantity:1,unitPrice:75e4,total:75e4,description:"\uc804\uccb4 \ubcbd\uba74 \ub3c4\ubc30",category:"\ub9c8\uac10\uacf5\uc0ac",notes:"\uc2b5\ub3c4 \uc870\uc808 \ud6c4 \uc2dc\uacf5"}]},{id:"INV-2024-003",client:"\uc774\ubbfc\ud638",project:"\uc0c1\uac00 \ub0b4\ubd80\uacf5\uc0ac",workplaceAddress:"\uc11c\uc6b8\uc2dc \ub9c8\ud3ec\uad6c \ud64d\ub300\uc785\uad6c \uc0c1\uac00 1\uce35",amount:58e5,status:"\ubbf8\uacb0\uc81c",date:"2024-08-25",dueDate:"2024-09-08",workItems:[{name:"\ub0b4\ubd80 \uce78\ub9c9\uc774",quantity:30,unitPrice:12e4,total:36e5,description:"\ub0b4\ubd80 \uce78\ub9c9\uc774\ubcbd \uc124\uce58",category:"\ub0b4\ubd80\uacf5\uc0ac",notes:"\uc18c\ubc29 \uaddc\uc815 \uc900\uc218 \ud655\uc778 \ud544\uc694"},{name:"\uc804\uae30\uacf5\uc0ac",quantity:1,unitPrice:15e5,total:15e5,description:"\uc804\uae30 \ubc30\uc120 \ubc0f \uc870\uba85 \uc124\uce58",category:"\uc124\ube44\uacf5\uc0ac",notes:"\uc804\uc555 \uc6a9\ub7c9 \uc0ac\uc804 \ud655\uc778 \ud544\uc694"},{name:"\ub9c8\uac10\uc7ac \uc124\uce58",quantity:1,unitPrice:7e5,total:7e5,description:"\ucc9c\uc7a5 \ubc0f \ubcbd\uba74 \ub9c8\uac10\uc7ac \uc124\uce58",category:"\ub9c8\uac10\uacf5\uc0ac",notes:"\ubc29\ud654 \uc790\uc7ac \uc0ac\uc6a9 \ud544\uc218"}]},{id:"INV-2024-004",client:"\uc815\uc218\uc9c4",project:"\ud654\uc7a5\uc2e4 \ub9ac\ubaa8\ub378\ub9c1",workplaceAddress:"\uacbd\uae30\ub3c4 \uc131\ub0a8\uc2dc \ubd84\ub2f9\uad6c \uc815\uc790\ub3d9 \uc544\ud30c\ud2b8 15\ub3d9 702\ud638",amount:15e5,status:"\ubc1c\uc1a1\ub300\uae30",date:"2024-08-22",dueDate:"2024-09-05",workItems:[{name:"\ud654\uc7a5\uc2e4 \ucca0\uac70",quantity:1,unitPrice:5e5,total:5e5,description:"\uae30\uc874 \ud654\uc7a5\uc2e4 \ucca0\uac70",category:"\ucca0\uac70\uacf5\uc0ac",notes:"\ubc29\uc218 \ucc98\ub9ac \uc0c1\ud0dc \ud655\uc778 \ud544\uc694"},{name:"\ud654\uc7a5\uc2e4 \uc124\uce58",quantity:1,unitPrice:1e6,total:1e6,description:"\uc0c8\ub85c\uc6b4 \ud654\uc7a5\uc2e4 \uc124\uce58 \ubc0f \ubc30\uad00",category:"\uc124\ube44\uacf5\uc0ac",notes:"\uae09\uc218 \uc555\ub825 \ud14c\uc2a4\ud2b8 \uc644\ub8cc"}]}],[S,A]=(0,n.useState)(()=>j(h,I)),C=[{id:"EST-2024-001",clientId:1,clientName:"\uae40\ucca0\uc218",workplaceId:1,workplaceName:"\uc2e0\ucd95 \uc8fc\ud0dd",workplaceAddress:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \uc5ed\uc0bc\ub3d9 123-45",projectName:"\ub2e8\ub3c5\uc8fc\ud0dd \uc2e0\ucd95",title:"\ub2e8\ub3c5\uc8fc\ud0dd \uc2e0\ucd95 \uacf5\uc0ac \uacac\uc801\uc11c",date:"2024-08-15",validUntil:"2024-09-15",status:"\uac80\ud1a0\uc911",totalAmount:85e6,items:[{id:1,category:"\ud1a0\ubaa9\uacf5\uc0ac",name:"\uae30\ucd08\uacf5\uc0ac",description:"\uac74\ubb3c \uae30\ucd08 \ubc0f \uc9c0\ubc18 \uc791\uc5c5",quantity:1,unit:"\uc2dd",unitPrice:3e7,total:3e7,notes:"\ucf58\ud06c\ub9ac\ud2b8 \uac15\ub3c4 \ud655\uc778 \ud544\uc694"},{id:2,category:"\uad6c\uc870\uacf5\uc0ac",name:"\uace8\uc870\uacf5\uc0ac",description:"\ucca0\uace8 \ubc0f \ucca0\uadfc\ucf58\ud06c\ub9ac\ud2b8 \uace8\uc870 \uc791\uc5c5",quantity:1,unit:"\uc2dd",unitPrice:4e7,total:4e7,notes:"\ucca0\uadfc \uac04\uaca9 \uc801\uc815\uc131 \uac80\ud1a0 \ud544\uc694"},{id:3,category:"\ub9c8\uac10\uacf5\uc0ac",name:"\ub0b4\uc678\ubd80 \ub9c8\uac10",description:"\ub0b4\ubd80 \ubc0f \uc678\ubd80 \ub9c8\uac10\uc7ac \uc2dc\uacf5",quantity:1,unit:"\uc2dd",unitPrice:15e6,total:15e6,notes:"\uace0\uae09 \ub9c8\uac10\uc7ac \uc801\uc6a9"}],notes:"\ubd80\uac00\uc138 \ubcc4\ub3c4, \uc124\uacc4 \ubcc0\uacbd \uc2dc \ucd94\uac00 \uacac\uc801 \ud544\uc694"},{id:"EST-2024-002",clientId:2,clientName:"\ubc15\uc601\ud76c",workplaceId:1,workplaceName:"\uc544\ud30c\ud2b8 \ub9ac\ubaa8\ub378\ub9c1",workplaceAddress:"\uc11c\uc6b8\uc2dc \uc11c\ucd08\uad6c \ubc18\ud3ec\ub3d9 \uc544\ud30c\ud2b8 101\ub3d9 503\ud638",projectName:"\uc544\ud30c\ud2b8 \ub9ac\ubaa8\ub378\ub9c1",title:"\uc544\ud30c\ud2b8 \uc804\uccb4 \ub9ac\ubaa8\ub378\ub9c1 \uacac\uc801\uc11c",date:"2024-08-10",validUntil:"2024-09-10",status:"\uc2b9\uc778\ub428",totalAmount:32e6,items:[{id:1,category:"\ucca0\uac70\uacf5\uc0ac",name:"\ubcbd\uccb4 \ucca0\uac70",description:"\uae30\uc874 \ubcbd\uccb4 \ucca0\uac70 \ubc0f \ud3d0\uae30\ubb3c \ucc98\ub9ac",quantity:25,unit:"\u33a1",unitPrice:5e5,total:125e5,notes:"\uc18c\uc74c \ubc29\uc9c0\ub97c \uc704\ud574 \uc624\uc804 \uc791\uc5c5 \uad8c\uc7a5"},{id:2,category:"\ub9c8\uac10\uacf5\uc0ac",name:"\ubc14\ub2e5 \ubc0f \ubcbd\uba74 \uc2dc\uacf5",description:"\ubc14\ub2e5\uc7ac \uc124\uce58 \ubc0f \ubcbd\uba74 \ub9c8\uac10 \uc791\uc5c5",quantity:1,unit:"\uc2dd",unitPrice:195e5,total:195e5,notes:"\uc2b5\ub3c4 \uc870\uc808 \ud6c4 \uc2dc\uacf5"}],notes:"\uacf5\uc0ac \uae30\uac04 \uc57d 30\uc77c \uc608\uc0c1"}],[q,P]=(0,n.useState)(()=>j(u,C)),z=["\uc2dd","\u33a1","\uac1c","\ud1a4","m","kg","\ud68c","\uc77c"],_=["\ud1a0\ubaa9\uacf5\uc0ac","\uad6c\uc870\uacf5\uc0ac","\ucca0\uac70\uacf5\uc0ac","\ub9c8\uac10\uacf5\uc0ac","\uc124\ube44\uacf5\uc0ac","\ub0b4\ubd80\uacf5\uc0ac","\uae30\ud0c0"],[W,B]=(0,n.useState)(()=>j(g,z)),[D,E]=(0,n.useState)(()=>j(b,_)),[L,T]=(0,n.useState)(()=>j(f,null));(0,n.useEffect)(()=>{y(x,l)},[l]),(0,n.useEffect)(()=>{y(m,c)},[c]),(0,n.useEffect)(()=>{y(p,w)},[w]),(0,n.useEffect)(()=>{y(h,S)},[S]),(0,n.useEffect)(()=>{y(u,q)},[q]),(0,n.useEffect)(()=>{y(g,W)},[W]),(0,n.useEffect)(()=>{y(b,D)},[D]),(0,n.useEffect)(()=>{y(f,L)},[L]);const O={companyInfo:l,setCompanyInfo:a,clients:c,setClients:v,workItems:w,setWorkItems:k,invoices:S,setInvoices:A,estimates:q,setEstimates:P,units:W,setUnits:B,categories:D,setCategories:E,stampImage:L,setStampImage:T,getCompletedWorkItems:()=>w.filter(e=>"\uc644\ub8cc"===e.status),getCompletedWorkItemsByClient:e=>w.filter(t=>t.clientId===e&&"\uc644\ub8cc"===t.status),addWorkItemToInvoice:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=null!==t?t:e.quantity||1,l=s||e.defaultPrice;return{name:e.name,quantity:n,unitPrice:l,total:n*l,description:e.description,category:e.category,notes:e.notes||""}},convertEstimateToWorkItems:e=>{const t=q.find(t=>t.id===e);if(!t)return[];const s=t.items.map((e,s)=>({id:Math.max(...w.map(e=>e.id))+s+1,clientId:t.clientId,clientName:t.clientName,workplaceId:t.workplaceId,workplaceName:t.workplaceName,projectName:t.projectName,name:e.name,category:e.category,defaultPrice:e.unitPrice,quantity:e.quantity,unit:e.unit,description:e.description,status:"\uc608\uc815",date:(new Date).toISOString().split("T")[0],notes:e.notes||""}));return k(e=>[...e,...s]),P(t=>t.map(t=>t.id===e?(0,i.A)((0,i.A)({},t),{},{status:"\uc791\uc5c5 \uc804\ud658\ub428"}):t)),s}};return(0,d.jsx)(o.Provider,{value:O,children:t})};var N=s(941),w=s(386),k=s(773),I=s(623),S=s(747),A=s(22),C=s(792);const q=function(){const e=(0,r.zy)(),t=t=>e.pathname===t;return(0,d.jsx)("nav",{className:"bg-blue-600 text-white shadow-lg",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsxs)(a.N_,{to:"/",className:"text-xl font-bold flex items-center space-x-2",children:[(0,d.jsx)(N.A,{className:"h-8 w-8"}),(0,d.jsx)("span",{children:"\uac74\ucd95 \uacac\uc801/\uccad\uad6c \uc2dc\uc2a4\ud15c"})]})}),(0,d.jsx)("div",{className:"hidden md:block",children:(0,d.jsxs)("div",{className:"ml-10 flex items-baseline space-x-4",children:[(0,d.jsxs)(a.N_,{to:"/",className:"px-3 py-2 rounded-md text-base font-medium flex items-center space-x-1 ".concat(t("/")?"bg-blue-700 text-white":"text-blue-100 hover:bg-blue-500 hover:text-white"),children:[(0,d.jsx)(w.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"\ub300\uc2dc\ubcf4\ub4dc"})]}),(0,d.jsxs)(a.N_,{to:"/estimates",className:"px-3 py-2 rounded-md text-base font-medium flex items-center space-x-1 ".concat(t("/estimates")?"bg-blue-700 text-white":"text-blue-100 hover:bg-blue-500 hover:text-white"),children:[(0,d.jsx)(k.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"\uacac\uc801\uc11c \uad00\ub9ac"})]}),(0,d.jsxs)(a.N_,{to:"/invoices",className:"px-3 py-2 rounded-md text-base font-medium flex items-center space-x-1 ".concat(t("/invoices")?"bg-blue-700 text-white":"text-blue-100 hover:bg-blue-500 hover:text-white"),children:[(0,d.jsx)(I.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"\uccad\uad6c\uc11c \uad00\ub9ac"})]}),(0,d.jsxs)(a.N_,{to:"/clients",className:"px-3 py-2 rounded-md text-base font-medium flex items-center space-x-1 ".concat(t("/clients")?"bg-blue-700 text-white":"text-blue-100 hover:bg-blue-500 hover:text-white"),children:[(0,d.jsx)(S.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"\uac74\ucd95\uc8fc \uad00\ub9ac"})]}),(0,d.jsxs)(a.N_,{to:"/work-items",className:"px-3 py-2 rounded-md text-base font-medium flex items-center space-x-1 ".concat(t("/work-items")?"bg-blue-700 text-white":"text-blue-100 hover:bg-blue-500 hover:text-white"),children:[(0,d.jsx)(A.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"\uc791\uc5c5 \ud56d\ubaa9 \uad00\ub9ac"})]}),(0,d.jsxs)(a.N_,{to:"/company-info",className:"px-3 py-2 rounded-md text-base font-medium flex items-center space-x-1 ".concat(t("/company-info")?"bg-blue-700 text-white":"text-blue-100 hover:bg-blue-500 hover:text-white"),children:[(0,d.jsx)(C.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"\ud658\uacbd\uc124\uc815"})]})]})})]})})})};const P=function(){return(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\ub300\uc2dc\ubcf4\ub4dc"}),(0,d.jsx)("p",{className:"text-gray-600",children:"\uccad\uad6c\uc11c \ubc1c\ud589 \ud604\ud669\uc744 \ud55c\ub208\uc5d0 \ud655\uc778\ud558\uc138\uc694"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{title:"\uc774\ubc88 \ub2ec \uccad\uad6c\uc11c",value:"8",color:"bg-blue-500",icon:"\ud83d\udcc4"},{title:"\ubbf8\uc218\uae08",value:"15,000,000\uc6d0",color:"bg-orange-500",icon:"\ud83d\udcb0"},{title:"\uc644\ub8cc\ub41c \uc791\uc5c5",value:"23",color:"bg-green-500",icon:"\u2705"},{title:"\ub4f1\ub85d\ub41c \uac74\ucd95\uc8fc",value:"12",color:"bg-purple-500",icon:"\ud83d\udc65"}].map((e,t)=>(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e.title}),(0,d.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.value})]}),(0,d.jsx)("div",{className:"".concat(e.color," rounded-full p-3 text-white text-2xl"),children:e.icon})]})},t))}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,d.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\ucd5c\uadfc \uccad\uad6c\uc11c"})}),(0,d.jsx)("div",{className:"p-6",children:(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"min-w-full",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,d.jsx)("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"\uac74\ucd95\uc8fc"}),(0,d.jsx)("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"\ud504\ub85c\uc81d\ud2b8"}),(0,d.jsx)("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"\uae08\uc561"}),(0,d.jsx)("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"\uc0c1\ud0dc"}),(0,d.jsx)("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"\ub0a0\uc9dc"})]})}),(0,d.jsx)("tbody",{children:[{id:1,client:"\uae40\ucca0\uc218",project:"\ub2e8\ub3c5\uc8fc\ud0dd \uc2e0\ucd95",amount:85e5,status:"\ubc1c\uc1a1\ub428",date:"2024-09-01"},{id:2,client:"\ubc15\uc601\ud76c",project:"\uc544\ud30c\ud2b8 \ub9ac\ubaa8\ub378\ub9c1",amount:32e5,status:"\uacb0\uc81c\uc644\ub8cc",date:"2024-08-28"},{id:3,client:"\uc774\ubbfc\ud638",project:"\uc0c1\uac00 \ub0b4\ubd80\uacf5\uc0ac",amount:58e5,status:"\ubbf8\uacb0\uc81c",date:"2024-08-25"},{id:4,client:"\uc815\uc218\uc9c4",project:"\ud654\uc7a5\uc2e4 \ub9ac\ubaa8\ub378\ub9c1",amount:15e5,status:"\ubc1c\uc1a1\ub300\uae30",date:"2024-08-22"}].map(e=>(0,d.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"py-3 text-sm text-gray-900",children:e.client}),(0,d.jsx)("td",{className:"py-3 text-sm text-gray-900",children:e.project}),(0,d.jsxs)("td",{className:"py-3 text-sm font-medium text-gray-900",children:[e.amount.toLocaleString(),"\uc6d0"]}),(0,d.jsx)("td",{className:"py-3",children:(0,d.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("\uacb0\uc81c\uc644\ub8cc"===e.status?"bg-green-100 text-green-800":"\ubc1c\uc1a1\ub428"===e.status?"bg-blue-100 text-blue-800":"\ubbf8\uacb0\uc81c"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,d.jsx)("td",{className:"py-3 text-sm text-gray-600",children:e.date})]},e.id))})]})})})]})]})},z=e=>{if(0===e)return"\uc601";const t=["","\uc77c","\uc774","\uc0bc","\uc0ac","\uc624","\uc721","\uce60","\ud314","\uad6c"],s=["","\uc2ed","\ubc31","\ucc9c"],n=["","\ub9cc","\uc5b5","\uc870"],l=e=>{let n="";const l=e.toString().split("").map(Number);for(let a=0;a<l.length;a++){const e=l[a],r=l.length-1-a;0!==e&&(1===e&&1===r&&l.length>1?n+=s[r]:n+=t[e]+s[r])}return n};let a="",r=[],i=Math.abs(e);for(;i>0;)r.unshift(i%1e4),i=Math.floor(i/1e4);for(let d=0;d<r.length;d++){const e=r[d];if(0===e)continue;a+=l(e)+n[r.length-1-d]}return(e<0?"\ub9c8\uc774\ub108\uc2a4 ":"")+a};var _=s(157);const W=e=>{const t=e.map(e=>({ID:e.id,"\uc774\ub984":e.name,"\uc804\ud654\ubc88\ud638":e.phone,"\uc774\uba54\uc77c":e.email,"\uc8fc\uc18c":e.address,"\ud504\ub85c\uc81d\ud2b8":e.projects.join(", "),"\ucd1d \uccad\uad6c\uae08\uc561":e.totalBilled,"\ubbf8\uc218\uae08":e.outstanding,"\ube44\uace0":e.notes})),s=_.Wp.json_to_sheet(t),n=_.Wp.book_new();_.Wp.book_append_sheet(n,s,"\uac74\ucd95\uc8fc \ubaa9\ub85d"),s["!cols"]=[{width:8},{width:15},{width:15},{width:25},{width:30},{width:20},{width:15},{width:15},{width:30}],_._h(n,"\uac74\ucd95\uc8fc_\ubaa9\ub85d.xlsx")},B=e=>{const t=e.map(e=>({ID:e.id,"\uac74\ucd95\uc8fc":e.clientName,"\uc791\uc5c5\uc7a5":e.workplaceName,"\ud504\ub85c\uc81d\ud2b8":e.projectName,"\ub0b4\uc6a9":e.name,"\uce74\ud14c\uace0\ub9ac":e.category,"\uae30\ubcf8\ub2e8\uac00":e.defaultPrice,"\uc218\ub7c9":e.quantity||1,"\ub2e8\uc704":e.unit,"\ucd1d\uae08\uc561":(e.defaultPrice||0)*(e.quantity||1),"\uc138\ubd80\uc791\uc5c5":e.description,"\uc0c1\ud0dc":e.status,"\ub0a0\uc9dc":e.date,"\ube44\uace0":e.notes})),s=_.Wp.json_to_sheet(t),n=_.Wp.book_new();_.Wp.book_append_sheet(n,s,"\uc791\uc5c5 \ud56d\ubaa9"),s["!cols"]=[{width:8},{width:12},{width:20},{width:15},{width:15},{width:12},{width:15},{width:8},{width:8},{width:15},{width:30},{width:10},{width:12},{width:25}],_._h(n,"\uc791\uc5c5_\ud56d\ubaa9.xlsx")},D=e=>{const t=e.map(e=>({"\uccad\uad6c\uc11c\ubc88\ud638":e.id,"\uac74\ucd95\uc8fc":e.client,"\ud504\ub85c\uc81d\ud2b8":e.project,"\uc791\uc5c5\uc7a5\uc8fc\uc18c":e.workplaceAddress,"\uccad\uad6c\uae08\uc561":e.amount,"\uc0c1\ud0dc":e.status,"\ubc1c\ud589\uc77c":e.date,"\uc9c0\ubd88\uae30\ud55c":e.dueDate,"\uc791\uc5c5\ud56d\ubaa9\uc218":e.workItems.length})),s=_.Wp.json_to_sheet(t),n=_.Wp.book_new();_.Wp.book_append_sheet(n,s,"\uccad\uad6c\uc11c \ubaa9\ub85d"),s["!cols"]=[{width:15},{width:12},{width:15},{width:35},{width:15},{width:12},{width:12},{width:12},{width:12}],_._h(n,"\uccad\uad6c\uc11c_\ubaa9\ub85d.xlsx")},E=e=>{const t=e.map(e=>({"\uacac\uc801\uc11c\ubc88\ud638":e.id,"\uac74\ucd95\uc8fc":e.clientName,"\ud504\ub85c\uc81d\ud2b8":e.projectName,"\uc791\uc5c5\uc7a5\uc8fc\uc18c":e.workplaceAddress,"\uacac\uc801\uae08\uc561":e.totalAmount,"\uc0c1\ud0dc":e.status,"\ubc1c\ud589\uc77c":e.date,"\uc720\ud6a8\uae30\ud55c":e.validUntil,"\uc791\uc5c5\ud56d\ubaa9\uc218":e.items?e.items.length:0})),s=_.Wp.json_to_sheet(t),n=_.Wp.book_new();_.Wp.book_append_sheet(n,s,"\uacac\uc801\uc11c \ubaa9\ub85d"),s["!cols"]=[{width:15},{width:12},{width:15},{width:35},{width:15},{width:12},{width:12},{width:12},{width:12}],_._h(n,"\uacac\uc801\uc11c_\ubaa9\ub85d.xlsx")},L={clients:e=>new Promise((t,s)=>{const n=new FileReader;n.onload=e=>{try{const s=new Uint8Array(e.target.result),n=_.LF(s,{type:"array"}),l=n.Sheets[n.SheetNames[0]],a=_.Wp.sheet_to_json(l).map((e,t)=>({id:e.ID||t+1,name:e["\uc774\ub984"]||"",phone:e["\uc804\ud654\ubc88\ud638"]||"",email:e["\uc774\uba54\uc77c"]||"",address:e["\uc8fc\uc18c"]||"",projects:e["\ud504\ub85c\uc81d\ud2b8"]?e["\ud504\ub85c\uc81d\ud2b8"].split(", "):[],totalBilled:e["\ucd1d \uccad\uad6c\uae08\uc561"]||0,outstanding:e["\ubbf8\uc218\uae08"]||0,notes:e["\ube44\uace0"]||"",workplaces:[]}));t(a)}catch(n){s(n)}},n.readAsArrayBuffer(e)}),workItems:e=>new Promise((t,s)=>{const n=new FileReader;n.onload=e=>{try{const s=new Uint8Array(e.target.result),n=_.LF(s,{type:"array"}),l=n.Sheets[n.SheetNames[0]],a=_.Wp.sheet_to_json(l).map((e,t)=>({id:e.ID||t+1,clientId:e["\uac74\ucd95\uc8fcID"]||1,clientName:e["\uac74\ucd95\uc8fc"]||"",workplaceId:e["\uc791\uc5c5\uc7a5ID"]||1,workplaceName:e["\uc791\uc5c5\uc7a5"]||"",projectName:e["\ud504\ub85c\uc81d\ud2b8"]||"",name:e["\ub0b4\uc6a9"]||"",category:e["\uce74\ud14c\uace0\ub9ac"]||"",defaultPrice:e["\uae30\ubcf8\ub2e8\uac00"]||0,quantity:e["\uc218\ub7c9"]||1,unit:e["\ub2e8\uc704"]||"",description:e["\uc138\ubd80\uc791\uc5c5"]||"",status:e["\uc0c1\ud0dc"]||"\uc608\uc815",date:e["\ub0a0\uc9dc"]||(new Date).toISOString().split("T")[0],notes:e["\ube44\uace0"]||""}));t(a)}catch(n){s(n)}},n.readAsArrayBuffer(e)}),estimates:e=>new Promise((t,s)=>{const n=new FileReader;n.onload=e=>{try{const s=new Uint8Array(e.target.result),n=_.LF(s,{type:"array"}),l=n.Sheets[n.SheetNames[0]],a=_.Wp.sheet_to_json(l).map((e,t)=>({id:e["\uacac\uc801\uc11c\ubc88\ud638"]||"EST-".concat(Date.now(),"-").concat(t+1),clientName:e["\uac74\ucd95\uc8fc"]||"",projectName:e["\ud504\ub85c\uc81d\ud2b8"]||"",workplaceAddress:e["\uc791\uc5c5\uc7a5\uc8fc\uc18c"]||"",totalAmount:e["\uacac\uc801\uae08\uc561"]||0,status:e["\uc0c1\ud0dc"]||"\uc791\uc131\uc911",date:e["\ubc1c\ud589\uc77c"]||(new Date).toISOString().split("T")[0],validUntil:e["\uc720\ud6a8\uae30\ud55c"]||"",items:[],notes:e["\ube44\uace0"]||""}));t(a)}catch(n){s(n)}},n.readAsArrayBuffer(e)})},T=()=>{const e=_.Wp.json_to_sheet([{ID:1,"\uc774\ub984":"\uc608\uc2dc\uac74\ucd95\uc8fc","\uc804\ud654\ubc88\ud638":"010-1234-5678","\uc774\uba54\uc77c":"example@email.com","\uc8fc\uc18c":"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c 123","\ud504\ub85c\uc81d\ud2b8":"\uc8fc\ud0dd \uc2e0\ucd95, \ub9ac\ubaa8\ub378\ub9c1","\ucd1d \uccad\uad6c\uae08\uc561":15e6,"\ubbf8\uc218\uae08":5e6,"\ube44\uace0":"\uc6b0\uc218 \uace0\uac1d"}]),t=_.Wp.book_new();_.Wp.book_append_sheet(t,e,"\uac74\ucd95\uc8fc \ud15c\ud50c\ub9bf"),e["!cols"]=[{width:8},{width:15},{width:15},{width:25},{width:30},{width:20},{width:15},{width:15},{width:30}],_._h(t,"\uac74\ucd95\uc8fc_\ud15c\ud50c\ub9bf.xlsx")},O=()=>{const e=_.Wp.json_to_sheet([{ID:1,"\uac74\ucd95\uc8fcID":1,"\uac74\ucd95\uc8fc":"\uc608\uc2dc\uac74\ucd95\uc8fc","\uc791\uc5c5\uc7a5ID":1,"\uc791\uc5c5\uc7a5":"\uc2e0\ucd95 \ud604\uc7a5","\ud504\ub85c\uc81d\ud2b8":"\uc8fc\ud0dd \uc2e0\ucd95","\ub0b4\uc6a9":"\uae30\ucd08\uacf5\uc0ac","\uce74\ud14c\uace0\ub9ac":"\ud1a0\ubaa9\uacf5\uc0ac","\uae30\ubcf8\ub2e8\uac00":3e6,"\uc218\ub7c9":1,"\ub2e8\uc704":"\uc2dd","\ucd1d\uae08\uc561":3e6,"\uc138\ubd80\uc791\uc5c5":"\uac74\ubb3c \uae30\ucd08 \ubc0f \uc9c0\ubc18 \uc791\uc5c5","\uc0c1\ud0dc":"\uc644\ub8cc","\ub0a0\uc9dc":"2024-09-01","\ube44\uace0":"\ucf58\ud06c\ub9ac\ud2b8 \uac15\ub3c4 \ud655\uc778 \ud544\uc694"}]),t=_.Wp.book_new();_.Wp.book_append_sheet(t,e,"\uc791\uc5c5\ud56d\ubaa9 \ud15c\ud50c\ub9bf"),e["!cols"]=[{width:8},{width:10},{width:12},{width:10},{width:20},{width:15},{width:15},{width:12},{width:15},{width:8},{width:8},{width:15},{width:30},{width:10},{width:12},{width:25}],_._h(t,"\uc791\uc5c5\ud56d\ubaa9_\ud15c\ud50c\ub9bf.xlsx")},R=()=>{const e=_.Wp.json_to_sheet([{"\uacac\uc801\uc11c\ubc88\ud638":"EST-2024-001","\uac74\ucd95\uc8fc":"\uc608\uc2dc\uac74\ucd95\uc8fc","\ud504\ub85c\uc81d\ud2b8":"\uc8fc\ud0dd \uc2e0\ucd95","\uc791\uc5c5\uc7a5\uc8fc\uc18c":"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c 123","\uacac\uc801\uae08\uc561":5e7,"\uc0c1\ud0dc":"\uc791\uc131\uc911","\ubc1c\ud589\uc77c":"2024-09-01","\uc720\ud6a8\uae30\ud55c":"2024-10-01","\uc791\uc5c5\ud56d\ubaa9\uc218":5,"\ube44\uace0":"\ucd08\uae30 \uacac\uc801\uc11c"}]),t=_.Wp.book_new();_.Wp.book_append_sheet(t,e,"\uacac\uc801\uc11c \ud15c\ud50c\ub9bf"),e["!cols"]=[{width:15},{width:12},{width:15},{width:35},{width:15},{width:12},{width:12},{width:12},{width:12},{width:25}],_._h(t,"\uacac\uc801\uc11c_\ud15c\ud50c\ub9bf.xlsx")},F=()=>{const e=_.Wp.json_to_sheet([{"\uccad\uad6c\uc11c\ubc88\ud638":"INV-2024-001","\uac74\ucd95\uc8fc":"\uc608\uc2dc\uac74\ucd95\uc8fc","\ud504\ub85c\uc81d\ud2b8":"\uc8fc\ud0dd \uc2e0\ucd95","\uc791\uc5c5\uc7a5\uc8fc\uc18c":"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c 123","\uccad\uad6c\uae08\uc561":1e7,"\uc0c1\ud0dc":"\ubc1c\uc1a1\ub428","\ubc1c\ud589\uc77c":"2024-09-01","\ub0a9\uae30\uc77c":"2024-09-15","\uc791\uc5c5\ud56d\ubaa9\uc218":3,"\ube44\uace0":"1\ucc28 \uccad\uad6c\uc11c"}]),t=_.Wp.book_new();_.Wp.book_append_sheet(t,e,"\uccad\uad6c\uc11c \ud15c\ud50c\ub9bf"),e["!cols"]=[{width:15},{width:12},{width:15},{width:35},{width:15},{width:12},{width:12},{width:12},{width:12},{width:25}],_._h(t,"\uccad\uad6c\uc11c_\ud15c\ud50c\ub9bf.xlsx")};const M=function(){const{clients:e,invoices:t,setInvoices:s,companyInfo:l,workItems:a,stampImage:r}=c(),o=e=>e||0===e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"",[x]=(0,n.useState)([{id:1,name:"\uae30\ucd08\uacf5\uc0ac",category:"\ud1a0\ubaa9\uacf5\uc0ac",defaultPrice:3e6,unit:"\uc2dd",description:"\uac74\ubb3c \uae30\ucd08 \ubc0f \uc9c0\ubc18 \uc791\uc5c5"},{id:2,name:"\uace8\uc870\uacf5\uc0ac",category:"\uad6c\uc870\uacf5\uc0ac",defaultPrice:4e6,unit:"\uc2dd",description:"\ucca0\uace8 \ubc0f \ucca0\uadfc\ucf58\ud06c\ub9ac\ud2b8 \uace8\uc870 \uc791\uc5c5"},{id:3,name:"\ubcbd\uccb4 \ucca0\uac70",category:"\ucca0\uac70\uacf5\uc0ac",defaultPrice:8e5,unit:"\u33a1",description:"\uae30\uc874 \ubcbd\uccb4 \ucca0\uac70 \ubc0f \ud3d0\uae30\ubb3c \ucc98\ub9ac"},{id:4,name:"\ubc14\ub2e5 \uc2dc\uacf5",category:"\ub9c8\uac10\uacf5\uc0ac",defaultPrice:12e5,unit:"\u33a1",description:"\ubc14\ub2e5\uc7ac \uc124\uce58 \ubc0f \ub9c8\uac10 \uc791\uc5c5"},{id:5,name:"\ub0b4\ubd80 \uce78\ub9c9\uc774",category:"\ub0b4\ubd80\uacf5\uc0ac",defaultPrice:2e6,unit:"\u33a1",description:"\ub0b4\ubd80 \uce78\ub9c9\uc774\ubcbd \uc124\uce58"},{id:6,name:"\uc804\uae30\uacf5\uc0ac",category:"\uc124\ube44\uacf5\uc0ac",defaultPrice:15e5,unit:"\uc2dd",description:"\uc804\uae30 \ubc30\uc120 \ubc0f \uc870\uba85 \uc124\uce58"},{id:7,name:"\ud654\uc7a5\uc2e4 \ucca0\uac70",category:"\ucca0\uac70\uacf5\uc0ac",defaultPrice:5e5,unit:"\uc2dd",description:"\uae30\uc874 \ud654\uc7a5\uc2e4 \ucca0\uac70"},{id:8,name:"\ud654\uc7a5\uc2e4 \uc124\uce58",category:"\uc124\ube44\uacf5\uc0ac",defaultPrice:1e6,unit:"\uc2dd",description:"\uc0c8\ub85c\uc6b4 \ud654\uc7a5\uc2e4 \uc124\uce58 \ubc0f \ubc30\uad00"},{id:9,name:"\ub3c4\ubc30 \ubc0f \ud398\uc778\ud2b8",category:"\ub9c8\uac10\uacf5\uc0ac",defaultPrice:8e5,unit:"\u33a1",description:"\ubcbd\uba74 \ub3c4\ubc30 \ubc0f \ud398\uc778\ud2b8 \uc791\uc5c5"},{id:10,name:"\ud0c0\uc77c \uc2dc\uacf5",category:"\ub9c8\uac10\uacf5\uc0ac",defaultPrice:1e6,unit:"\u33a1",description:"\ubc14\ub2e5 \ubc0f \ubcbd\uba74 \ud0c0\uc77c \uc2dc\uacf5"}]),[m,p]=(0,n.useState)(!1),[h,u]=(0,n.useState)(null),[g,b]=(0,n.useState)(null),[f,j]=(0,n.useState)({clientId:"",client:"",workplaceId:"",project:"",workplaceAddress:"",workItems:[{name:"",quantity:1,unitPrice:0,total:0,templateId:"",notes:""}]}),y=(0,n.useRef)();(0,n.useEffect)(()=>{if(g){const e=setTimeout(()=>{b(null),console.log("Auto-reset printInvoice state")},3e3);return()=>clearTimeout(e)}},[g]);const v=t=>{const{name:s,value:n}=t.target;j(t=>{const l=(0,i.A)((0,i.A)({},t),{},{[s]:n});if("clientId"===s){const t=e.find(e=>e.id===parseInt(n));l.client=(null===t||void 0===t?void 0:t.name)||"",l.workplaceId="",l.workplaceAddress=""}if("workplaceId"===s){const s=e.find(e=>e.id===parseInt(t.clientId)),a=null===s||void 0===s?void 0:s.workplaces.find(e=>e.id===parseInt(n));l.workplaceAddress=(null===a||void 0===a?void 0:a.address)||""}return l})},N=(e,t,s)=>{const n=[...f.workItems];if("templateId"===t&&s){const t=x.find(e=>e.id===parseInt(s));if(t){n[e].name=t.name,n[e].templateId=parseInt(s);const l=a.find(e=>e.name===t.name);l&&l.notes&&(n[e].notes=l.notes)}}else if("name"===t&&""===s)n[e].templateId="";else if("quantity"===t||"unitPrice"===t){const l=s.toString().replace(/[^\d]/g,""),a=parseInt(l)||0;n[e][t]=a}else n[e][t]=s;"quantity"!==t&&"unitPrice"!==t||(n[e].total=n[e].quantity*n[e].unitPrice),j(e=>(0,i.A)((0,i.A)({},e),{},{workItems:n}))},w=e=>e.reduce((e,t)=>e+t.total,0);return(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uccad\uad6c\uc11c \uad00\ub9ac"}),(0,d.jsx)("p",{className:"text-gray-600",children:"\uc791\uc5c5 \uc644\ub8cc \ud6c4 \uccad\uad6c\uc11c\ub97c \uc0dd\uc131\ud558\uace0 \uad00\ub9ac\ud558\uc138\uc694"})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("button",{onClick:()=>{F()},className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"\ud83d\udcc1 \ud15c\ud50c\ub9bf \ub2e4\uc6b4\ub85c\ub4dc"}),(0,d.jsxs)("label",{className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded cursor-pointer",children:["\ud83d\udce4 Excel \uac00\uc838\uc624\uae30",(0,d.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:async e=>{const t=e.target.files[0];if(t)try{const n=await L.invoices(t);s(e=>[...e,...n]),alert("".concat(n.length,"\uac1c\uc758 \uccad\uad6c\uc11c\ub97c \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4.")),e.target.value=""}catch(n){console.error("Excel \uac00\uc838\uc624\uae30 \uc624\ub958:",n),alert("Excel \ud30c\uc77c \uac00\uc838\uc624\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},className:"hidden"})]}),(0,d.jsx)("button",{onClick:()=>{D(t)},className:"bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded flex items-center",children:"\ud83d\udce5 Excel \ub0b4\ubcf4\ub0b4\uae30"}),(0,d.jsx)("button",{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"+ \uc0c8 \uccad\uad6c\uc11c"})]})]}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uccad\uad6c\uc11c \ubc88\ud638"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uac74\ucd95\uc8fc"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ud504\ub85c\uc81d\ud2b8"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uae08\uc561"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc0c1\ud0dc"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ubc1c\ud589\uc77c"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc791\uc5c5"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.id})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900",children:e.client})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900",children:e.project})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.amount.toLocaleString(),"\uc6d0"]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("\uacb0\uc81c\uc644\ub8cc"===e.status?"bg-green-100 text-green-800":"\ubc1c\uc1a1\ub428"===e.status?"bg-blue-100 text-blue-800":"\ubbf8\uacb0\uc81c"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900",children:e.date})}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,d.jsx)("button",{onClick:()=>(e=>{u(e)})(e),className:"text-blue-600 hover:text-blue-900 mr-2",children:"\uc0c1\uc138\ubcf4\uae30"}),(0,d.jsx)("button",{onClick:()=>(e=>{console.log("\uccad\uad6c\uc11c PDF \uc0c8 \ud0ed\uc5d0\uc11c \uc5f4\uae30 \uc2dc\uc791:",e.id);try{const t=window.open("","_blank","width=1200,height=900,scrollbars=yes,resizable=yes");if(!t)return console.error("\ud31d\uc5c5\uc774 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),void alert("\ud31d\uc5c5\uc774 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ube0c\ub77c\uc6b0\uc800 \uc124\uc815\uc5d0\uc11c \ud31d\uc5c5\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694.");const s='\n        <!DOCTYPE html>\n        <html lang="ko">\n          <head>\n            <title>\uccad\uad6c\uc11c '.concat(e.id,' - \uac74\uc124\uc5c5 \uccad\uad6c\uc11c \uad00\ub9ac \uc2dc\uc2a4\ud15c</title>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <style>\n              @import url(\'https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap\');\n              \n              * {\n                box-sizing: border-box;\n                margin: 0;\n                padding: 0;\n              }\n              \n              body { \n                font-family: \'Noto Sans KR\', sans-serif; \n                margin: 0; \n                padding: 0;\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                min-height: 100vh;\n                color: #374151;\n                line-height: 1.5;\n              }\n              \n              .container {\n                max-width: 1000px;\n                margin: 20px auto;\n                background-color: #ffffff;\n                border-radius: 16px;\n                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n                overflow: hidden;\n              }\n              \n              .header {\n                background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);\n                color: white;\n                padding: 30px;\n                text-align: center;\n              }\n              \n              .header h1 {\n                font-size: 36px;\n                font-weight: 700;\n                margin-bottom: 10px;\n                letter-spacing: 8px;\n              }\n              \n              .invoice-meta {\n                display: flex;\n                justify-content: space-between;\n                margin-top: 20px;\n                font-size: 14px;\n              }\n              \n              .content {\n                padding: 40px;\n              }\n              \n              .section {\n                margin-bottom: 40px;\n              }\n              \n              .section-title {\n                font-size: 18px;\n                font-weight: 700;\n                color: #1f2937;\n                border-left: 4px solid #3b82f6;\n                padding-left: 12px;\n                margin-bottom: 20px;\n              }\n              \n              .grid {\n                display: grid;\n                grid-template-columns: 1fr 1fr;\n                gap: 30px;\n                margin-bottom: 30px;\n              }\n              \n              .info-box {\n                background-color: #f8fafc;\n                padding: 20px;\n                border-radius: 12px;\n                border: 1px solid #e2e8f0;\n              }\n              \n              .info-box h4 {\n                font-size: 16px;\n                font-weight: 600;\n                color: #1e40af;\n                margin-bottom: 15px;\n              }\n              \n              .info-box p {\n                margin: 8px 0;\n                font-size: 14px;\n              }\n              \n              .amount-highlight {\n                background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);\n                padding: 20px;\n                border-radius: 12px;\n                border-left: 4px solid #3b82f6;\n                text-align: center;\n                margin: 30px 0;\n              }\n              \n              .amount-highlight p {\n                margin: 0;\n                font-size: 20px;\n                font-weight: 700;\n                color: #1e3a8a;\n              }\n              \n              .work-table {\n                width: 100%;\n                border-collapse: collapse;\n                background-color: white;\n                border-radius: 12px;\n                overflow: hidden;\n                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n              }\n              \n              .work-table th {\n                background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);\n                padding: 15px 12px;\n                text-align: center;\n                font-weight: 700;\n                font-size: 12px;\n                color: #1f2937;\n                border-bottom: 2px solid #e2e8f0;\n              }\n              \n              .work-table td {\n                padding: 12px;\n                border-bottom: 1px solid #f1f5f9;\n                font-size: 11px;\n                vertical-align: top;\n              }\n              \n              .work-table tr:hover {\n                background-color: #f8fafc;\n              }\n              \n              .work-table tfoot {\n                background: linear-gradient(135deg, #f0f0f0 0%, #e5e5e5 100%);\n                font-weight: 700;\n              }\n              \n              .work-table tfoot td {\n                padding: 15px 12px;\n                border-top: 2px solid #cbd5e1;\n                font-size: 14px;\n              }\n              \n              .signature-section {\n                margin-top: 40px;\n                text-align: right;\n              }\n              \n              .signature-box {\n                display: inline-block;\n                background-color: #f8fafc;\n                border: 1px solid #e2e8f0;\n                border-radius: 12px;\n                padding: 20px;\n                margin-top: 20px;\n              }\n              \n              .signature-company {\n                font-size: 16px;\n                font-weight: 700;\n                margin-bottom: 15px;\n              }\n              \n              .signature-representative {\n                display: flex;\n                align-items: center;\n                justify-content: flex-end;\n                gap: 8px;\n              }\n              \n              .signature-representative span {\n                font-size: 16px;\n                font-weight: 700;\n              }\n              \n              .stamp-container {\n                position: relative;\n                display: inline-block;\n              }\n              \n              .stamp-container img {\n                width: 60px;\n                height: 60px;\n                object-fit: contain;\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n              }\n              \n              .footer-message {\n                text-align: center;\n                margin-top: 40px;\n                padding-top: 20px;\n                border-top: 1px solid #e2e8f0;\n                font-size: 12px;\n                color: #6b7280;\n              }\n              \n              .controls {\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 1000;\n                display: flex;\n                gap: 10px;\n              }\n              \n              .btn {\n                padding: 12px 20px;\n                border: none;\n                border-radius: 8px;\n                cursor: pointer;\n                font-weight: 600;\n                font-size: 14px;\n                transition: all 0.3s ease;\n                display: flex;\n                align-items: center;\n                gap: 8px;\n              }\n              \n              .btn-print {\n                background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n                color: white;\n              }\n              \n              .btn-print:hover {\n                transform: translateY(-2px);\n                box-shadow: 0 8px 15px rgba(16, 185, 129, 0.4);\n              }\n              \n              .btn-close {\n                background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\n                color: white;\n              }\n              \n              .btn-close:hover {\n                transform: translateY(-2px);\n                box-shadow: 0 8px 15px rgba(239, 68, 68, 0.4);\n              }\n              \n              .loading {\n                display: none;\n                text-align: center;\n                padding: 20px;\n                font-style: italic;\n                color: #6b7280;\n              }\n              \n              @media print {\n                body {\n                  background: white !important;\n                }\n                .container {\n                  box-shadow: none !important;\n                  border-radius: 0 !important;\n                  margin: 0 !important;\n                }\n                .controls, .no-print {\n                  display: none !important;\n                }\n                .header {\n                  background: #1e40af !important;\n                  -webkit-print-color-adjust: exact !important;\n                  print-color-adjust: exact !important;\n                }\n              }\n              \n              @media (max-width: 768px) {\n                .container {\n                  margin: 10px;\n                  border-radius: 12px;\n                }\n                .content {\n                  padding: 20px;\n                }\n                .grid {\n                  grid-template-columns: 1fr;\n                  gap: 20px;\n                }\n                .controls {\n                  position: static;\n                  justify-content: center;\n                  margin: 20px;\n                }\n              }\n            </style>\n          </head>\n          <body>\n            <div class="controls no-print">\n              <button class="btn btn-print" onclick="handlePrint()">\n                \ud83d\udda8\ufe0f \uc778\uc1c4\ud558\uae30\n              </button>\n              <button class="btn btn-close" onclick="window.close()">\n                \u2715 \ucc3d \ub2eb\uae30\n              </button>\n            </div>\n            \n            <div class="container">\n              <div class="header">\n                <h1>\uccad \uad6c \uc11c</h1>\n                <div class="invoice-meta">\n                  <div>\uccad\uad6c\uc11c \ubc88\ud638: <strong>').concat(e.id,"</strong></div>\n                  <div>\uc791\uc131\uc77c: <strong>").concat(e.date,'</strong></div>\n                </div>\n              </div>\n              \n              <div class="content">\n                <div class="grid">\n                  <div class="info-box">\n                    <h4>\ud83c\udfe2 \ubc1c\uc8fc\uc790 \uc815\ubcf4</h4>\n                    <p><strong>\uac74\ucd95\uc8fc\uba85:</strong> ').concat(e.client,"</p>\n                    <p><strong>\ud504\ub85c\uc81d\ud2b8\uba85:</strong> ").concat(e.project,"</p>\n                    <p><strong>\uc791\uc5c5\uc7a5 \uc8fc\uc18c:</strong> ").concat(e.workplaceAddress,'</p>\n                  </div>\n                  \n                  <div class="info-box">\n                    <h4>\ud83c\udfd7\ufe0f \uc2dc\uacf5\uc5c5\uccb4 \uc815\ubcf4</h4>\n                    <p style="font-weight: 700; font-size: 16px;">').concat(l.name,"</p>\n                    <p>\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638: ").concat(l.businessNumber,"</p>\n                    <p>\ub300\ud45c\uc790: ").concat(l.representative,"</p>\n                    <p>\uc8fc\uc18c: ").concat(l.address,"</p>\n                    <p>\uc5f0\ub77d\ucc98: ").concat(l.phone,"</p>\n                    ").concat(l.email?"<p>\uc774\uba54\uc77c: ".concat(l.email,"</p>"):"",'\n                  </div>\n                </div>\n                \n                <div class="amount-highlight">\n                  <p>\ucd1d \uccad\uad6c\uae08\uc561 : \uae08 ').concat(z(e.amount),' \uc6d0\uc815</p>\n                </div>\n                \n                <div class="section">\n                  <h3 class="section-title">\ud83d\udccb \uc138\ubd80 \uc791\uc5c5 \ub0b4\uc5ed</h3>\n                  <table class="work-table">\n                    <thead>\n                      <tr>\n                        <th style="width: 50px;">\uc5f0\ubc88</th>\n                        <th>\ub0b4\uc6a9</th>\n                        <th style="width: 100px;">\uaddc\uaca9</th>\n                        <th style="width: 80px;">\uc218\ub7c9</th>\n                        <th style="width: 60px;">\ub2e8\uc704</th>\n                        <th style="width: 120px;">\ub2e8\uac00</th>\n                        <th style="width: 120px;">\uacf5\uae09\uac00\uc561</th>\n                        <th style="width: 120px;">\ube44\uace0</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      ').concat(e.workItems.map((e,t)=>'\n                        <tr>\n                          <td style="text-align: center;">'.concat(t+1,'</td>\n                          <td style="text-align: left;">\n                            <strong>').concat(e.name,"</strong>\n                            ").concat(e.description?'<div style="font-size: 10px; color: #6b7280; margin-top: 4px;">'.concat(e.description,"</div>"):"",'\n                          </td>\n                          <td style="text-align: center;">').concat(e.category||"-",'</td>\n                          <td style="text-align: center;">').concat(e.quantity,'</td>\n                          <td style="text-align: center;">\uc2dd</td>\n                          <td style="text-align: right;">').concat(Math.floor(e.unitPrice/e.quantity).toLocaleString(),'\uc6d0</td>\n                          <td style="text-align: right;">').concat(e.unitPrice.toLocaleString(),'\uc6d0</td>\n                          <td style="text-align: left;">').concat(e.notes||"-","</td>\n                        </tr>\n                      ")).join(""),'\n                    </tbody>\n                    <tfoot>\n                      <tr>\n                        <td colspan="7" style="text-align: right; font-size: 16px;">\ud569\uacc4:</td>\n                        <td style="text-align: center; font-size: 16px; font-weight: 700;">\n                          ').concat(e.amount.toLocaleString(),"\uc6d0\n                        </td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n                \n                ").concat(l.bankAccount?'\n                <div class="section">\n                  <h3 class="section-title">\ud83d\udcb3 \uacb0\uc81c \uc815\ubcf4</h3>\n                  <div class="info-box">\n                    <p><strong>\uacc4\uc88c\uc815\ubcf4:</strong> '.concat(l.bankAccount,"</p>\n                    <p><strong>\uc608\uae08\uc8fc:</strong> ").concat(l.accountHolder,"</p>\n                  </div>\n                </div>\n                "):"",'\n                \n                <div class="signature-section">\n                  <p style="margin-bottom: 20px; font-size: 16px;">\uc704\uc640 \uac19\uc774 \uccad\uad6c\ud569\ub2c8\ub2e4.</p>\n                  \n                  <div class="signature-box">\n                    <div class="signature-company">\n                      ').concat(l.name,'\n                    </div>\n                    <div class="signature-representative">\n                      <span>\ub300\ud45c : ').concat(l.representative.split("").join(" "),'</span>\n                      <div class="stamp-container">\n                        <span>(\uc778)</span>\n                        ').concat(r?'<img src="'.concat(r,'" alt="\ub3c4\uc7a5" />'):"","\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <div class=\"footer-message\">\n                  <p>\uc774 \uccad\uad6c\uc11c\uc5d0 \ub300\ud55c \ubb38\uc758\uc0ac\ud56d\uc774 \uc788\uc73c\uc2dc\uba74 \uc5f0\ub77d \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.</p>\n                  <p style=\"font-weight: 700; margin-top: 8px;\">\uac10\uc0ac\ud569\ub2c8\ub2e4.</p>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"loading\" id=\"loadingMessage\">\n              \ud83d\udda8\ufe0f \uc778\uc1c4 \uc900\ube44 \uc911...\n            </div>\n            \n            <script>\n              function handlePrint() {\n                const loading = document.getElementById('loadingMessage');\n                loading.style.display = 'block';\n                \n                // Hide loading after a short delay\n                setTimeout(() => {\n                  loading.style.display = 'none';\n                }, 2000);\n                \n                // Trigger print\n                window.print();\n              }\n              \n              // Keyboard shortcuts\n              document.addEventListener('keydown', function(e) {\n                // Ctrl+P or Cmd+P for print\n                if ((e.ctrlKey || e.metaKey) && e.key === 'p') {\n                  e.preventDefault();\n                  handlePrint();\n                }\n                \n                // Escape to close\n                if (e.key === 'Escape') {\n                  if (confirm('\ucc3d\uc744 \ub2eb\uc73c\uc2dc\uaca0\uc2b5\ub2c8\uae4c?')) {\n                    window.close();\n                  }\n                }\n              });\n              \n              // Auto-focus for better keyboard navigation\n              window.onload = function() {\n                document.body.focus();\n                console.log('\uccad\uad6c\uc11c PDF\uac00 \uc0c8 \ud0ed\uc5d0\uc11c \uc131\uacf5\uc801\uc73c\ub85c \uc5f4\ub838\uc2b5\ub2c8\ub2e4.');\n                console.log('\ud0a4\ubcf4\ub4dc \ub2e8\ucd95\ud0a4: Ctrl+P (\uc778\uc1c4), Esc (\ucc3d \ub2eb\uae30)');\n              };\n            <\/script>\n          </body>\n        </html>\n      ");t.document.write(s),t.document.close(),t.focus(),console.log("\uccad\uad6c\uc11c PDF\uac00 \uc0c8 \ud0ed\uc5d0\uc11c \uc131\uacf5\uc801\uc73c\ub85c \uc5f4\ub838\uc2b5\ub2c8\ub2e4:",e.id)}catch(t){console.error("\uccad\uad6c\uc11c PDF \uc0dd\uc131 \uc911 \uc624\ub958 \ubc1c\uc0dd:",t),alert("\uccad\uad6c\uc11c PDF \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: "+t.message)}})(e),className:"text-green-600 hover:text-green-900 mr-2",children:"\ud83d\udda8\ufe0f \ucd9c\ub825"}),(0,d.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this invoice?")&&s(e=>e.filter(e=>e.id!==t)));var t},className:"text-red-600 hover:text-red-900",children:"\uc0ad\uc81c"})]})]},e.id))})]})}),m&&(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,d.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white",children:(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\uc0c8 \uccad\uad6c\uc11c \uc0dd\uc131"}),(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n=w(f.workItems),l=(0,i.A)((0,i.A)({},f),{},{id:"INV-2024-".concat(String(t.length+1).padStart(3,"0")),amount:n,status:"\ubc1c\uc1a1\ub300\uae30",date:(new Date).toISOString().split("T")[0],dueDate:new Date(Date.now()+12096e5).toISOString().split("T")[0]});s(e=>[...e,l]),j({clientId:"",client:"",workplaceId:"",project:"",workplaceAddress:"",workItems:[{name:"",quantity:1,unitPrice:0,total:0,templateId:"",notes:""}]}),p(!1)},className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uac74\ucd95\uc8fc *"}),(0,d.jsxs)("select",{name:"clientId",value:f.clientId,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\uac74\ucd95\uc8fc\ub97c \uc120\ud0dd\ud558\uc138\uc694"}),e.map(e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ud504\ub85c\uc81d\ud2b8\uba85 *"}),(0,d.jsx)("input",{type:"text",name:"project",value:f.project,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter project name",required:!0})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc791\uc5c5\uc7a5 *"}),(0,d.jsxs)("select",{name:"workplaceId",value:f.workplaceId,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:!f.clientId,children:[(0,d.jsx)("option",{value:"",children:f.clientId?"\uc791\uc5c5\uc7a5\uc744 \uc120\ud0dd\ud558\uc138\uc694":"\uba3c\uc800 \uac74\ucd95\uc8fc\ub97c \uc120\ud0dd\ud558\uc138\uc694"}),f.clientId&&(t=>{const s=e.find(e=>e.id===parseInt(t));return(null===s||void 0===s?void 0:s.workplaces)||[]})(f.clientId).map(e=>(0,d.jsxs)("option",{value:e.id,children:[e.name," - ",e.address]},e.id))]}),f.workplaceAddress&&(0,d.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm text-gray-600",children:[(0,d.jsx)("strong",{children:"\uc791\uc5c5\uc7a5 \uc8fc\uc18c:"})," ",f.workplaceAddress]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc791\uc5c5 \ud56d\ubaa9"}),(0,d.jsx)("button",{type:"button",onClick:()=>{j(e=>(0,i.A)((0,i.A)({},e),{},{workItems:[...e.workItems,{name:"",quantity:1,unitPrice:0,total:0,templateId:"",notes:""}]}))},className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ \ud56d\ubaa9 \ucd94\uac00"})]}),(0,d.jsx)("div",{className:"space-y-3",children:f.workItems.map((e,t)=>{var s;return(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\uc791\uc5c5 \ud15c\ud50c\ub9bf \uc120\ud0dd"}),(0,d.jsxs)("select",{value:e.templateId||"",onChange:e=>N(t,"templateId",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"",children:"\ud15c\ud50c\ub9bf \uc120\ud0dd \ub610\ub294 \uc9c1\uc811 \uc785\ub825"}),x.map(e=>(0,d.jsxs)("option",{value:e.id,children:[e.name," (",e.category,")"]},e.id))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ub0b4\uc6a9 (\uc9c1\uc811\uc785\ub825)"}),(0,d.jsx)("input",{type:"text",placeholder:"Or enter manually",value:e.templateId?"":e.name,onChange:e=>N(t,"name",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:!!e.templateId})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\uc218\ub7c9"}),(0,d.jsx)("input",{type:"text",placeholder:"\uc608: 1,000",value:e.quantity?o(e.quantity):"",onChange:e=>N(t,"quantity",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ub2e8\uac00 (\uc9c1\uc811\uc785\ub825)"}),(0,d.jsx)("input",{type:"text",placeholder:"\uc608: 1,000,000",value:e.unitPrice?o(e.unitPrice):"",onChange:e=>N(t,"unitPrice",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ud569\uacc4"}),(0,d.jsx)("input",{type:"text",value:e.total.toLocaleString()+"\uc6d0",readOnly:!0,className:"w-full border border-gray-300 rounded px-2 py-1 text-sm bg-gray-100 text-gray-700 font-medium"})]})]}),(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ube44\uace0"}),(0,d.jsx)("textarea",{value:e.notes||"",onChange:e=>N(t,"notes",e.target.value),rows:"2",className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"\ucd94\uac00 \uba54\ubaa8\ub098 \ud2b9\uc774\uc0ac\ud56d\uc744 \uc785\ub825\ud558\uc138\uc694"})]}),e.templateId&&(0,d.jsxs)("div",{className:"mt-2 text-xs text-gray-500 bg-blue-50 p-2 rounded",children:[(0,d.jsx)("strong",{children:"\uc120\ud0dd\ub41c \uc791\uc5c5:"})," ",null===(s=x.find(t=>t.id===e.templateId))||void 0===s?void 0:s.description]}),f.workItems.length>1&&(0,d.jsx)("div",{className:"mt-2 text-right",children:(0,d.jsx)("button",{type:"button",onClick:()=>{const e=f.workItems.filter((e,s)=>s!==t);j(t=>(0,i.A)((0,i.A)({},t),{},{workItems:e}))},className:"text-red-600 hover:text-red-800 text-xs",children:"\ud56d\ubaa9 \uc0ad\uc81c"})})]},t)})}),(0,d.jsx)("div",{className:"text-right mt-2",children:(0,d.jsxs)("span",{className:"text-lg font-bold",children:["\ucd1d\ud569: ",w(f.workItems).toLocaleString(),"\uc6d0"]})})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,d.jsx)("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-500 hover:text-gray-700",children:"\ucde8\uc18c"}),(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"\uccad\uad6c\uc11c \uc0dd\uc131"})]})]})]})})}),h&&(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,d.jsxs)("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-3xl shadow-lg rounded-md bg-white",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["\uccad\uad6c\uc11c \uc0c1\uc138 - ",h.id]}),(0,d.jsx)("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,d.jsxs)("div",{className:"border rounded-lg p-6 bg-gray-50",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\uac74\ucd95\uc8fc:"})," ",h.client]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\ud504\ub85c\uc81d\ud2b8:"})," ",h.project]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\uc791\uc5c5\uc7a5 \uc8fc\uc18c:"})," ",h.workplaceAddress]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\ubc1c\ud589\uc77c:"})," ",h.date]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\uc9c0\ubd88 \uae30\ud55c:"})," ",h.dueDate]})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"\uc791\uc5c5 \ub0b4\uc5ed"}),(0,d.jsxs)("table",{className:"w-full border",children:[(0,d.jsx)("thead",{className:"bg-white",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"border px-3 py-2 text-left",children:"\ub0b4\uc6a9"}),(0,d.jsx)("th",{className:"border px-3 py-2 text-center",children:"\uc218\ub7c9"}),(0,d.jsx)("th",{className:"border px-3 py-2 text-right",children:"\ub2e8\uac00"}),(0,d.jsx)("th",{className:"border px-3 py-2 text-right",children:"\ud569\uacc4"}),(0,d.jsx)("th",{className:"border px-3 py-2 text-left",children:"\ube44\uace0"})]})}),(0,d.jsx)("tbody",{children:h.workItems.map((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"border px-3 py-2",children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),e.category&&(0,d.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full ml-2",children:e.category})]}),e.description&&(0,d.jsx)("div",{className:"text-sm text-gray-600 leading-relaxed",children:e.description.split("\n")[0]})]})}),(0,d.jsx)("td",{className:"border px-3 py-2 text-center",children:e.quantity}),(0,d.jsxs)("td",{className:"border px-3 py-2 text-right",children:[e.unitPrice.toLocaleString(),"\uc6d0"]}),(0,d.jsxs)("td",{className:"border px-3 py-2 text-right font-medium",children:[e.total.toLocaleString(),"\uc6d0"]}),(0,d.jsx)("td",{className:"border px-3 py-2 text-left text-sm align-top",children:e.notes||"-"})]},t))}),(0,d.jsx)("tfoot",{children:(0,d.jsxs)("tr",{className:"bg-gray-100",children:[(0,d.jsx)("td",{colSpan:"4",className:"border px-3 py-2 text-right font-bold",children:"\ucd1d \uae08\uc561:"}),(0,d.jsxs)("td",{className:"border px-3 py-2 text-right font-bold text-lg",children:[h.amount.toLocaleString(),"\uc6d0"]})]})})]})]})]})]})}),(0,d.jsx)("div",{style:{display:"none"},children:(0,d.jsx)("div",{ref:y,style:{padding:"40px",fontFamily:"'Noto Sans KR', sans-serif",fontSize:"12px",lineHeight:"1.4",maxWidth:"800px",margin:"auto",backgroundColor:"#ffffff",color:"#374151"},children:g&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[(0,d.jsxs)("div",{style:{fontSize:"14px",color:"#374151"},children:[(0,d.jsx)("strong",{children:"\uccad\uad6c\uc11c \ubc88\ud638:"})," ",g.id]}),(0,d.jsxs)("div",{style:{fontSize:"14px",color:"#374151"},children:[(0,d.jsx)("strong",{children:"\uc791\uc131\uc77c:"})," ",g.date]})]}),(0,d.jsx)("div",{style:{textAlign:"center",borderBottom:"3px solid #1f2937",paddingBottom:"20px"},children:(0,d.jsx)("h1",{style:{fontSize:"36px",margin:"0",fontWeight:"bold",color:"#1f2937",letterSpacing:"8px"},children:"\uccad   \uad6c   \uc11c"})})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"40px",marginBottom:"40px"},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{style:{margin:"0 0 15px 0",fontSize:"18px",fontWeight:"bold",color:"#1f2937",borderLeft:"4px solid #4f46e5",paddingLeft:"12px"},children:"\ubc1c\uc8fc\uc790 \uc815\ubcf4"}),(0,d.jsxs)("div",{style:{backgroundColor:"#f9fafb",padding:"20px",borderRadius:"8px"},children:[(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\uac74\ucd95\uc8fc\uba85:"})," ",g.client]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\ud504\ub85c\uc81d\ud2b8\uba85:"})," ",g.project]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\uc791\uc5c5\uc7a5 \uc8fc\uc18c:"})," ",g.workplaceAddress]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{style:{margin:"0 0 15px 0",fontSize:"18px",fontWeight:"bold",color:"#1f2937",borderLeft:"4px solid #4f46e5",paddingLeft:"12px"},children:"\uc2dc\uacf5\uc5c5\uccb4 \uc815\ubcf4"}),(0,d.jsxs)("div",{style:{backgroundColor:"#f9fafb",padding:"20px",borderRadius:"8px"},children:[(0,d.jsx)("p",{style:{margin:"8px 0",fontSize:"14px",fontWeight:"bold"},children:l.name}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"12px"},children:["\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638: ",l.businessNumber]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"12px"},children:["\ub300\ud45c\uc790: ",l.representative]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"12px"},children:["\uc8fc\uc18c: ",l.address]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"12px"},children:["\uc5f0\ub77d\ucc98: ",l.phone]}),l.email&&(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"12px"},children:["\uc774\uba54\uc77c: ",l.email]})]})]})]}),(0,d.jsx)("div",{style:{marginBottom:"30px",padding:"15px",backgroundColor:"#dbeafe",borderRadius:"8px",borderLeft:"4px solid #3b82f6",textAlign:"left"},children:(0,d.jsxs)("p",{style:{margin:"0",fontSize:"18px",fontWeight:"bold",color:"#1e3a8a"},children:["\ucd1d \uccad\uad6c\uae08\uc561 : \uae08 ",z(g.amount)," \uc6d0\uc815"]})}),(0,d.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,d.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:"18px",fontWeight:"bold",color:"#1f2937",borderLeft:"4px solid #4f46e5",paddingLeft:"12px"},children:"\uc138\ubd80 \uc791\uc5c5 \ub0b4\uc5ed"}),(0,d.jsx)("div",{style:{overflowX:"auto"},children:(0,d.jsxs)("table",{style:{width:"100%",minWidth:"600px",borderCollapse:"collapse",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontWeight:"bold",color:"#1f2937",width:"40px",fontSize:"12px"},children:"\uc5f0\ubc88"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontWeight:"bold",color:"#1f2937",fontSize:"12px"},children:"\ub0b4\uc6a9"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontWeight:"bold",color:"#1f2937",fontSize:"12px"},children:"\uaddc\uaca9"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontWeight:"bold",color:"#1f2937",fontSize:"12px"},children:"\uc218\ub7c9"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontWeight:"bold",color:"#1f2937",fontSize:"12px"},children:"\ub2e8\uc704"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontWeight:"bold",color:"#1f2937",fontSize:"12px"},children:"\ub2e8\uac00"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontWeight:"bold",color:"#1f2937",fontSize:"12px"},children:"\uacf5\uae09\uac00\uc561"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontWeight:"bold",color:"#1f2937",fontSize:"12px"},children:"\ube44\uace0"})]})}),(0,d.jsx)("tbody",{children:g.workItems.map((e,t)=>(0,d.jsxs)("tr",{style:{":hover":{backgroundColor:"#f1f5f9"}},children:[(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontSize:"11px"},children:t+1}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"left",fontSize:"11px"},children:(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:e.name}),e.description&&(0,d.jsx)("div",{style:{fontSize:"10px",color:"#6b7280",marginTop:"4px"},children:e.description})]})}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontSize:"11px"},children:e.category||"-"}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontSize:"11px"},children:e.quantity}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontSize:"11px"},children:"\uc2dd"}),(0,d.jsxs)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"right",fontSize:"11px"},children:[Math.floor(e.unitPrice/e.quantity).toLocaleString(),"\uc6d0"]}),(0,d.jsxs)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"right",fontSize:"11px"},children:[e.unitPrice.toLocaleString(),"\uc6d0"]}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"left",fontSize:"11px",verticalAlign:"top"},children:e.notes||"-"})]},t))}),(0,d.jsx)("tfoot",{children:(0,d.jsxs)("tr",{style:{backgroundColor:"#f0f0f0",fontWeight:"bold",color:"#1f2937"},children:[(0,d.jsx)("td",{colSpan:"7",style:{padding:"15px 16px",border:"1px solid #e5e7eb",textAlign:"right",fontSize:"16px"},children:"\ud569\uacc4:"}),(0,d.jsxs)("td",{style:{padding:"15px 16px",border:"1px solid #e5e7eb",textAlign:"center",fontSize:"16px",fontWeight:"bold"},children:[g.amount.toLocaleString(),"\uc6d0"]})]})})]})})]}),(0,d.jsxs)("div",{style:{marginTop:"20px",marginBottom:"20px"},children:[(0,d.jsx)("h3",{style:{margin:"0 0 10px 0",fontSize:"18px",fontWeight:"bold",color:"#1f2937",borderLeft:"4px solid #4f46e5",paddingLeft:"12px"},children:"\uacb0\uc81c \uc815\ubcf4"}),(0,d.jsx)("div",{style:{backgroundColor:"#f9fafb",padding:"12px",borderRadius:"8px"},children:l.bankAccount&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{style:{margin:"5px 0",fontSize:"14px"},children:(0,d.jsx)("strong",{children:"\uacc4\uc88c\uc815\ubcf4:"})}),(0,d.jsx)("p",{style:{margin:"3px 0",fontSize:"14px"},children:l.bankAccount}),(0,d.jsxs)("p",{style:{margin:"3px 0",fontSize:"14px"},children:["\uc608\uae08\uc8fc: ",l.accountHolder]})]})})]}),(0,d.jsxs)("div",{style:{textAlign:"right",marginBottom:"20px"},children:[(0,d.jsx)("p",{style:{margin:"0 0 15px 0",fontSize:"16px",lineHeight:"1.6"},children:"\uc704\uc640 \uac19\uc774 \uccad\uad6c\ud569\ub2c8\ub2e4."}),(0,d.jsxs)("div",{style:{marginTop:"20px",textAlign:"right",border:"1px solid #e5e7eb",padding:"15px",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[(0,d.jsx)("div",{style:{textAlign:"right",marginBottom:"10px"},children:(0,d.jsx)("p",{style:{margin:"0",fontSize:"16px",fontWeight:"bold"},children:l.name})}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"8px"},children:[(0,d.jsxs)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:["\ub300\ud45c : ",l.representative.split("").join(" ")]}),(0,d.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,d.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"(\uc778)"}),r&&(0,d.jsx)("img",{src:r,alt:"\ub3c4\uc7a5",style:{width:"60px",height:"60px",objectFit:"contain",border:"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]})]})]})]}),(0,d.jsx)("div",{style:{position:"relative",marginTop:"30px",paddingTop:"15px",borderTop:"1px solid #e5e7eb"},children:(0,d.jsxs)("div",{style:{textAlign:"center",fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:[(0,d.jsx)("p",{style:{margin:"0 0 5px 0",lineHeight:"1.5"},children:"\uc774 \uccad\uad6c\uc11c\uc5d0 \ub300\ud55c \ubb38\uc758\uc0ac\ud56d\uc774 \uc788\uc73c\uc2dc\uba74 \uc5f0\ub77d \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."}),(0,d.jsx)("p",{style:{margin:"0",fontWeight:"bold",fontSize:"13px"},children:"\uac10\uc0ac\ud569\ub2c8\ub2e4."})]})})]})})})]})};const U=function(){const{clients:e,setClients:t}=c(),[s,l]=(0,n.useState)(!1),[a,r]=(0,n.useState)(null),[o,x]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),[h,u]=(0,n.useState)({name:"",phone:"",mobile:"",email:"",address:"",notes:"",workplaces:[{name:"",address:"",description:""}]}),g=(0,n.useRef)(null),b=e=>{const{name:t,value:s}=e.target;u(e=>(0,i.A)((0,i.A)({},e),{},{[t]:s}))},f=(e,t,s)=>{const n=[...h.workplaces];n[e][t]=s,u(e=>(0,i.A)((0,i.A)({},e),{},{workplaces:n}))};return(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uac74\ucd95\uc8fc \uad00\ub9ac"}),(0,d.jsx)("p",{className:"text-gray-600",children:"\uac74\ucd95\uc8fc \uc815\ubcf4\ub97c \uad00\ub9ac\ud558\uace0 \ud504\ub85c\uc81d\ud2b8 \uc774\ub825\uc744 \ucd94\uc801\ud558\uc138\uc694"})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("button",{onClick:()=>{T()},className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded flex items-center",children:"\ud83d\udcc1 \ud15c\ud50c\ub9bf \ub2e4\uc6b4\ub85c\ub4dc"}),(0,d.jsx)("button",{onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.click()},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex items-center",children:"\ud83d\udce4 Excel \uac00\uc838\uc624\uae30"}),(0,d.jsx)("button",{onClick:()=>{W(e)},className:"bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded flex items-center",children:"\ud83d\udce5 Excel \ub0b4\ubcf4\ub0b4\uae30"}),(0,d.jsx)("button",{onClick:()=>l(!0),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"+ \uc0c8 \uac74\ucd95\uc8fc"})]})]}),(0,d.jsx)("input",{type:"file",ref:g,onChange:async e=>{const s=e.target.files[0];if(s){try{const e=await L.clients(s);t(t=>[...t,...e]),alert("".concat(e.length,"\uac1c\uc758 \uac74\ucd95\uc8fc \uc815\ubcf4\ub97c \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4."))}catch(n){alert("Excel \ud30c\uc77c\uc744 \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: "+n.message)}e.target.value=""}},accept:".xlsx,.xls",style:{display:"none"}}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\ucd1d \uac74\ucd95\uc8fc"}),(0,d.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),(0,d.jsx)("div",{className:"bg-blue-500 rounded-full p-3 text-white text-2xl",children:"\ud83d\udc65"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\ucd1d \uccad\uad6c\uae08\uc561 :"}),(0,d.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["\uae08 ",z(e.reduce((e,t)=>e+t.totalBilled,0))," \uc6d0\uc815"]})]}),(0,d.jsx)("div",{className:"bg-green-500 rounded-full p-3 text-white text-2xl",children:"\ud83d\udcb0"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\ubbf8\uc218\uae08"}),(0,d.jsxs)("p",{className:"text-3xl font-bold text-red-600",children:[e.reduce((e,t)=>e+t.outstanding,0).toLocaleString(),"\uc6d0"]})]}),(0,d.jsx)("div",{className:"bg-red-500 rounded-full p-3 text-white text-2xl",children:"\u26a0\ufe0f"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\ubbf8\uc218\uae08 \uac74\uc218"}),(0,d.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:e.filter(e=>e.outstanding>0).length})]}),(0,d.jsx)("div",{className:"bg-orange-500 rounded-full p-3 text-white text-2xl",children:"\ud83d\udccb"})]})})]}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc774\ub984"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc5f0\ub77d\ucc98"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc8fc\uc18c"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ud504\ub85c\uc81d\ud2b8 \uc218"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ucd1d \uccad\uad6c\uc561"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ubbf8\uc218\uae08"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc791\uc5c5"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"h-10 w-10 bg-gray-300 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.name.charAt(0)})}),(0,d.jsxs)("div",{className:"ml-4",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"text-sm text-gray-900",children:[e.phone&&(0,d.jsxs)("div",{children:["\uc804\ud654: ",e.phone]}),e.mobile&&(0,d.jsxs)("div",{children:["\ud734\ub300\ud3f0: ",e.mobile]})]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900",children:e.address})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"text-sm text-gray-900",children:[e.projects.length,"\uac1c"]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.totalBilled.toLocaleString(),"\uc6d0"]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"text-sm font-medium ".concat(e.outstanding>0?"text-red-600":"text-green-600"),children:[e.outstanding.toLocaleString(),"\uc6d0"]})}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,d.jsx)("button",{onClick:()=>(e=>{r(e)})(e),className:"text-blue-600 hover:text-blue-900 mr-2",children:"\uc0c1\uc138\ubcf4\uae30"}),(0,d.jsx)("button",{className:"text-green-600 hover:text-green-900 mr-2",onClick:()=>(e=>{x(!0),p(e.id),u({name:e.name,phone:e.phone,mobile:e.mobile||"",email:e.email,address:e.address,notes:e.notes,workplaces:e.workplaces||[{name:"",address:"",description:""}]}),l(!0)})(e),children:"\ud3b8\uc9d1"}),(0,d.jsx)("button",{className:"text-red-600 hover:text-red-900",children:"\uc0ad\uc81c"})]})]},e.id))})]})}),s&&(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,d.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-2xl shadow-lg rounded-md bg-white",children:(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:o?"\uac74\ucd95\uc8fc \uc815\ubcf4 \uc218\uc815":"\uc0c8 \uac74\ucd95\uc8fc \ucd94\uac00"}),(0,d.jsxs)("form",{onSubmit:s=>{if(s.preventDefault(),o){const e=(0,i.A)((0,i.A)({},h),{},{id:m,workplaces:h.workplaces.map((e,t)=>(0,i.A)((0,i.A)({},e),{},{id:e.id||t+1}))});t(t=>t.map(t=>t.id===m?(0,i.A)((0,i.A)((0,i.A)({},t),e),{},{totalBilled:t.totalBilled,outstanding:t.outstanding,projects:t.projects}):t))}else{const s=(0,i.A)((0,i.A)({},h),{},{id:e.length+1,workplaces:h.workplaces.map((e,t)=>(0,i.A)((0,i.A)({},e),{},{id:t+1})),projects:[],totalBilled:0,outstanding:0});t(e=>[...e,s])}u({name:"",phone:"",mobile:"",email:"",address:"",notes:"",workplaces:[{name:"",address:"",description:""}]}),l(!1),x(!1),p(null)},className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc774\ub984"}),(0,d.jsx)("input",{type:"text",name:"name",value:h.name,onChange:b,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc804\ud654\ubc88\ud638"}),(0,d.jsx)("input",{type:"tel",name:"phone",value:h.phone,onChange:b,placeholder:"02-1234-5678",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ud734\ub300\uc804\ud654"}),(0,d.jsx)("input",{type:"tel",name:"mobile",value:h.mobile,onChange:b,placeholder:"010-1234-5678",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc774\uba54\uc77c"}),(0,d.jsx)("input",{type:"email",name:"email",value:h.email,onChange:b,placeholder:"\uc120\ud0dd\uc0ac\ud56d",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc8fc\uc18c"}),(0,d.jsx)("textarea",{name:"address",value:h.address,onChange:b,rows:"2",placeholder:"\uc120\ud0dd\uc0ac\ud56d",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uba54\ubaa8"}),(0,d.jsx)("textarea",{name:"notes",value:h.notes,onChange:b,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc791\uc5c5\uc7a5 \uc815\ubcf4"}),(0,d.jsx)("button",{type:"button",onClick:()=>{u(e=>(0,i.A)((0,i.A)({},e),{},{workplaces:[...e.workplaces,{name:"",address:"",description:""}]}))},className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ \uc791\uc5c5\uc7a5 \ucd94\uac00"})]}),h.workplaces.map((e,t)=>(0,d.jsxs)("div",{className:"border rounded-md p-3 mb-3 bg-gray-50",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["\uc791\uc5c5\uc7a5 ",t+1]}),h.workplaces.length>1&&(0,d.jsx)("button",{type:"button",onClick:()=>(e=>{if(h.workplaces.length>1){const t=h.workplaces.filter((t,s)=>s!==e);u(e=>(0,i.A)((0,i.A)({},e),{},{workplaces:t}))}})(t),className:"text-red-600 hover:text-red-800 text-sm",children:"\uc0ad\uc81c"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("input",{type:"text",placeholder:"\uc791\uc5c5\uc7a5\uba85 (\uc608: \uc2e0\ucd95 \uc8fc\ud0dd, \uce74\ud398 \uc778\ud14c\ub9ac\uc5b4 \ub4f1)",value:e.name,onChange:e=>f(t,"name",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0}),(0,d.jsx)("input",{type:"text",placeholder:"\uc791\uc5c5\uc7a5 \uc8fc\uc18c",value:e.address,onChange:e=>f(t,"address",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0}),(0,d.jsx)("textarea",{placeholder:"\uc791\uc5c5\uc7a5 \uc124\uba85 (\uc120\ud0dd\uc0ac\ud56d)",value:e.description,onChange:e=>f(t,"description",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",rows:"2"})]})]},t))]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,d.jsx)("button",{type:"button",onClick:()=>{l(!1),x(!1),p(null),u({name:"",phone:"",mobile:"",email:"",address:"",notes:"",workplaces:[{name:"",address:"",description:""}]})},className:"px-4 py-2 text-gray-500 hover:text-gray-700",children:"\ucde8\uc18c"}),(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded",children:o?"\uc218\uc815":"\ucd94\uac00"})]})]})]})})}),a&&(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,d.jsxs)("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-3xl shadow-lg rounded-md bg-white",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["\uac74\ucd95\uc8fc \uc0c1\uc138 \uc815\ubcf4 - ",a.name]}),(0,d.jsx)("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,d.jsxs)("div",{className:"border rounded-lg p-6 bg-gray-50",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-3",children:"\uae30\ubcf8 \uc815\ubcf4"}),(0,d.jsxs)("p",{className:"mb-2",children:[(0,d.jsx)("strong",{children:"\uc774\ub984:"})," ",a.name]}),a.phone&&(0,d.jsxs)("p",{className:"mb-2",children:[(0,d.jsx)("strong",{children:"\uc804\ud654\ubc88\ud638:"})," ",a.phone]}),a.mobile&&(0,d.jsxs)("p",{className:"mb-2",children:[(0,d.jsx)("strong",{children:"\ud734\ub300\uc804\ud654:"})," ",a.mobile]}),a.email&&(0,d.jsxs)("p",{className:"mb-2",children:[(0,d.jsx)("strong",{children:"\uc774\uba54\uc77c:"})," ",a.email]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\uc8fc\uc18c:"})," ",a.address]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-3",children:"\uc7ac\ubb34 \uc815\ubcf4"}),(0,d.jsxs)("p",{className:"mb-2",children:[(0,d.jsx)("strong",{children:"\ucd1d \uccad\uad6c\uc561:"})," ",a.totalBilled.toLocaleString(),"\uc6d0"]}),(0,d.jsxs)("p",{className:"mb-2",children:[(0,d.jsx)("strong",{children:"\ubbf8\uc218\uae08:"}),(0,d.jsxs)("span",{className:a.outstanding>0?"text-red-600 font-medium":"text-green-600",children:[a.outstanding.toLocaleString(),"\uc6d0"]})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\uc644\ub8cc \ud504\ub85c\uc81d\ud2b8:"})," ",a.projects.length,"\uac1c"]})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"\uc791\uc5c5\uc7a5 \uc815\ubcf4"}),a.workplaces&&a.workplaces.length>0?(0,d.jsx)("div",{className:"space-y-3",children:a.workplaces.map((e,t)=>(0,d.jsxs)("div",{className:"bg-white rounded border p-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,d.jsx)("h5",{className:"font-medium text-gray-900",children:e.name}),(0,d.jsxs)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:["\uc791\uc5c5\uc7a5 ",t+1]})]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,d.jsx)("strong",{children:"\uc8fc\uc18c:"})," ",e.address]}),e.description&&(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,d.jsx)("strong",{children:"\uc124\uba85:"})," ",e.description]})]},t))}):(0,d.jsx)("p",{className:"text-gray-500 italic",children:"\ub4f1\ub85d\ub41c \uc791\uc5c5\uc7a5\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"\ud504\ub85c\uc81d\ud2b8 \uc774\ub825"}),a.projects.length>0?(0,d.jsx)("ul",{className:"bg-white rounded border p-3",children:a.projects.map((e,t)=>(0,d.jsxs)("li",{className:"py-1 border-b last:border-b-0",children:["\u2022 ",e]},t))}):(0,d.jsx)("p",{className:"text-gray-500 italic",children:"\uc9c4\ud589\ub41c \ud504\ub85c\uc81d\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]}),a.notes&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"\uba54\ubaa8"}),(0,d.jsx)("p",{className:"bg-white rounded border p-3",children:a.notes})]})]})]})})]})};const H=function(){const{clients:e,workItems:t,setWorkItems:s,invoices:l,setInvoices:a,getCompletedWorkItemsByClient:o,addWorkItemToInvoice:x,units:m,categories:p}=c(),h=(0,r.Zp)(),[u,g]=(0,n.useState)(""),[b,f]=(0,n.useState)(""),[j,y]=(0,n.useState)([]),v=(0,n.useRef)(null),[N,w]=(0,n.useState)(!1),[k,I]=(0,n.useState)(!1),[S,A]=(0,n.useState)(null),[C,q]=(0,n.useState)({clientId:"",workplaceId:"",name:"",category:"",defaultPrice:0,quantity:1,unit:"",description:"",projectName:"",status:"\uc608\uc815",notes:""}),[P,z]=(0,n.useState)(!1),[_,W]=(0,n.useState)([{name:"",category:"",defaultPrice:0,quantity:1,unit:"",description:"",status:"\uc608\uc815",notes:""}]),[D,E]=(0,n.useState)({clientId:"",workplaceId:"",projectName:""}),[T,R]=(0,n.useState)(!1),F=["\uc608\uc815","\uc9c4\ud589\uc911","\uc644\ub8cc","\ubcf4\ub958"],M=()=>[...new Set(t.map(e=>e.projectName).filter(e=>e))].sort(),U=t.filter(e=>(!u||e.clientId===parseInt(u))&&(!b||e.projectName===b)),H=t=>{const s=e.find(e=>e.id===parseInt(t));return(null===s||void 0===s?void 0:s.workplaces)||[]},K=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),V=e=>{const{name:t,value:s}=e.target;if("defaultPrice"===t||"quantity"===t){const e=s.replace(/[^\d]/g,"");if(""===e)q(e=>(0,i.A)((0,i.A)({},e),{},{[t]:""}));else{const s=parseInt(e,10);q(e=>(0,i.A)((0,i.A)({},e),{},{[t]:s}))}}else{const e="clientId"===t||"workplaceId"===t?parseInt(s)||0:s;q(n=>{const l=(0,i.A)((0,i.A)({},n),{},{[t]:e});return"clientId"===t&&(l.workplaceId=""),"projectName"===t&&("custom"===s?(z(!0),l.projectName=""):z(!1)),l})}},Y=()=>{q({clientId:"",workplaceId:"",name:"",category:"",defaultPrice:0,quantity:1,unit:"",description:"",projectName:"",status:"\uc608\uc815",notes:""}),A(null),w(!1),z(!1)},J=e=>{const{name:t,value:s}=e.target;E(e=>(0,i.A)((0,i.A)({},e),{},{[t]:"clientId"===t||"workplaceId"===t?parseInt(s)||"":s})),"clientId"===t&&E(e=>(0,i.A)((0,i.A)({},e),{},{workplaceId:""})),"projectName"===t&&("custom"===s?(R(!0),E(e=>(0,i.A)((0,i.A)({},e),{},{projectName:""}))):R(!1))},G=(e,t,s)=>{const n=[..._];if("defaultPrice"===t||"quantity"===t){const l=String(s).replace(/[^\d]/g,"");n[e][t]=""===l?"":parseInt(l,10)}else n[e][t]=s;W(n)};return(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uc791\uc5c5 \ud56d\ubaa9 \uad00\ub9ac"}),(0,d.jsx)("p",{className:"text-gray-600",children:"\uac74\ucd95\uc8fc\ubcc4 \uc791\uc5c5 \ud56d\ubaa9\uc744 \uad00\ub9ac\ud558\uace0 \uc9c4\ud589 \uc0c1\ud669\uc744 \ucd94\uc801\ud558\uc138\uc694"})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("button",{onClick:()=>{O()},className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded flex items-center",children:"\ud83d\udcc1 \ud15c\ud50c\ub9bf \ub2e4\uc6b4\ub85c\ub4dc"}),(0,d.jsx)("button",{onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex items-center",children:"\ud83d\udce4 Excel \uac00\uc838\uc624\uae30"}),(0,d.jsx)("button",{onClick:()=>{B(U)},className:"bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded flex items-center",children:"\ud83d\udce5 Excel \ub0b4\ubcf4\ub0b4\uae30"}),(0,d.jsx)("button",{onClick:()=>I(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded",children:"+ \uc77c\uad04 \uc791\uc5c5 \ud56d\ubaa9 \ucd94\uac00"}),(0,d.jsx)("button",{onClick:()=>w(!0),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded",children:"+ \uc0c8 \uc791\uc5c5 \ud56d\ubaa9"})]})]}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4 flex-wrap",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\ud544\ud130:"}),(0,d.jsxs)("select",{value:u,onChange:e=>{g(e.target.value),f("")},className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,d.jsx)("option",{value:"",children:"\uc804\uccb4 \uac74\ucd95\uc8fc"}),e.map(e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,d.jsxs)("select",{value:b,onChange:e=>f(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:!u,children:[(0,d.jsx)("option",{value:"",children:u?"\uc804\uccb4 \ud504\ub85c\uc81d\ud2b8":"\uba3c\uc800 \uac74\ucd95\uc8fc\ub97c \uc120\ud0dd\ud558\uc138\uc694"}),u&&(e=>{if(!e)return[];const s=t.filter(t=>t.clientId===parseInt(e));return[...new Set(s.map(e=>e.projectName).filter(e=>e))]})(u).map(e=>(0,d.jsx)("option",{value:e,children:e},e))]}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:u||b?"".concat(U.length,"\uac1c \ud56d\ubaa9"):"\ucd1d ".concat(t.length,"\uac1c \ud56d\ubaa9")}),(u||b)&&(0,d.jsx)("button",{onClick:()=>{g(""),f("")},className:"text-xs text-purple-600 hover:text-purple-800",children:"\ud544\ud130 \ucd08\uae30\ud654"})]}),(0,d.jsx)("div",{className:"flex items-center space-x-2",children:j.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{onClick:()=>{if(0===j.length)return void alert("\uccad\uad6c\uc11c\uc5d0 \ud3ec\ud568\ud560 \uc791\uc5c5 \ud56d\ubaa9\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");const s=t.filter(e=>j.includes(e.id)).filter(e=>"\uc644\ub8cc"===e.status);if(0===s.length)return void alert("\uc120\ud0dd\ub41c \ud56d\ubaa9 \uc911 \uc644\ub8cc\ub41c \uc791\uc5c5 \ud56d\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc644\ub8cc\ub41c \uc791\uc5c5 \ud56d\ubaa9\ub9cc \uccad\uad6c\uc11c\uc5d0 \ud3ec\ud568\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");if(s.length<j.length){const e=j.length-s.length;if(!window.confirm("\uc120\ud0dd\ub41c \ud56d\ubaa9 \uc911 ".concat(e,"\uac1c\ub294 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc544 \uccad\uad6c\uc11c\uc5d0 \ud3ec\ud568\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc644\ub8cc\ub41c ").concat(s.length,"\uac1c \ud56d\ubaa9\uc73c\ub85c \uccad\uad6c\uc11c\ub97c \uc0dd\uc131\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")))return}const n=s[0].clientId;if(!s.every(e=>e.clientId===n))return void alert("\uac19\uc740 \uac74\ucd95\uc8fc\uc758 \uc791\uc5c5 \ud56d\ubaa9\ub9cc \ud558\ub098\uc758 \uccad\uad6c\uc11c\ub85c \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");const r=s.filter(e=>!l.some(t=>t.workItems.some(s=>s.name===e.name&&t.client===e.clientName)));if(0===r.length)return void alert("\uc120\ud0dd\ub41c \ud56d\ubaa9\ub4e4\uc774 \uc774\ubbf8 \uccad\uad6c\uc11c\uc5d0 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.");const i=r[0],d=e.find(e=>e.id===i.clientId),o=null===d||void 0===d?void 0:d.workplaces.find(e=>e.id===i.workplaceId),c="INV-".concat((new Date).getFullYear(),"-").concat(String(l.length+1).padStart(3,"0")),x=r.map(e=>({name:e.name,quantity:e.quantity||1,unitPrice:e.defaultPrice,total:(e.defaultPrice||0)*(e.quantity||1),description:e.description,category:e.category,notes:e.notes||""})),m=x.reduce((e,t)=>e+t.total,0),p={id:c,client:i.clientName,project:i.projectName,workplaceAddress:(null===o||void 0===o?void 0:o.address)||"",amount:m,status:"\ubc1c\uc1a1\ub300\uae30",date:(new Date).toISOString().split("T")[0],dueDate:new Date(Date.now()+12096e5).toISOString().split("T")[0],workItems:x};a(e=>[...e,p]),y([]),alert("\uccad\uad6c\uc11c ".concat(c,"\uac00 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4! (").concat(r.length,"\uac1c \ud56d\ubaa9 \ud3ec\ud568)")),h("/invoices")},className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded flex items-center text-sm",children:["\ud83d\udcc8 \uccad\uad6c\uc11c \uc0dd\uc131 (",j.length,")"]}),(0,d.jsxs)("button",{onClick:()=>{0!==j.length?window.confirm("\uc120\ud0dd\ub41c ".concat(j.length,"\uac1c\uc758 \uc791\uc5c5 \ud56d\ubaa9\uc744 \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&(s(e=>e.filter(e=>!j.includes(e.id))),y([]),alert("".concat(j.length,"\uac1c\uc758 \uc791\uc5c5 \ud56d\ubaa9\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))):alert("\uc0ad\uc81c\ud560 \uc791\uc5c5 \ud56d\ubaa9\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-3 rounded flex items-center text-sm",children:["\ud83d\uddd1\ufe0f \uc0ad\uc81c (",j.length,")"]})]})})]})}),(0,d.jsx)("input",{type:"file",ref:v,onChange:async e=>{const t=e.target.files[0];if(t){try{const e=await L.workItems(t);s(t=>[...t,...e]),alert("".concat(e.length,"\uac1c\uc758 \uc791\uc5c5 \ud56d\ubaa9\uc744 \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4."))}catch(n){alert("Excel \ud30c\uc77c\uc744 \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: "+n.message)}e.target.value=""}},accept:".xlsx,.xls",style:{display:"none"}})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:u||b?"\ud544\ud130\ub41c \uc791\uc5c5":"\ucd1d \uc791\uc5c5 \ud56d\ubaa9"}),(0,d.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:U.length})]}),(0,d.jsx)("div",{className:"bg-blue-500 rounded-full p-3 text-white text-2xl",children:"\ud83d\udd27"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\uc644\ub8cc\ub41c \uc791\uc5c5"}),(0,d.jsx)("p",{className:"text-3xl font-bold text-green-600",children:U.filter(e=>"\uc644\ub8cc"===e.status).length})]}),(0,d.jsx)("div",{className:"bg-green-500 rounded-full p-3 text-white text-2xl",children:"\u2705"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\uc9c4\ud589 \uc911\uc778 \uc791\uc5c5"}),(0,d.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:U.filter(e=>"\uc9c4\ud589\uc911"===e.status).length})]}),(0,d.jsx)("div",{className:"bg-purple-500 rounded-full p-3 text-white text-2xl",children:"\ud83d\udea7"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\ucd1d \uc791\uc5c5 \uae08\uc561"}),(0,d.jsxs)("p",{className:"text-3xl font-bold text-orange-600",children:[U.reduce((e,t)=>e+(t.defaultPrice||0)*(t.quantity||1),0).toLocaleString(),"\uc6d0"]})]}),(0,d.jsx)("div",{className:"bg-orange-500 rounded-full p-3 text-white text-2xl",children:"\ud83d\udcb0"})]})})]}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,d.jsx)("input",{type:"checkbox",onChange:e=>{return t=e.target.checked,void y(t?U.map(e=>e.id):[]);var t},checked:j.length>0&&j.length===U.length,className:"rounded border-gray-300",title:"\uc804\uccb4 \uc120\ud0dd"})}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uac74\ucd95\uc8fc"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ub0b4\uc6a9"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc791\uc5c5\uc7a5"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ud504\ub85c\uc81d\ud2b8"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uce74\ud14c\uace0\ub9ac"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ub2e8\uac00/\uc218\ub7c9"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc0c1\ud0dc"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ub0a0\uc9dc"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc791\uc5c5"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(t=>{return(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("input",{type:"checkbox",checked:j.includes(t.id),onChange:e=>{return s=t.id,n=e.target.checked,void y(n?e=>[...e,s]:e=>e.filter(e=>e!==s));var s,n},className:"rounded border-gray-300",title:"\ud56d\ubaa9 \uc120\ud0dd"})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-xs font-medium text-gray-700",children:t.clientName.charAt(0)})}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.clientName})})]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.name}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:t.description})]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900",children:t.workplaceName})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900",children:t.projectName})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat((n=t.category,{"\ud1a0\ubaa9\uacf5\uc0ac":"bg-brown-100 text-brown-800","\uad6c\uc870\uacf5\uc0ac":"bg-gray-100 text-gray-800","\ucca0\uac70\uacf5\uc0ac":"bg-red-100 text-red-800","\ub9c8\uac10\uacf5\uc0ac":"bg-blue-100 text-blue-800","\uc124\ube44\uacf5\uc0ac":"bg-yellow-100 text-yellow-800","\ub0b4\ubd80\uacf5\uc0ac":"bg-green-100 text-green-800","\uae30\ud0c0":"bg-purple-100 text-purple-800"}[n]||"bg-gray-100 text-gray-800")),children:t.category})}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,d.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[t.defaultPrice.toLocaleString(),"\uc6d0 \xd7 ",t.quantity||1]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:["= ",((t.defaultPrice||0)*(t.quantity||1)).toLocaleString(),"\uc6d0 / ",t.unit]})]}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("\uc644\ub8cc"===t.status?"bg-green-100 text-green-800":"\uc9c4\ud589\uc911"===t.status?"bg-blue-100 text-blue-800":"\ubcf4\ub958"===t.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:t.status})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900",children:t.date})}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,d.jsx)("button",{onClick:()=>(e=>{const t=M().includes(e.projectName);q({clientId:e.clientId,workplaceId:e.workplaceId||"",name:e.name,category:e.category,defaultPrice:e.defaultPrice,quantity:e.quantity||1,unit:e.unit,description:e.description,projectName:e.projectName,status:e.status,notes:e.notes||""}),A(e),z(!t),w(!0)})(t),className:"text-blue-600 hover:text-blue-900 mr-2",children:"\ud3b8\uc9d1"}),(0,d.jsx)("button",{onClick:()=>{return e=t.id,void(window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&s(t=>t.filter(t=>t.id!==e)));var e},className:"text-red-600 hover:text-red-900 mr-2",children:"\uc0ad\uc81c"}),"\uc644\ub8cc"===t.status&&(0,d.jsx)("button",{onClick:()=>(t=>{const s=o(t.clientId).filter(e=>!l.some(t=>t.workItems.some(s=>s.name===e.name&&t.client===e.clientName)));if(0===s.length)return void alert("\uccad\uad6c \uac00\ub2a5\ud55c \uc644\ub8cc\ub41c \uc791\uc5c5 \ud56d\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");const n=e.find(e=>e.id===t.clientId),r=null===n||void 0===n?void 0:n.workplaces.find(e=>e.id===t.workplaceId),i="INV-".concat((new Date).getFullYear(),"-").concat(String(l.length+1).padStart(3,"0")),d=s.map(e=>x(e)),c=d.reduce((e,t)=>e+t.total,0),m={id:i,client:t.clientName,project:t.projectName,workplaceAddress:(null===r||void 0===r?void 0:r.address)||"",amount:c,status:"\ubc1c\uc1a1\ub300\uae30",date:(new Date).toISOString().split("T")[0],dueDate:new Date(Date.now()+12096e5).toISOString().split("T")[0],workItems:d};a(e=>[...e,m]),alert("\uccad\uad6c\uc11c ".concat(i,"\uac00 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4! \uccad\uad6c\uc11c \uad00\ub9ac \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.")),h("/invoices")})(t),className:"text-green-600 hover:text-green-900",children:"\uccad\uad6c\uc11c \uc0dd\uc131"})]})]},t.id);var n})})]})}),N&&(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,d.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white",children:(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:S?"\uc791\uc5c5 \ud56d\ubaa9 \ud3b8\uc9d1":"\uc0c8 \uc791\uc5c5 \ud56d\ubaa9 \ucd94\uac00"}),(0,d.jsxs)("form",{onSubmit:n=>{n.preventDefault();const l=e.find(e=>e.id===C.clientId);if(S){const e=H(C.clientId).find(e=>e.id===C.workplaceId);s(t=>t.map(t=>t.id===S.id?(0,i.A)((0,i.A)((0,i.A)({},t),C),{},{clientName:(null===l||void 0===l?void 0:l.name)||t.clientName,workplaceName:(null===e||void 0===e?void 0:e.name)||t.workplaceName}):t))}else{const e=H(C.clientId).find(e=>e.id===C.workplaceId),n=(0,i.A)((0,i.A)({},C),{},{id:Math.max(...t.map(e=>e.id))+1,clientName:(null===l||void 0===l?void 0:l.name)||"",workplaceName:(null===e||void 0===e?void 0:e.name)||"",date:(new Date).toISOString().split("T")[0]});s(e=>[...e,n])}Y()},className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uac74\ucd95\uc8fc"}),(0,d.jsxs)("select",{name:"clientId",value:C.clientId,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\uac74\ucd95\uc8fc \uc120\ud0dd"}),e.map(e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc791\uc5c5\uc7a5"}),(0,d.jsxs)("select",{name:"workplaceId",value:C.workplaceId,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,disabled:!C.clientId,children:[(0,d.jsx)("option",{value:"",children:"\uc791\uc5c5\uc7a5 \uc120\ud0dd"}),C.clientId&&H(C.clientId).map(e=>(0,d.jsxs)("option",{value:e.id,children:[e.name," - ",e.address]},e.id))]}),!C.clientId&&(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\uba3c\uc800 \uac74\ucd95\uc8fc\ub97c \uc120\ud0dd\ud558\uc138\uc694"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ud504\ub85c\uc81d\ud2b8\uba85"}),P?(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("input",{type:"text",name:"projectName",value:C.projectName,onChange:V,placeholder:"\uc0c8 \ud504\ub85c\uc81d\ud2b8\uba85 \uc785\ub825",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0}),(0,d.jsx)("button",{type:"button",onClick:()=>{z(!1),q(e=>(0,i.A)((0,i.A)({},e),{},{projectName:""}))},className:"mt-1 px-2 py-2 text-gray-400 hover:text-gray-600",title:"\uae30\uc874 \ud504\ub85c\uc81d\ud2b8 \uc120\ud0dd\uc73c\ub85c \ub3cc\uc544\uac00\uae30",children:"\u21a9"})]}):(0,d.jsxs)("select",{name:"projectName",value:C.projectName,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\ud504\ub85c\uc81d\ud2b8 \uc120\ud0dd"}),M().map(e=>(0,d.jsx)("option",{value:e,children:e},e)),(0,d.jsx)("option",{value:"custom",children:"+ \uc0c8 \ud504\ub85c\uc81d\ud2b8 \uc785\ub825"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uce74\ud14c\uace0\ub9ac"}),(0,d.jsxs)("select",{name:"category",value:C.category,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\uce74\ud14c\uace0\ub9ac \uc120\ud0dd"}),p.map(e=>(0,d.jsx)("option",{value:e,children:e},e))]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ub0b4\uc6a9"}),(0,d.jsx)("input",{type:"text",name:"name",value:C.name,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc218\ub7c9"}),(0,d.jsx)("input",{type:"text",name:"quantity",value:C.quantity||"",onChange:V,placeholder:"1",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ub2e8\uc704"}),(0,d.jsxs)("select",{name:"unit",value:C.unit,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\ub2e8\uc704 \uc120\ud0dd"}),m.map(e=>(0,d.jsx)("option",{value:e,children:e},e))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uae30\ubcf8 \ub2e8\uac00"}),(0,d.jsx)("input",{type:"text",name:"defaultPrice",value:C.defaultPrice?K(C.defaultPrice):"",onChange:V,placeholder:"\uc608: 1,000,000",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc138\ubd80 \uc791\uc5c5"}),(0,d.jsx)("textarea",{name:"description",value:C.description,onChange:V,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ube44\uace0"}),(0,d.jsx)("textarea",{name:"notes",value:C.notes,onChange:V,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"\ucd94\uac00\uc801\uc778 \uba54\ubaa8\ub098 \ud2b9\uc774\uc0ac\ud56d\uc744 \uc785\ub825\ud558\uc138\uc694"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc0c1\ud0dc"}),(0,d.jsx)("select",{name:"status",value:C.status,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:F.map(e=>(0,d.jsx)("option",{value:e,children:e},e))})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,d.jsx)("button",{type:"button",onClick:Y,className:"px-4 py-2 text-gray-500 hover:text-gray-700",children:"\ucde8\uc18c"}),(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded",children:S?"\uc218\uc815":"\ucd94\uac00"})]})]})]})})}),k&&(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,d.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-6xl shadow-lg rounded-md bg-white",children:(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\uc77c\uad04 \uc791\uc5c5 \ud56d\ubaa9 \ucd94\uac00"}),(0,d.jsxs)("form",{onSubmit:n=>{n.preventDefault();const l=e.find(e=>e.id===D.clientId),a=H(D.clientId).find(e=>e.id===D.workplaceId),r=_.map((e,s)=>(0,i.A)((0,i.A)({},e),{},{id:Math.max(...t.map(e=>e.id))+s+1,clientId:D.clientId,clientName:(null===l||void 0===l?void 0:l.name)||"",workplaceId:D.workplaceId,workplaceName:(null===a||void 0===a?void 0:a.name)||"",projectName:D.projectName,date:(new Date).toISOString().split("T")[0]}));s(e=>[...e,...r]),W([{name:"",category:"",defaultPrice:0,quantity:1,unit:"",description:"",status:"\uc608\uc815",notes:""}]),E({clientId:"",workplaceId:"",projectName:""}),I(!1),R(!1),alert("".concat(r.length,"\uac1c\uc758 \uc791\uc5c5 \ud56d\ubaa9\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))},className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,d.jsx)("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"\uacf5\ud1b5 \uc815\ubcf4"}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uac74\ucd95\uc8fc"}),(0,d.jsxs)("select",{name:"clientId",value:D.clientId,onChange:J,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\uac74\ucd95\uc8fc \uc120\ud0dd"}),e.map(e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc791\uc5c5\uc7a5"}),(0,d.jsxs)("select",{name:"workplaceId",value:D.workplaceId,onChange:J,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,disabled:!D.clientId,children:[(0,d.jsx)("option",{value:"",children:"\uc791\uc5c5\uc7a5 \uc120\ud0dd"}),D.clientId&&H(D.clientId).map(e=>(0,d.jsxs)("option",{value:e.id,children:[e.name," - ",e.address]},e.id))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ud504\ub85c\uc81d\ud2b8\uba85"}),T?(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("input",{type:"text",name:"projectName",value:D.projectName,onChange:J,placeholder:"\uc0c8 \ud504\ub85c\uc81d\ud2b8\uba85 \uc785\ub825",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0}),(0,d.jsx)("button",{type:"button",onClick:()=>{R(!1),E(e=>(0,i.A)((0,i.A)({},e),{},{projectName:""}))},className:"mt-1 px-2 py-2 text-gray-400 hover:text-gray-600",title:"\uae30\uc874 \ud504\ub85c\uc81d\ud2b8 \uc120\ud0dd\uc73c\ub85c \ub3cc\uc544\uac00\uae30",children:"\u21a9"})]}):(0,d.jsxs)("select",{name:"projectName",value:D.projectName,onChange:J,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\ud504\ub85c\uc81d\ud2b8 \uc120\ud0dd"}),M().map(e=>(0,d.jsx)("option",{value:e,children:e},e)),(0,d.jsx)("option",{value:"custom",children:"+ \uc0c8 \ud504\ub85c\uc81d\ud2b8 \uc785\ub825"})]})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsx)("h4",{className:"text-md font-medium text-gray-800",children:"\uc791\uc5c5 \ud56d\ubaa9\ub4e4"}),(0,d.jsx)("button",{type:"button",onClick:()=>{W(e=>[...e,{name:"",category:"",defaultPrice:0,quantity:1,unit:"",description:"",status:"\uc608\uc815",notes:""}])},className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ \ud56d\ubaa9 \ucd94\uac00"})]}),(0,d.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:_.map((e,t)=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["\uc791\uc5c5 \ud56d\ubaa9 #",t+1]}),_.length>1&&(0,d.jsx)("button",{type:"button",onClick:()=>(e=>{_.length>1&&W(t=>t.filter((t,s)=>s!==e))})(t),className:"text-red-600 hover:text-red-800 text-sm",children:"\uc0ad\uc81c"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ub0b4\uc6a9"}),(0,d.jsx)("input",{type:"text",value:e.name,onChange:e=>G(t,"name",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\uce74\ud14c\uace0\ub9ac"}),(0,d.jsxs)("select",{value:e.category,onChange:e=>G(t,"category",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\uce74\ud14c\uace0\ub9ac \uc120\ud0dd"}),p.map(e=>(0,d.jsx)("option",{value:e,children:e},e))]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\uc218\ub7c9"}),(0,d.jsx)("input",{type:"text",value:e.quantity||"",onChange:e=>G(t,"quantity",e.target.value),placeholder:"1",className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ub2e8\uc704"}),(0,d.jsxs)("select",{value:e.unit,onChange:e=>G(t,"unit",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\ub2e8\uc704 \uc120\ud0dd"}),m.map(e=>(0,d.jsx)("option",{value:e,children:e},e))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\uae30\ubcf8 \ub2e8\uac00"}),(0,d.jsx)("input",{type:"text",value:e.defaultPrice?K(e.defaultPrice):"",onChange:e=>G(t,"defaultPrice",e.target.value),placeholder:"\uc608: 1,000,000",className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\uc0c1\ud0dc"}),(0,d.jsx)("select",{value:e.status,onChange:e=>G(t,"status",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",children:F.map(e=>(0,d.jsx)("option",{value:e,children:e},e))})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\uc138\ubd80 \uc791\uc5c5"}),(0,d.jsx)("textarea",{value:e.description,onChange:e=>G(t,"description",e.target.value),rows:"2",className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ube44\uace0"}),(0,d.jsx)("textarea",{value:e.notes,onChange:e=>G(t,"notes",e.target.value),rows:"2",className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"\ucd94\uac00\uc801\uc778 \uba54\ubaa8\ub098 \ud2b9\uc774\uc0ac\ud56d\uc744 \uc785\ub825\ud558\uc138\uc694"})]})]})]},t))})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,d.jsx)("button",{type:"button",onClick:()=>I(!1),className:"px-4 py-2 text-gray-500 hover:text-gray-700",children:"\ucde8\uc18c"}),(0,d.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded",children:[_.length,"\uac1c \ud56d\ubaa9 \uc77c\uad04 \ucd94\uac00"]})]})]})]})})})]})};const K=function(){const{clients:e,estimates:t,setEstimates:s,convertEstimateToWorkItems:l,companyInfo:a}=c(),o=(0,r.Zp)(),x=(0,n.useRef)(),[m,p]=(0,n.useState)(""),[h,u]=(0,n.useState)(""),[g,b]=(0,n.useState)(!1),[f,j]=(0,n.useState)(null),[y,v]=(0,n.useState)(null),[N,w]=(0,n.useState)({clientId:"",workplaceId:"",projectName:"",title:"",validUntil:"",status:"\uac80\ud1a0\uc911",notes:"",items:[{category:"",name:"",description:"",quantity:1,unit:"",unitPrice:0,notes:""}]}),k=["\ud1a0\ubaa9\uacf5\uc0ac","\uad6c\uc870\uacf5\uc0ac","\ucca0\uac70\uacf5\uc0ac","\ub9c8\uac10\uacf5\uc0ac","\uc124\ube44\uacf5\uc0ac","\ub0b4\ubd80\uacf5\uc0ac","\uae30\ud0c0"],I=["\uac80\ud1a0\uc911","\uc2b9\uc778\ub428","\uac70\ubd80\ub428","\uc218\uc815 \uc694\uccad","\uc791\uc5c5 \uc804\ud658\ub428"];(0,n.useEffect)(()=>{if(y){const e=setTimeout(()=>{v(null),console.log("Auto-reset printEstimate state")},3e3);return()=>clearTimeout(e)}},[y]);const S=t=>{const s=e.find(e=>e.id===parseInt(t));return(null===s||void 0===s?void 0:s.workplaces)||[]},A=t.filter(e=>(!m||e.clientId===parseInt(m))&&(!h||e.status===h)),C=e=>{const{name:t,value:s}=e.target,n="clientId"===t||"workplaceId"===t?parseInt(s)||0:s;w(e=>{const s=(0,i.A)((0,i.A)({},e),{},{[t]:n});return"clientId"===t&&(s.workplaceId=""),s})},q=(e,t,s)=>{const n=[...N.items];if("unitPrice"===t||"quantity"===t){const l=s.replace(/[^\d]/g,""),a=parseInt(l)||("quantity"===t?1:0);n[e][t]=a,n[e].total=n[e].quantity*n[e].unitPrice}else n[e][t]=s;w(e=>(0,i.A)((0,i.A)({},e),{},{items:n}))},P=()=>N.items.reduce((e,t)=>e+(t.unitPrice||0)*(t.quantity||1),0),_=()=>{w({clientId:"",workplaceId:"",projectName:"",title:"",validUntil:"",status:"\uac80\ud1a0\uc911",notes:"",items:[{category:"",name:"",description:"",quantity:1,unit:"",unitPrice:0,notes:""}]}),j(null),b(!1)};return(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uacac\uc801\uc11c \uad00\ub9ac"}),(0,d.jsx)("p",{className:"text-gray-600",children:"\uac74\ucd95\uc8fc\ubcc4 \uacac\uc801\uc11c\ub97c \uad00\ub9ac\ud558\uace0 \uc791\uc5c5 \ud56d\ubaa9\uc73c\ub85c \ubcc0\ud658\ud558\uc138\uc694"})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("button",{onClick:()=>{R()},className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"\ud83d\udcc1 \ud15c\ud50c\ub9bf \ub2e4\uc6b4\ub85c\ub4dc"}),(0,d.jsx)("button",{onClick:()=>{E(t)},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"\ud83d\udce5 Excel \ub0b4\ubcf4\ub0b4\uae30"}),(0,d.jsxs)("label",{className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded cursor-pointer",children:["\ud83d\udce4 Excel \uac00\uc838\uc624\uae30",(0,d.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:async e=>{const t=e.target.files[0];if(t){try{const e=await L.estimates(t);s(t=>[...t,...e]),alert("".concat(e.length,"\uac1c\uc758 \uacac\uc801\uc11c\ub97c \uc131\uacf5\uc801\uc73c\ub85c \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4."))}catch(n){alert("\ud30c\uc77c\uc744 \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),console.error("Import error:",n)}e.target.value=""}},className:"hidden"})]}),(0,d.jsx)("button",{onClick:()=>b(!0),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"+ \uc0c8 \uacac\uc801\uc11c"})]})]}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,d.jsxs)("div",{className:"flex items-center space-x-4 flex-wrap",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\ud544\ud130:"}),(0,d.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,d.jsx)("option",{value:"",children:"\uc804\uccb4 \uac74\ucd95\uc8fc"}),e.map(e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,d.jsxs)("select",{value:h,onChange:e=>u(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,d.jsx)("option",{value:"",children:"\uc804\uccb4 \uc0c1\ud0dc"}),I.map(e=>(0,d.jsx)("option",{value:e,children:e},e))]}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:m||h?"".concat(A.length,"\uac1c \uacac\uc801\uc11c"):"\ucd1d ".concat(t.length,"\uac1c \uacac\uc801\uc11c")}),(m||h)&&(0,d.jsx)("button",{onClick:()=>{p(""),u("")},className:"text-xs text-green-600 hover:text-green-800",children:"\ud544\ud130 \ucd08\uae30\ud654"})]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\ucd1d \uacac\uc801\uc11c"}),(0,d.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:A.length})]}),(0,d.jsx)("div",{className:"bg-green-500 rounded-full p-3 text-white text-2xl",children:"\ud83d\udcc8"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\uc2b9\uc778\ub41c \uacac\uc801\uc11c"}),(0,d.jsx)("p",{className:"text-3xl font-bold text-green-600",children:A.filter(e=>"\uc2b9\uc778\ub428"===e.status).length})]}),(0,d.jsx)("div",{className:"bg-green-500 rounded-full p-3 text-white text-2xl",children:"\u2705"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\uac80\ud1a0 \uc911\uc778 \uacac\uc801\uc11c"}),(0,d.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:A.filter(e=>"\uac80\ud1a0\uc911"===e.status).length})]}),(0,d.jsx)("div",{className:"bg-yellow-500 rounded-full p-3 text-white text-2xl",children:"\u23f3"})]})}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"\ucd1d \uacac\uc801 \uae08\uc561"}),(0,d.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:[A.reduce((e,t)=>e+t.totalAmount,0).toLocaleString(),"\uc6d0"]})]}),(0,d.jsx)("div",{className:"bg-blue-500 rounded-full p-3 text-white text-2xl",children:"\ud83d\udcb0"})]})})]}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uacac\uc801\uc11c \ubc88\ud638"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uac74\ucd95\uc8fc"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ud504\ub85c\uc81d\ud2b8"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc791\uc5c5\uc7a5"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uacac\uc801 \uae08\uc561"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc0c1\ud0dc"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc720\ud6a8\uae30\ud55c"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc791\uc5c5"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(e=>{return(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.id}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:e.date})]}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-xs font-medium text-gray-700",children:e.clientName.charAt(0)})}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.clientName})})]})}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.projectName}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:e.title})]}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900",children:e.workplaceName})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.totalAmount.toLocaleString(),"\uc6d0"]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat((t=e.status,{"\uac80\ud1a0\uc911":"bg-yellow-100 text-yellow-800","\uc2b9\uc778\ub428":"bg-green-100 text-green-800","\uac70\ubd80\ub428":"bg-red-100 text-red-800","\uc218\uc815 \uc694\uccad":"bg-blue-100 text-blue-800","\uc791\uc5c5 \uc804\ud658\ub428":"bg-purple-100 text-purple-800"}[t]||"bg-gray-100 text-gray-800")),children:e.status})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900",children:e.validUntil})}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,d.jsx)("button",{onClick:()=>(e=>{w({clientId:e.clientId,workplaceId:e.workplaceId||"",projectName:e.projectName,title:e.title,validUntil:e.validUntil,status:e.status,notes:e.notes||"",items:e.items.map(e=>({category:e.category,name:e.name,description:e.description,quantity:e.quantity,unit:e.unit,unitPrice:e.unitPrice,notes:e.notes||""}))}),j(e),b(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-2",children:"\ud3b8\uc9d1"}),(0,d.jsx)("button",{onClick:()=>(e=>{v(e),setTimeout(()=>{console.log("\uacac\uc801\uc11c PDF \uc0c8 \ud0ed\uc5d0\uc11c \uc5f4\uae30:",e.id);const t=x.current;if(!t)return console.error("\uc778\uc1c4 \ucf58\ud150\uce20\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),void alert("\uc778\uc1c4 \ucf58\ud150\uce20\ub97c \uc900\ube44\ud558\ub294 \uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");const s=window.open("","_blank","width=1000,height=800,scrollbars=yes,resizable=yes");s?(s.document.write('\n        <!DOCTYPE html>\n        <html lang="ko">\n          <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <title>\uacac\uc801\uc11c - '.concat(e.id,'</title>\n            <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">\n            <style>\n              * { box-sizing: border-box; }\n              body { \n                margin: 0; \n                padding: 20px; \n                font-family: \'Noto Sans KR\', sans-serif; \n                background: white;\n                line-height: 1.4;\n              }\n              @media print { \n                body { margin: 0; padding: 15px; }\n                .no-print { display: none; }\n              }\n              .print-header {\n                position: fixed;\n                top: 10px;\n                right: 10px;\n                z-index: 1000;\n                background: #3498db;\n                color: white;\n                padding: 10px 15px;\n                border-radius: 5px;\n                font-size: 14px;\n                cursor: pointer;\n              }\n              .print-header:hover {\n                background: #2980b9;\n              }\n              @media print {\n                .print-header { display: none; }\n              }\n            </style>\n          </head>\n          <body>\n            <div class="print-header no-print" onclick="window.print()">\n              \ud83d\udda8\ufe0f \uc778\uc1c4\ud558\uae30 (Ctrl+P)\n            </div>\n            ').concat(t.innerHTML,"\n            <script>\n              // \ud398\uc774\uc9c0 \ub85c\ub4dc \uc644\ub8cc \ud6c4 \ud3ec\ucee4\uc2a4\n              window.onload = function() {\n                window.focus();\n                console.log('\uacac\uc801\uc11c PDF \uc900\ube44 \uc644\ub8cc');\n              };\n              \n              // \ud0a4\ubcf4\ub4dc \ub2e8\ucd95\ud0a4 \uc9c0\uc6d0\n              document.addEventListener('keydown', function(e) {\n                if (e.ctrlKey && e.key === 'p') {\n                  e.preventDefault();\n                  window.print();\n                }\n              });\n            <\/script>\n          </body>\n        </html>\n      ")),s.document.close(),setTimeout(()=>{try{s.focus(),console.log("\uacac\uc801\uc11c \uc0c8 \ud0ed\uc5d0\uc11c \uc5f4\uae30 \uc644\ub8cc")}catch(e){console.error("\uc0c8 \ud0ed \uc5f4\uae30 \uc624\ub958:",e),alert("\uc0c8 \ud0ed\uc5d0\uc11c \uacac\uc801\uc11c\ub97c \uc5ec\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},300)):alert("\ud31d\uc5c5\uc774 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ube0c\ub77c\uc6b0\uc800 \uc124\uc815\uc5d0\uc11c \ud31d\uc5c5\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694.")},100)})(e),className:"text-green-600 hover:text-green-900 mr-2",children:"\ud83d\udda8\ufe0f \ucd9c\ub825"}),(0,d.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&s(e=>e.filter(e=>e.id!==t)));var t},className:"text-red-600 hover:text-red-900 mr-2",children:"\uc0ad\uc81c"}),"\uc2b9\uc778\ub428"===e.status&&(0,d.jsx)("button",{onClick:()=>(e=>{if(window.confirm("\uc774 \uacac\uc801\uc11c\ub97c \uc791\uc5c5 \ud56d\ubaa9\uc73c\ub85c \ubcc0\ud658\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){const t=l(e);alert("".concat(t.length,"\uac1c\uc758 \uc791\uc5c5 \ud56d\ubaa9\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),o("/work-items")}})(e.id),className:"text-purple-600 hover:text-purple-900",children:"\uc791\uc5c5 \ubcc0\ud658"})]})]},e.id);var t})})]})}),g&&(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,d.jsx)("div",{className:"relative top-5 mx-auto p-5 border w-4/5 max-w-6xl shadow-lg rounded-md bg-white",children:(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:f?"\uacac\uc801\uc11c \ud3b8\uc9d1":"\uc0c8 \uacac\uc801\uc11c \uc791\uc131"}),(0,d.jsxs)("form",{onSubmit:n=>{n.preventDefault();const l=e.find(e=>e.id===N.clientId),a=S(N.clientId).find(e=>e.id===N.workplaceId),r=(0,i.A)((0,i.A)({},N),{},{id:f?f.id:"EST-".concat((new Date).getFullYear(),"-").concat(String(t.length+1).padStart(3,"0")),clientName:(null===l||void 0===l?void 0:l.name)||"",workplaceName:(null===a||void 0===a?void 0:a.name)||"",workplaceAddress:(null===a||void 0===a?void 0:a.address)||"",date:f?f.date:(new Date).toISOString().split("T")[0],totalAmount:P(),items:N.items.map((e,t)=>(0,i.A)((0,i.A)({},e),{},{id:t+1,total:(e.unitPrice||0)*(e.quantity||1)}))});s(f?e=>e.map(e=>e.id===f.id?r:e):e=>[...e,r]),_()},className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,d.jsx)("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"\uae30\ubcf8 \uc815\ubcf4"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uac74\ucd95\uc8fc"}),(0,d.jsxs)("select",{name:"clientId",value:N.clientId,onChange:C,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\uac74\ucd95\uc8fc \uc120\ud0dd"}),e.map(e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc791\uc5c5\uc7a5"}),(0,d.jsxs)("select",{name:"workplaceId",value:N.workplaceId,onChange:C,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,disabled:!N.clientId,children:[(0,d.jsx)("option",{value:"",children:"\uc791\uc5c5\uc7a5 \uc120\ud0dd"}),N.clientId&&S(N.clientId).map(e=>(0,d.jsxs)("option",{value:e.id,children:[e.name," - ",e.address]},e.id))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ud504\ub85c\uc81d\ud2b8\uba85"}),(0,d.jsx)("input",{type:"text",name:"projectName",value:N.projectName,onChange:C,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uacac\uc801\uc11c \uc81c\ubaa9"}),(0,d.jsx)("input",{type:"text",name:"title",value:N.title,onChange:C,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc720\ud6a8\uae30\ud55c"}),(0,d.jsx)("input",{type:"date",name:"validUntil",value:N.validUntil,onChange:C,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\uc0c1\ud0dc"}),(0,d.jsx)("select",{name:"status",value:N.status,onChange:C,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:I.map(e=>(0,d.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsx)("h4",{className:"text-md font-medium text-gray-800",children:"\uacac\uc801 \ud56d\ubaa9"}),(0,d.jsx)("button",{type:"button",onClick:()=>{w(e=>(0,i.A)((0,i.A)({},e),{},{items:[...e.items,{category:"",name:"",description:"",quantity:1,unit:"",unitPrice:0,notes:""}]}))},className:"text-green-600 hover:text-green-800 text-sm",children:"+ \ud56d\ubaa9 \ucd94\uac00"})]}),(0,d.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:N.items.map((e,t)=>{return(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["\ud56d\ubaa9 #",t+1]}),N.items.length>1&&(0,d.jsx)("button",{type:"button",onClick:()=>(e=>{N.items.length>1&&w(t=>(0,i.A)((0,i.A)({},t),{},{items:t.items.filter((t,s)=>s!==e)}))})(t),className:"text-red-600 hover:text-red-800 text-sm",children:"\uc0ad\uc81c"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\uce74\ud14c\uace0\ub9ac"}),(0,d.jsxs)("select",{value:e.category,onChange:e=>q(t,"category",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0,children:[(0,d.jsx)("option",{value:"",children:"\uce74\ud14c\uace0\ub9ac \uc120\ud0dd"}),k.map(e=>(0,d.jsx)("option",{value:e,children:e},e))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ub0b4\uc6a9"}),(0,d.jsx)("input",{type:"text",value:e.name,onChange:e=>q(t,"name",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\uc124\uba85"}),(0,d.jsx)("input",{type:"text",value:e.description,onChange:e=>q(t,"description",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ub2e8\uac00"}),(0,d.jsx)("input",{type:"text",value:e.unitPrice?(s=e.unitPrice,s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):"",onChange:e=>q(t,"unitPrice",e.target.value),placeholder:"0",className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\uc218\ub7c9"}),(0,d.jsx)("input",{type:"text",value:e.quantity||"",onChange:e=>q(t,"quantity",e.target.value),placeholder:"1",className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ub2e8\uc704"}),(0,d.jsx)("input",{type:"text",value:e.unit,onChange:e=>q(t,"unit",e.target.value),placeholder:"\uc2dd, \u33a1, \uac1c",className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ud569\uacc4"}),(0,d.jsxs)("div",{className:"w-full bg-gray-100 border border-gray-300 rounded px-2 py-1 text-sm",children:[((e.unitPrice||0)*(e.quantity||1)).toLocaleString(),"\uc6d0"]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\ube44\uace0"}),(0,d.jsx)("textarea",{value:e.notes,onChange:e=>q(t,"notes",e.target.value),rows:"2",className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]})]},t);var s})}),(0,d.jsx)("div",{className:"mt-4 p-3 bg-gray-100 rounded",children:(0,d.jsx)("div",{className:"text-right",children:(0,d.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["\ucd1d \uacac\uc801 \uae08\uc561: ",P().toLocaleString(),"\uc6d0"]})})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ud2b9\uc774\uc0ac\ud56d \ubc0f \uc870\uac74"}),(0,d.jsx)("textarea",{name:"notes",value:N.notes,onChange:C,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"\ubd80\uac00\uc138 \ubcc4\ub3c4, \uc124\uacc4 \ubcc0\uacbd \uc2dc \ucd94\uac00 \uacac\uc801 \ub4f1..."})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,d.jsx)("button",{type:"button",onClick:_,className:"px-4 py-2 text-gray-500 hover:text-gray-700",children:"\ucde8\uc18c"}),(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded",children:f?"\uc218\uc815":"\uc791\uc131"})]})]})]})})}),(0,d.jsx)("div",{style:{display:"none"},children:(0,d.jsx)("div",{ref:x,style:{padding:"40px",fontFamily:"'Noto Sans KR', sans-serif",fontSize:"12px",lineHeight:"1.4",maxWidth:"800px",margin:"auto",backgroundColor:"#ffffff",color:"#374151"},children:y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[(0,d.jsxs)("div",{style:{fontSize:"14px",color:"#374151"},children:[(0,d.jsx)("strong",{children:"\uacac\uc801\uc11c \ubc88\ud638:"})," ",y.id]}),(0,d.jsxs)("div",{style:{fontSize:"14px",color:"#374151"},children:[(0,d.jsx)("strong",{children:"\uc791\uc131\uc77c:"})," ",y.date]})]}),(0,d.jsx)("div",{style:{textAlign:"center",borderBottom:"3px solid #1f2937",paddingBottom:"20px"},children:(0,d.jsx)("h1",{style:{fontSize:"36px",margin:"0",fontWeight:"bold",color:"#1f2937",letterSpacing:"8px"},children:"\uacac   \uc801   \uc11c"})})]}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"30px"},children:[(0,d.jsx)("div",{children:(0,d.jsxs)("div",{style:{border:"2px solid #374151",padding:"20px",borderRadius:"8px",minWidth:"300px"},children:[(0,d.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px",color:"#1f2937",borderBottom:"1px solid #d1d5db",paddingBottom:"8px"},children:"\ubc1c\uc8fc\ucc98 \uc815\ubcf4"}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\uac74\ucd95\uc8fc\uba85:"})," ",y.clientName]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\ud504\ub85c\uc81d\ud2b8\uba85:"})," ",y.projectName]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\uc791\uc5c5\uc7a5 \uc8fc\uc18c:"})," ",y.workplaceAddress]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\uc720\ud6a8\uae30\ud55c:"})," ",y.validUntil]})]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{style:{border:"2px solid #374151",padding:"20px",borderRadius:"8px",minWidth:"300px"},children:[(0,d.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px",color:"#1f2937",borderBottom:"1px solid #d1d5db",paddingBottom:"8px"},children:"\uc2dc\uacf5\uc5c5\uccb4 \uc815\ubcf4"}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\uc5c5\uccb4\uba85:"})," ",a.name]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\ub300\ud45c\uc790:"})," ",a.representative]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\uc5f0\ub77d\ucc98:"})," ",a.phone]}),(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\uc8fc\uc18c:"})," ",a.address]}),a.businessNumber&&(0,d.jsxs)("p",{style:{margin:"8px 0",fontSize:"14px"},children:[(0,d.jsx)("strong",{children:"\uc0ac\uc5c5\uc790\ubc88\ud638:"})," ",a.businessNumber]})]})})]}),(0,d.jsx)("div",{style:{textAlign:"left",marginBottom:"30px",padding:"15px",backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px"},children:(0,d.jsxs)("p",{style:{fontSize:"18px",fontWeight:"bold",margin:"0",color:"#1f2937"},children:["\ucd1d \uacac\uc801\uae08\uc561 : \uae08 ",z(y.totalAmount)," \uc6d0\uc815"]})}),(0,d.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,d.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px",color:"#1f2937",borderBottom:"2px solid #374151",paddingBottom:"8px"},children:"\uc138\ubd80 \uacac\uc801 \ub0b4\uc5ed"}),(0,d.jsx)("div",{style:{border:"2px solid #374151",borderRadius:"8px",overflow:"hidden"},children:(0,d.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:{backgroundColor:"#374151",color:"white"},children:[(0,d.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #6b7280",textAlign:"center",fontWeight:"bold",width:"50px"},children:"\uc21c\ubc88"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #6b7280",textAlign:"center",fontWeight:"bold",width:"120px"},children:"\uad6c\ubd84"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #6b7280",textAlign:"center",fontWeight:"bold",width:"250px"},children:"\uacf5\uc885 \ubc0f \ub0b4\uc6a9"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #6b7280",textAlign:"center",fontWeight:"bold",width:"80px"},children:"\uc218\ub7c9"}),(0,d.jsx)("th",{style:{padding:"12px 16px",border:"1px solid #6b7280",textAlign:"center",fontWeight:"bold",width:"80px"},children:"\ub2e8\uc704"}),(0,d.jsxs)("th",{style:{padding:"12px 16px",border:"1px solid #6b7280",textAlign:"center",fontWeight:"bold",width:"100px"},children:["\ub2e8\uac00",(0,d.jsx)("br",{}),(0,d.jsx)("span",{style:{fontSize:"10px",fontWeight:"normal"},children:"(\ucc9c\uc6d0)"})]}),(0,d.jsxs)("th",{style:{padding:"12px 16px",border:"1px solid #6b7280",textAlign:"center",fontWeight:"bold",width:"100px"},children:["\uae08\uc561",(0,d.jsx)("br",{}),(0,d.jsx)("span",{style:{fontSize:"10px",fontWeight:"normal"},children:"(\ucc9c\uc6d0)"})]}),(0,d.jsx)("th",{style:{padding:"12px 12px",border:"1px solid #6b7280",textAlign:"center",fontWeight:"bold",width:"120px"},children:"\ube44\uace0"})]})}),(0,d.jsx)("tbody",{children:y.items.map((e,t)=>(0,d.jsxs)("tr",{style:{":hover":{backgroundColor:"#f1f5f9"}},children:[(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center"},children:t+1}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center"},children:e.category}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb"},children:(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:e.name}),e.description&&(0,d.jsx)("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px",fontStyle:"italic"},children:e.description})]})}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center"},children:e.quantity}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"center"},children:e.unit}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"right"},children:Math.floor(e.unitPrice/1e3).toLocaleString()}),(0,d.jsx)("td",{style:{padding:"12px 16px",border:"1px solid #e5e7eb",textAlign:"right",fontWeight:"bold"},children:Math.floor(e.quantity*e.unitPrice/1e3).toLocaleString()}),(0,d.jsx)("td",{style:{padding:"12px 12px",border:"1px solid #e5e7eb",fontSize:"11px",color:"#374151"},children:e.notes||""})]},t))}),(0,d.jsx)("tfoot",{children:(0,d.jsx)("tr",{style:{backgroundColor:"#f8fafc",fontWeight:"bold",fontSize:"14px"},children:(0,d.jsxs)("td",{colSpan:"8",style:{padding:"16px",border:"1px solid #e5e7eb",textAlign:"right",fontSize:"16px",fontWeight:"bold",color:"#374151",backgroundColor:"#f3f4f6"},children:["\ucd1d \uacac\uc801\uae08\uc561: ",y.totalAmount.toLocaleString(),"\uc6d0"]})})})]})})]}),y.notes&&(0,d.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,d.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px",color:"#1f2937",borderBottom:"2px solid #374151",paddingBottom:"8px"},children:"\ud2b9\uc774\uc0ac\ud56d \ubc0f \uc870\uac74"}),(0,d.jsx)("div",{style:{border:"1px solid #d1d5db",padding:"16px",borderRadius:"8px",backgroundColor:"#fefce8"},children:(0,d.jsx)("p",{style:{margin:"0",fontSize:"13px",lineHeight:"1.6",whiteSpace:"pre-line",color:"#374151"},children:y.notes})})]}),(0,d.jsx)("div",{style:{marginTop:"50px",borderTop:"1px solid #d1d5db",paddingTop:"30px"},children:(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,d.jsxs)("div",{style:{textAlign:"center",minWidth:"200px"},children:[(0,d.jsx)("div",{style:{borderBottom:"1px solid #374151",marginBottom:"8px",paddingBottom:"40px"}}),(0,d.jsx)("p",{style:{fontSize:"14px",fontWeight:"bold",margin:"0",color:"#374151"},children:"\ubc1c\uc8fc\ucc98 \ud655\uc778"})]}),(0,d.jsxs)("div",{style:{textAlign:"center",minWidth:"200px"},children:[(0,d.jsx)("div",{style:{borderBottom:"1px solid #374151",marginBottom:"8px",paddingBottom:"40px"}}),(0,d.jsxs)("p",{style:{fontSize:"14px",fontWeight:"bold",margin:"0",color:"#374151"},children:["\uc2dc\uacf5\uc5c5\uccb4 (",a.name,")"]})]})]})})]})})})]})},V="constructionApp_stampImage",Y=()=>{let e=0;for(let t in localStorage)localStorage.hasOwnProperty(t)&&(e+=localStorage[t].length+t.length);return{used:Math.round(e/1024)+" KB",stampImageSize:localStorage.getItem(V)?Math.round(localStorage.getItem(V).length/1024)+" KB":"0 KB"}};const J=function(){const{companyInfo:e,setCompanyInfo:t,units:s,setUnits:l,categories:a,setCategories:r,stampImage:o,setStampImage:x}=c(),[m,p]=(0,n.useState)(!1),[h,u]=(0,n.useState)((0,i.A)({},e)),[g,b]=(0,n.useState)(""),[f,j]=(0,n.useState)(""),[y,v]=(0,n.useState)({used:"0 KB",stampImageSize:"0 KB"}),N=(0,n.useRef)(null);(0,n.useEffect)(()=>{(()=>{try{const e="test";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return console.error("localStorage \uc0ac\uc6a9 \ubd88\uac00:",e),!1}})()&&v(Y())},[o]);const w=e=>{const{name:t,value:s}=e.target;u(e=>(0,i.A)((0,i.A)({},e),{},{[t]:s}))},k=()=>{g.trim()&&!s.includes(g.trim())?(l(e=>[...e,g.trim()]),b(""),alert("\uc0c8\ub85c\uc6b4 \ub2e8\uc704\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):s.includes(g.trim())&&alert("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ub2e8\uc704\uc785\ub2c8\ub2e4.")},I=()=>{f.trim()&&!a.includes(f.trim())?(r(e=>[...e,f.trim()]),j(""),alert("\uc0c8\ub85c\uc6b4 \uce74\ud14c\uace0\ub9ac\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):a.includes(f.trim())&&alert("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uce74\ud14c\uace0\ub9ac\uc785\ub2c8\ub2e4.")};return(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\ud658\uacbd\uc124\uc815"}),(0,d.jsx)("p",{className:"text-gray-600",children:"\uac74\ucd95\uc5c5\uccb4 \uc815\ubcf4\uc640 \uc2dc\uc2a4\ud15c \uc124\uc815\uc744 \uad00\ub9ac\ud558\uc138\uc694"})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 mb-8",children:[(0,d.jsxs)("div",{className:"flex-1 bg-white rounded-lg shadow flex flex-col",children:[(0,d.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-100",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\uc5c5\uccb4 \uc815\ubcf4 \uad00\ub9ac"}),m?(0,d.jsxs)("div",{className:"space-x-2",children:[(0,d.jsx)("button",{onClick:()=>{t(h),p(!1),alert("\uac74\ucd95\uc5c5\uccb4 \uc815\ubcf4\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")},className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"\uc800\uc7a5"}),(0,d.jsx)("button",{onClick:()=>{u((0,i.A)({},e)),p(!1)},className:"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded",children:"\ucde8\uc18c"})]}):(0,d.jsx)("button",{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"\uc218\uc815"})]}),(0,d.jsxs)("div",{className:"p-6 flex-1",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\uc5c5\uccb4\uba85 ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),m?(0,d.jsx)("input",{type:"text",name:"name",value:h.name,onChange:w,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):(0,d.jsx)("p",{className:"text-gray-900 py-2",children:e.name})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638 ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),m?(0,d.jsx)("input",{type:"text",name:"businessNumber",value:h.businessNumber,onChange:w,placeholder:"000-00-00000",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):(0,d.jsx)("p",{className:"text-gray-900 py-2",children:e.businessNumber})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\ub300\ud45c\uc790\uba85 ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),m?(0,d.jsx)("input",{type:"text",name:"representative",value:h.representative,onChange:w,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):(0,d.jsx)("p",{className:"text-gray-900 py-2",children:e.representative})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\uc804\ud654\ubc88\ud638 ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),m?(0,d.jsx)("input",{type:"tel",name:"phone",value:h.phone,onChange:w,placeholder:"02-0000-0000",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):(0,d.jsx)("p",{className:"text-gray-900 py-2",children:e.phone})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uc774\uba54\uc77c"}),m?(0,d.jsx)("input",{type:"email",name:"email",value:h.email,onChange:w,placeholder:"info@company.com",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,d.jsx)("p",{className:"text-gray-900 py-2",children:e.email||"-"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\uc8fc\uc18c ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),m?(0,d.jsx)("input",{type:"text",name:"address",value:h.address,onChange:w,placeholder:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c 123",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):(0,d.jsx)("p",{className:"text-gray-900 py-2",children:e.address})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uacc4\uc88c\ubc88\ud638"}),m?(0,d.jsx)("input",{type:"text",name:"bankAccount",value:h.bankAccount,onChange:w,placeholder:"\uc740\ud589\uba85 000-000-000000",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,d.jsx)("p",{className:"text-gray-900 py-2",children:e.bankAccount||"-"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uc608\uae08\uc8fc\uba85"}),m?(0,d.jsx)("input",{type:"text",name:"accountHolder",value:h.accountHolder,onChange:w,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,d.jsx)("p",{className:"text-gray-900 py-2",children:e.accountHolder||"-"})]})]})]}),(0,d.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("p",{className:"text-sm text-blue-700",children:"\uc5ec\uae30\uc11c \uc124\uc815\ud55c \uc815\ubcf4\ub294 \uc0dd\uc131\ub418\ub294 \ubaa8\ub4e0 \uccad\uad6c\uc11c\uc5d0 \uc790\ub3d9\uc73c\ub85c \ud3ec\ud568\ub429\ub2c8\ub2e4. \uc815\ud655\ud55c \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})})]})})]})]}),(0,d.jsxs)("div",{className:"flex-1 bg-white rounded-lg shadow flex flex-col",children:[(0,d.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-100",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\uc2dc\uc2a4\ud15c \uc124\uc815"}),(0,d.jsx)("div",{className:"h-10"})]}),(0,d.jsx)("div",{className:"p-6 flex-1",children:(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\ub2e8\uc704 \uad00\ub9ac"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),placeholder:"\uc0c8 \ub2e8\uc704 \uc785\ub825",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",onKeyPress:e=>"Enter"===e.key&&k()}),(0,d.jsx)("button",{onClick:k,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm",children:"\ucd94\uac00"})]}),(0,d.jsx)("div",{className:"border border-gray-200 rounded-md max-h-48 overflow-y-auto",children:(0,d.jsx)("div",{className:"p-2",children:s.map((e,t)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[(0,d.jsx)("span",{className:"text-gray-900 text-sm",children:e}),(0,d.jsx)("button",{onClick:()=>(e=>{window.confirm("'".concat(e,"' \ub2e8\uc704\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&(l(t=>t.filter(t=>t!==e)),alert("\ub2e8\uc704\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))})(e),className:"text-red-600 hover:text-red-800 text-xs",children:"\uc0ad\uc81c"})]},t))})})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\uce74\ud14c\uace0\ub9ac \uad00\ub9ac"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("input",{type:"text",value:f,onChange:e=>j(e.target.value),placeholder:"\uc0c8 \uce74\ud14c\uace0\ub9ac \uc785\ub825",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",onKeyPress:e=>"Enter"===e.key&&I()}),(0,d.jsx)("button",{onClick:I,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-md text-sm",children:"\ucd94\uac00"})]}),(0,d.jsx)("div",{className:"border border-gray-200 rounded-md max-h-48 overflow-y-auto",children:(0,d.jsx)("div",{className:"p-2",children:a.map((e,t)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[(0,d.jsx)("span",{className:"text-gray-900 text-sm",children:e}),(0,d.jsx)("button",{onClick:()=>(e=>{window.confirm("'".concat(e,"' \uce74\ud14c\uace0\ub9ac\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&(r(t=>t.filter(t=>t!==e)),alert("\uce74\ud14c\uace0\ub9ac\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))})(e),className:"text-red-600 hover:text-red-800 text-xs",children:"\uc0ad\uc81c"})]},t))})})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\ub3c4\uc7a5 \uc774\ubbf8\uc9c0 \uad00\ub9ac"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,d.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsxs)("div",{className:"mt-4",children:[(0,d.jsxs)("label",{htmlFor:"stamp-image",className:"cursor-pointer",children:[(0,d.jsx)("span",{className:"block text-sm font-medium text-gray-900",children:"\ub3c4\uc7a5 \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc"}),(0,d.jsx)("span",{className:"block text-sm text-gray-500 mt-1",children:"PNG, JPG \ud30c\uc77c\ub9cc \uc9c0\uc6d0 (\ucd5c\ub300 2MB)"})]}),(0,d.jsx)("input",{id:"stamp-image",ref:N,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))try{if(t.size>5242880)return void alert("\uc774\ubbf8\uc9c0 \ud30c\uc77c \ud06c\uae30\ub294 5MB\ub97c \ucd08\uacfc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");const e=await(e=>new Promise((t,s)=>{const n=new FileReader;n.onload=e=>t(e.target.result),n.onerror=e=>s(e),n.readAsDataURL(e)}))(t),s=(e=>{try{return localStorage.setItem(V,e),console.log("\ub3c4\uc7a5 \uc774\ubbf8\uc9c0\uac00 localStorage\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),!0}catch(t){return console.error("\ub3c4\uc7a5 \uc774\ubbf8\uc9c0 \uc800\uc7a5 \uc2e4\ud328:",t),!1}})(e);s?(x(e),alert("\ub3c4\uc7a5 \uc774\ubbf8\uc9c0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),console.log("\uc800\uc7a5\uc18c \uc0ac\uc6a9\ub7c9:",Y())):alert("\uc774\ubbf8\uc9c0 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ud30c\uc77c \ud06c\uae30\ub97c \uc904\uc5ec\uc8fc\uc138\uc694.")}catch(s){console.error("\uc774\ubbf8\uc9c0 \ucc98\ub9ac \uc624\ub958:",s),alert("\uc774\ubbf8\uc9c0 \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}else alert("\uc774\ubbf8\uc9c0 \ud30c\uc77c\ub9cc \uc5c5\ub85c\ub4dc \uac00\ub2a5\ud569\ub2c8\ub2e4.")},className:"hidden"})]}),(0,d.jsx)("button",{onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},className:"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm",children:"\ud30c\uc77c \uc120\ud0dd"})]})})}),(0,d.jsxs)("div",{className:"space-y-4",children:[o?(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"\ubbf8\ub9ac\ubcf4\uae30"}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("div",{className:"w-24 h-24 border border-gray-200 rounded-lg overflow-hidden",children:(0,d.jsx)("img",{src:o,alt:"\ub3c4\uc7a5 \ubbf8\ub9ac\ubcf4\uae30",className:"w-full h-full object-contain"})}),(0,d.jsx)("button",{onClick:()=>{if(window.confirm("\ub3c4\uc7a5 \uc774\ubbf8\uc9c0\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){(()=>{try{return localStorage.removeItem(V),console.log("\ub3c4\uc7a5 \uc774\ubbf8\uc9c0\uac00 localStorage\uc5d0\uc11c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),!0}catch(e){return console.error("\ub3c4\uc7a5 \uc774\ubbf8\uc9c0 \uc0ad\uc81c \uc2e4\ud328:",e),!1}})()?(x(null),N.current&&(N.current.value=""),alert("\ub3c4\uc7a5 \uc774\ubbf8\uc9c0\uac00 \uc644\uc804\ud788 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),console.log("\uc800\uc7a5\uc18c \uc0ac\uc6a9\ub7c9:",Y())):alert("\uc774\ubbf8\uc9c0 \uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded text-sm",children:"\uc0ad\uc81c"})]})]}):(0,d.jsx)("div",{className:"text-center text-gray-500 py-8",children:(0,d.jsx)("p",{className:"text-sm",children:"\uc5c5\ub85c\ub4dc\ub41c \uc774\ubbf8\uc9c0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"})}),(0,d.jsx)("div",{className:"p-4 bg-yellow-50 rounded-lg",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("p",{className:"text-sm text-yellow-700",children:"\uc5c5\ub85c\ub4dc\ub41c \ub3c4\uc7a5 \uc774\ubbf8\uc9c0\ub294 \uccad\uad6c\uc11c \uc0dd\uc131 \uc2dc \uc790\ub3d9\uc73c\ub85c \ud3ec\ud568\ub429\ub2c8\ub2e4. \uc120\uba85\ud558\uace0 \ud22c\uba85 \ubc30\uacbd\uc758 \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."})})]})}),(0,d.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("svg",{className:"h-4 w-4 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,d.jsx)("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})})}),(0,d.jsx)("div",{className:"ml-2",children:(0,d.jsxs)("p",{className:"text-xs text-blue-700",children:["\uc800\uc7a5\uc18c \uc0ac\uc6a9\ub7c9: ",y.used," | \ub3c4\uc7a5 \uc774\ubbf8\uc9c0: ",y.stampImageSize]})})]})})]})]})]})]})})]})]})]})};const G=function(){return(0,d.jsx)(v,{children:(0,d.jsx)(a.Kd,{children:(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)(q,{}),(0,d.jsx)("main",{children:(0,d.jsxs)(r.BV,{children:[(0,d.jsx)(r.qh,{path:"/",element:(0,d.jsx)(P,{})}),(0,d.jsx)(r.qh,{path:"/estimates",element:(0,d.jsx)(K,{})}),(0,d.jsx)(r.qh,{path:"/invoices",element:(0,d.jsx)(M,{})}),(0,d.jsx)(r.qh,{path:"/clients",element:(0,d.jsx)(U,{})}),(0,d.jsx)(r.qh,{path:"/work-items",element:(0,d.jsx)(H,{})}),(0,d.jsx)(r.qh,{path:"/company-info",element:(0,d.jsx)(J,{})})]})})]})})})};l.createRoot(document.getElementById("root")).render((0,d.jsx)(n.StrictMode,{children:(0,d.jsx)(G,{})}))}},t={};function s(n){var l=t[n];if(void 0!==l)return l.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.m=e,(()=>{var e=[];s.O=(t,n,l,a)=>{if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],l=e[c][1],a=e[c][2];for(var i=!0,d=0;d<n.length;d++)(!1&a||r>=a)&&Object.keys(s.O).every(e=>s.O[e](n[d]))?n.splice(d--,1):(i=!1,a<r&&(r=a));if(i){e.splice(c--,1);var o=l();void 0!==o&&(t=o)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,l,a]}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(n,l){if(1&l&&(n=this(n)),8&l)return n;if("object"===typeof n&&n){if(4&l&&n.__esModule)return n;if(16&l&&"function"===typeof n.then)return n}var a=Object.create(null);s.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&l&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>r[e]=()=>n[e]);return r.default=()=>n,s.d(a,r),a}})(),s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var l,a,r=n[0],i=n[1],d=n[2],o=0;if(r.some(t=>0!==e[t])){for(l in i)s.o(i,l)&&(s.m[l]=i[l]);if(d)var c=d(s)}for(t&&t(n);o<r.length;o++)a=r[o],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},n=self.webpackChunkconstruction_management_frontend=self.webpackChunkconstruction_management_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=s.O(void 0,[96],()=>s(721));n=s.O(n)})();
//# sourceMappingURL=main.7dea0479.js.map